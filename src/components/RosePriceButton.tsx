import {
  Box,
  Button,
  Flex,
  Icon,
  Menu,
  MenuButton,
  MenuDivider,
  MenuGroup,
  MenuItem,
  MenuList,
  Radio,
  RadioGroup,
  Spinner,
  Stack,
  Stat,
  StatArrow,
  StatGroup,
  StatNumber,
  Text,
  useColorModeValue,
} from "@chakra-ui/react"
import { ROSE, RUSD, SROSE, TRANSACTION_TYPES } from "../constants"
import React, { ReactElement, useState } from "react"
import { AppState } from "../state"
import { BsClock } from "react-icons/bs"
import LineChart from "./LineChart"
import useAddTokenToMetamask from "../hooks/useAddTokenToMetamask"
import { useSelector } from "react-redux"

export default function RosePriceButton(): ReactElement {
  const { stakeStats, rosePriceHistory, lastTransactionTimes } = useSelector(
    (state: AppState) => state.application,
  )
  const { priceOfRose } = { ...stakeStats }
  const addRoseToken = useAddTokenToMetamask(ROSE)
  const addStRoseToken = useAddTokenToMetamask(SROSE)
  const addRusdToken = useAddTokenToMetamask(RUSD)
  const [timeUnit, setTimeUnit] = useState("hour")
  const priceChartLastUpdate = Math.round(
    (Date.now() - lastTransactionTimes[TRANSACTION_TYPES.ROSE_PRICE]) /
      1000 /
      60,
  )
  const formattedPriceData =
    timeUnit === "hour" && rosePriceHistory
      ? rosePriceHistory.slice(-rosePriceHistory.length / 6)
      : rosePriceHistory
  const priceChange = formattedPriceData
    ? ((formattedPriceData[formattedPriceData.length - 1].price -
        formattedPriceData[0].price) /
        formattedPriceData[0].price) *
      100
    : 0

  return (
    <div style={{ marginRight: "10px" }}>
      <Menu isLazy>
        <MenuButton
          variant="outline"
          lineHeight="unset"
          whiteSpace="nowrap"
          as={Button}
          fontSize={{ base: "13px", md: "16px" }}
          leftIcon={
            <Icon viewBox="21 15 22 22">
              <g filter="url(#filter0_d_15_3228)">
                <path
                  d="M23.9267 16.3259C25.7643 16.1335 27.6974 17.3869 27.6974 17.3869L28.3426 17.8133C27.5376 18.2788 25.6193 19.4329 24.0836 20.7232C22.793 18.1526 22.6964 16.4557 23.9267 16.3259Z"
                  fill="url(#paint0_linear_15_3228)"
                />
                <g style={{ mixBlendMode: "soft-light" }}>
                  <path
                    d="M29.5899 18.0928C29.5899 18.0928 23.2985 14.6395 22.9834 18.8558C22.6964 22.7867 24.6222 23.7626 24.8125 23.1172C25.0028 22.4719 27.9662 18.2539 29.5899 18.0928Z"
                    fill="#0B111D"
                    fillOpacity="0.7"
                  />
                </g>
                <path
                  d="M36.8471 24.2198C38.1238 22.0086 37.2545 19.9342 34.4744 16.4309C32.5906 14.0496 27.7304 13.3854 25.5056 19.6023C23.2809 25.8191 35.1299 27.1849 36.8471 24.2198Z"
                  fill="url(#paint1_linear_15_3228)"
                />
                <path
                  style={{ mixBlendMode: "multiply" }}
                  d="M35.65 19.9773C35.3174 18.8725 34.7046 17.2895 32.6195 16.4155C30.5344 15.5415 27.7005 15.9086 25.4701 19.6558C23.2396 23.4031 37.246 25.2808 35.65 19.9773Z"
                  fill="url(#paint2_radial_15_3228)"
                />
                <path
                  d="M33.3035 19.6149C34.4966 18.4957 37.0092 19.6206 39.6718 20.9801C40.7902 21.5504 41.5061 22.509 41.4244 23.6559C41.3117 25.2441 38.4184 29.415 34.1993 33.1194C27.8099 37.7018 31.6939 29.3331 32.3052 27.4849C32.9165 25.6367 31.8572 20.9729 33.3035 19.6149Z"
                  fill="url(#paint3_linear_15_3228)"
                />
                <path
                  style={{ mixBlendMode: "multiply" }}
                  d="M33.3032 19.6149C33.6419 19.2975 34.0856 19.1606 34.61 19.1577C38.0774 20.4165 41.926 22.5429 40.2612 25.8722C39.3096 27.7757 35.3663 31.4413 35.3663 31.4413C35.3663 31.4413 33.0323 21.7094 32.9417 20.1156C33.0325 19.9291 33.1548 19.7597 33.3032 19.6149Z"
                  fill="url(#paint4_radial_15_3228)"
                />
                <path
                  d="M37.2088 22.8779C37.7422 21.954 36.225 20.0778 33.8183 18.6882C31.4115 17.2987 29.0271 16.9223 28.4937 17.8462C28.1987 18.3571 28.7854 19.2424 28.84 19.8164C29.063 22.1907 26.112 25.1544 26.1372 27.2583C26.7088 25.1934 28.5575 23.1428 29.5526 22.3388C30.3887 21.6637 31.801 22.0941 32.7782 22.5048C34.7462 23.4472 36.7191 23.726 37.2088 22.8779Z"
                  fill="url(#paint5_linear_15_3228)"
                />
                <g style={{ mixBlendMode: "soft-light" }}>
                  <path
                    d="M35.1023 19.8405C35.1023 19.8405 37.1213 21.7668 36.4339 23.3382C35.3483 23.5447 33.781 22.9858 32.7701 22.5031C32.2024 22.2629 31.4876 22.0198 30.8247 21.9885C31.4743 20.1112 32.7466 18.1304 35.1023 19.8405Z"
                    fill="#0B111D"
                  />
                </g>
                <path
                  d="M31.6583 19.669C32.3686 20.4749 32.2788 21.4732 32.0384 22.2309C32.2273 22.2915 32.41 22.358 32.5823 22.4265C33.1702 22.0605 33.9574 21.7907 34.8381 22.0622C35.6243 22.3048 36.1466 21.1888 35.1064 19.8423C34.0661 18.4959 33.1949 17.6833 31.8977 17.0905C30.6006 16.4978 29.8728 17.6446 31.6583 19.669Z"
                  fill="url(#paint6_linear_15_3228)"
                />
                <path
                  d="M32.582 22.4267C33.17 22.0607 33.9571 21.7909 34.8378 22.0624C34.9807 22.1145 35.1383 22.1097 35.2783 22.0491C35.4182 21.9884 35.5299 21.8765 35.5904 21.7363C35.3439 22.2531 35.0572 22.7497 34.7329 23.2215C33.9937 23.0207 33.274 22.7547 32.582 22.4267Z"
                  fill="url(#paint7_linear_15_3228)"
                />
                <path
                  d="M30.9163 17.0144C30.3912 17.2901 30.4243 18.2705 31.6611 19.6711C32.3714 20.477 32.2816 21.4752 32.0412 22.233C32.1557 22.2668 30.4645 21.6068 29.5555 22.3407C28.5565 23.1425 26.7141 25.1913 26.1401 27.2603C26.115 25.1564 29.0659 22.1927 28.843 19.8184C28.812 19.6003 28.7553 19.3868 28.674 19.1824C29.4521 18.0901 30.5748 17.1322 30.9163 17.0144Z"
                  fill="url(#paint8_linear_15_3228)"
                />
                <path
                  d="M32.554 18.9603C32.0587 18.5854 30.9897 17.9898 30.8195 18.461C31.0428 18.9003 31.3249 19.3068 31.658 19.6694C31.9486 19.9941 32.135 20.3991 32.1932 20.8319C32.9753 21.3346 33.6899 21.49 33.996 21.3033C34.3681 21.0698 33.9269 19.9952 32.554 18.9603Z"
                  fill="url(#paint9_linear_15_3228)"
                />
                <path
                  d="M32.1893 20.8296C32.9715 21.3323 33.686 21.4877 33.9922 21.301C34.1144 21.2262 34.1496 21.0607 34.0953 20.8368C34.1342 20.9261 34.152 21.0233 34.1473 21.1207C34.1427 21.2182 34.1157 21.3134 34.0684 21.3988C33.9535 21.6065 33.8241 21.8057 33.6812 21.9952C33.2925 22.0692 32.9212 22.2167 32.5872 22.4297C32.4149 22.3613 32.2321 22.2948 32.0433 22.2342C32.3242 21.2763 32.186 20.8075 32.1893 20.8296Z"
                  fill="url(#paint10_linear_15_3228)"
                />
                <path
                  d="M33.9185 21.1277C34.0408 21.0529 34.1485 21.0602 34.0942 20.8363C34.0942 20.8363 34.2315 21.209 34.0138 21.354C33.7104 21.5544 32.9959 21.399 32.2015 20.8919C32.1987 20.8709 32.1946 20.8501 32.1892 20.8296C32.9764 21.3352 33.6144 21.3155 33.9185 21.1277Z"
                  fill="white"
                />
                <g style={{ mixBlendMode: "soft-light" }}>
                  <g style={{ mixBlendMode: "multiply" }}>
                    <path
                      d="M28.4937 17.8467C28.3115 18.7148 29.2952 18.9866 29.5312 19.9454C29.7671 20.9042 29.0715 21.5473 28.579 22.6859C31.1759 19.0493 32.3206 22.8012 35.3287 23.3371C34.6241 23.2203 33.9366 23.0178 33.2816 22.734C32.8061 22.5336 30.673 21.434 29.5525 22.3393C28.527 23.2147 27.6501 24.2512 26.9563 25.4082C26.8797 25.3432 26.807 25.2738 26.7385 25.2003C27.5827 23.4502 28.9966 21.4865 28.84 19.8169C28.7854 19.2429 28.1987 18.3576 28.4937 17.8467Z"
                      fill="#0B111D"
                      fillOpacity="0.7"
                    />
                  </g>
                </g>
                <path
                  d="M37.3095 22.5502C37.1623 24.0659 34.2857 23.2277 32.7768 22.5073C31.8007 22.0945 30.3872 21.6662 29.5523 22.3392C28.5532 23.141 26.7108 25.1898 26.1369 27.2588C26.1117 25.1549 29.0627 22.1912 28.8397 19.8169C28.7834 19.2459 28.1984 18.3575 28.4934 17.8466C28.5526 17.747 28.6327 17.6614 28.7281 17.5957C28.7281 17.5957 23.313 20.5625 22.1246 22.9202C21.0554 24.7722 20.7624 26.9713 21.3103 29.0337C21.8581 31.0961 23.2018 32.8528 25.0458 33.9174C26.8898 34.9821 29.083 35.2674 31.143 34.7106C33.203 34.1539 34.961 32.8006 36.0302 30.9486C37.4789 28.7412 37.3095 22.5502 37.3095 22.5502Z"
                  fill="url(#paint11_linear_15_3228)"
                />
                <g style={{ mixBlendMode: "soft-light" }}>
                  <path
                    d="M31.905 25.8884C30.8251 23.3963 25.4664 23.0892 23.4409 19.6069C23.1741 21.3646 21.9996 24.3321 21.6633 27.5614C21.4958 29.7089 22.9417 31.0284 23.969 31.5219C25.1132 32.0707 25.5508 32.1834 26.3648 32.0691C28.426 31.7796 33.1949 28.8733 31.905 25.8884Z"
                    fill="#0B111D"
                    fillOpacity="0.7"
                  />
                </g>
                <g style={{ mixBlendMode: "soft-light" }}>
                  <path
                    d="M39.4339 25.933C39.4339 25.933 36.7979 23.9979 34.3115 25.3908C31.825 26.7837 31.9393 30.5815 28.7407 32.437C25.5422 34.2925 37.6024 32.9383 39.4339 25.933Z"
                    fill="#0B111D"
                    fillOpacity="0.7"
                  />
                </g>
                <path
                  d="M41.4284 23.6583C40.4308 27.708 35.5224 24.9818 33.0089 28.4903C30.0942 32.5519 25.7935 34.1794 22.8704 32.073C24.4125 33.9408 26.3765 34.5034 26.3765 34.5034C27.5009 34.8808 28.6957 35.004 29.8752 34.864C31.0546 34.7241 32.1896 34.3246 33.1987 33.6941C33.4645 33.5217 33.701 33.358 33.8914 33.2095C35.3102 32.1008 37.7586 29.4945 39.3799 27.3342C41.0011 25.1738 41.4468 23.782 41.4284 23.6583Z"
                  fill="white"
                />
                <path
                  d="M41.2157 24.054C40.2267 27.9872 35.6485 25.4489 33.2046 28.8672C30.373 32.8259 25.4504 33.9552 22.6583 31.9355C24.1345 33.795 26.7868 34.7458 26.7868 34.7458C27.8641 35.1031 29.0109 35.2134 30.145 35.0689C31.2791 34.9243 32.3724 34.5284 33.3466 33.9096C33.6031 33.7405 33.8316 33.5801 34.0156 33.4346C35.387 32.3492 37.7587 29.8042 39.3325 27.6977C40.9063 25.5913 41.2324 24.1738 41.2157 24.054Z"
                  fill="url(#paint12_linear_15_3228)"
                />
                <path
                  d="M21.4885 24.5117C21.4414 24.6421 21.3936 24.7922 21.347 24.9564L21.3581 24.9628C21.0427 26.1744 21.0123 27.4418 21.2694 28.6649C21.5265 29.8881 22.0641 31.0336 22.8396 32.0109C23.4468 32.7748 26.1777 32.7925 28.4884 31.0262C30.1194 29.7775 32.7449 26.9853 29.3935 25.2793C26.4677 23.7906 24.7521 22.3787 23.9847 20.3902C23.1753 18.7113 22.8677 17.2682 23.3088 16.6343C23.3088 16.6343 22.9048 17.1994 22.8268 18.6555C22.7489 20.1115 22.0318 23.0322 21.4885 24.5117Z"
                  fill="white"
                />
                <path
                  d="M21.2716 24.5771C21.226 24.7039 21.1799 24.8499 21.1349 25.0097L21.1458 25.016C20.842 26.195 20.8174 27.4296 21.0741 28.6223C21.3308 29.8149 21.8617 30.9331 22.6249 31.8883C23.2225 32.635 25.8959 32.6635 28.1507 30.9521C29.7422 29.7424 32.3009 27.0329 29.0132 25.3572C26.1429 23.895 24.4577 22.5125 23.6983 20.5721C22.8991 18.9332 22.8829 17.2757 23.3121 16.66C23.3121 16.66 22.6271 17.4586 22.5577 18.8774C22.4884 20.2961 21.7974 23.1379 21.2716 24.5771Z"
                  fill="url(#paint13_linear_15_3228)"
                />
                <path
                  d="M29.4571 22.6535C28.7614 23.2427 28.2304 23.5947 27.6861 24.3265L27.675 24.3201C28.234 23.5591 28.8802 22.8662 29.6001 22.2558C30.4356 21.5817 31.8485 22.0111 32.8246 22.4239C34.1697 23.0658 36.6015 23.7967 37.2172 22.8813C36.6935 23.9252 34.2886 23.5427 32.9052 22.8813C31.9296 22.4675 30.2932 21.9785 29.4571 22.6535Z"
                  fill="white"
                />
                <path
                  d="M27.3137 24.0943C28.0977 22.6528 28.6393 21.1511 28.519 19.827C28.4627 19.2559 28.2025 18.3595 28.4975 17.8486C28.5045 17.8365 28.512 17.8234 28.519 17.8113C28.2831 18.3267 28.8372 19.1756 28.8857 19.73C29.0119 21.0832 28.1097 22.6274 27.3137 24.0943Z"
                  fill="#EFD8DE"
                />
                <path
                  d="M31.8977 17.091C32.136 17.199 32.3682 17.32 32.5932 17.4535C32.3799 17.3284 32.1604 17.2142 31.9355 17.1114C30.6621 16.531 29.9387 17.6656 31.6895 19.6619C32.3864 20.456 32.2949 21.4411 32.0559 22.1917C32.2402 22.2509 32.42 22.3157 32.5892 22.3824C33.1702 22.0192 33.9454 21.7492 34.8119 22.0152C35.5838 22.2522 35.3274 20.8928 34.7404 19.7188C34.508 19.2539 34.5237 19.12 34.252 18.8244C34.5316 19.1272 34.8133 19.4635 35.1078 19.8449C36.1511 21.1931 35.6183 22.4342 34.8321 22.1917C33.95 21.918 33.1714 22.0589 32.5823 22.4269C32.41 22.3584 32.2272 22.2919 32.0384 22.2314C32.2788 21.4736 31.9287 20.5247 31.2184 19.7188C29.4329 17.6944 30.5992 16.496 31.8977 17.091Z"
                  fill="white"
                />
              </g>
              <defs>
                <filter
                  id="filter0_d_15_3228"
                  x="0.898193"
                  y="0.72168"
                  width="60.5325"
                  height="60.4089"
                  filterUnits="userSpaceOnUse"
                  colorInterpolationFilters="sRGB"
                >
                  <feFlood floodOpacity="0" result="BackgroundImageFix" />
                  <feColorMatrix
                    in="SourceAlpha"
                    type="matrix"
                    values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
                    result="hardAlpha"
                  />
                  <feOffset dy="6" />
                  <feGaussianBlur stdDeviation="10" />
                  <feComposite in2="hardAlpha" operator="out" />
                  <feColorMatrix
                    type="matrix"
                    values="0 0 0 0 0.862745 0 0 0 0 0.2 0 0 0 0 0.0941176 0 0 0 0.3 0"
                  />
                  <feBlend
                    mode="normal"
                    in2="BackgroundImageFix"
                    result="effect1_dropShadow_15_3228"
                  />
                  <feBlend
                    mode="normal"
                    in="SourceGraphic"
                    in2="effect1_dropShadow_15_3228"
                    result="shape"
                  />
                </filter>
                <linearGradient
                  id="paint0_linear_15_3228"
                  x1="26.0178"
                  y1="21.8399"
                  x2="22.6349"
                  y2="20.9892"
                  gradientUnits="userSpaceOnUse"
                >
                  <stop stopColor="#F14226" />
                  <stop offset="1" stopColor="#FF6D40" />
                </linearGradient>
                <linearGradient
                  id="paint1_linear_15_3228"
                  x1="34.395"
                  y1="28.4671"
                  x2="26.0088"
                  y2="26.5512"
                  gradientUnits="userSpaceOnUse"
                >
                  <stop stopColor="#F14226" />
                  <stop offset="1" stopColor="#FF6D40" />
                </linearGradient>
                <radialGradient
                  id="paint2_radial_15_3228"
                  cx="0"
                  cy="0"
                  r="1"
                  gradientUnits="userSpaceOnUse"
                  gradientTransform="translate(30.6993 20.6421) rotate(-150) scale(4.82679 4.84776)"
                >
                  <stop stopColor="#BF2245" />
                  <stop offset="0.21" stopColor="#CB4D69" />
                  <stop offset="0.67" stopColor="#EAB8C3" />
                  <stop offset="0.97" stopColor="white" />
                </radialGradient>
                <linearGradient
                  id="paint3_linear_15_3228"
                  x1="34.4502"
                  y1="36.3719"
                  x2="28.0908"
                  y2="33.9384"
                  gradientUnits="userSpaceOnUse"
                >
                  <stop stopColor="#F14226" />
                  <stop offset="1" stopColor="#FF6D40" />
                </linearGradient>
                <radialGradient
                  id="paint4_radial_15_3228"
                  cx="0"
                  cy="0"
                  r="1"
                  gradientUnits="userSpaceOnUse"
                  gradientTransform="translate(37.2653 26.7893) rotate(-150) scale(4.33691 4.35575)"
                >
                  <stop stopColor="#BF2245" />
                  <stop offset="0.26" stopColor="#CF4D68" />
                  <stop offset="0.84" stopColor="#F6B8C0" />
                  <stop offset="0.97" stopColor="#FFD1D5" />
                </radialGradient>
                <linearGradient
                  id="paint5_linear_15_3228"
                  x1="35.2876"
                  y1="27.656"
                  x2="33.2325"
                  y2="21.1571"
                  gradientUnits="userSpaceOnUse"
                >
                  <stop stopColor="#FF7262" />
                  <stop offset="1" stopColor="#F31808" />
                </linearGradient>
                <linearGradient
                  id="paint6_linear_15_3228"
                  x1="35.7254"
                  y1="22.4443"
                  x2="30.0427"
                  y2="19.4577"
                  gradientUnits="userSpaceOnUse"
                >
                  <stop stopColor="#FF7262" />
                  <stop offset="1" stopColor="#F31808" />
                </linearGradient>
                <linearGradient
                  id="paint7_linear_15_3228"
                  x1="34.5686"
                  y1="23.5736"
                  x2="33.0062"
                  y2="23.1951"
                  gradientUnits="userSpaceOnUse"
                >
                  <stop stopColor="#F14226" />
                  <stop offset="1" stopColor="#FF6D40" />
                </linearGradient>
                <linearGradient
                  id="paint8_linear_15_3228"
                  x1="28.3937"
                  y1="28.5614"
                  x2="25.4413"
                  y2="27.2513"
                  gradientUnits="userSpaceOnUse"
                >
                  <stop stopColor="#F14226" />
                  <stop offset="1" stopColor="#FF6D40" />
                </linearGradient>
                <linearGradient
                  id="paint9_linear_15_3228"
                  x1="30.6033"
                  y1="20.2399"
                  x2="34.3171"
                  y2="19.5394"
                  gradientUnits="userSpaceOnUse"
                >
                  <stop stopColor="#FF7262" />
                  <stop offset="1" stopColor="#F31808" />
                </linearGradient>
                <linearGradient
                  id="paint10_linear_15_3228"
                  x1="33.2011"
                  y1="22.9027"
                  x2="31.899"
                  y2="22.504"
                  gradientUnits="userSpaceOnUse"
                >
                  <stop stopColor="#F14226" />
                  <stop offset="1" stopColor="#FF6D40" />
                </linearGradient>
                <linearGradient
                  id="paint11_linear_15_3228"
                  x1="32.003"
                  y1="37.9342"
                  x2="21.0528"
                  y2="35.0324"
                  gradientUnits="userSpaceOnUse"
                >
                  <stop stopColor="#F14226" />
                  <stop offset="1" stopColor="#FF6D40" />
                </linearGradient>
                <linearGradient
                  id="paint12_linear_15_3228"
                  x1="33.1686"
                  y1="38.5968"
                  x2="24.731"
                  y2="35.7563"
                  gradientUnits="userSpaceOnUse"
                >
                  <stop stopColor="#F14226" />
                  <stop offset="1" stopColor="#FF6D40" />
                </linearGradient>
                <linearGradient
                  id="paint13_linear_15_3228"
                  x1="26.9235"
                  y1="34.4337"
                  x2="18.7233"
                  y2="31.9934"
                  gradientUnits="userSpaceOnUse"
                >
                  <stop stopColor="#F14226" />
                  <stop offset="1" stopColor="#FF6D40" />
                </linearGradient>
              </defs>
            </Icon>
          }
        >
          {priceOfRose ? `$${Number(priceOfRose).toFixed(3)}` : "-"}
        </MenuButton>
        <MenuList bg={useColorModeValue("#fff", "rgb(28, 29, 33)")}>
          <Box p="5px" textAlign="center" height="100%">
            {formattedPriceData ? (
              <>
                <RadioGroup value={timeUnit} onChange={setTimeUnit}>
                  <Stack spacing={5} direction="row" p="10px">
                    <Text>Rose Price Chart</Text>
                    <Radio colorScheme="green" value="hour">
                      24h
                    </Radio>
                    <Radio colorScheme="green" value="day">
                      7d
                    </Radio>
                  </Stack>
                </RadioGroup>
                <Box height="10.5rem">
                  <LineChart
                    chart={{
                      datasets: {
                        label: "ROSE 🌹 Price",
                        data: formattedPriceData.map(({ time, price }) => ({
                          x: time,
                          y: price,
                        })),
                      },
                      timeUnit,
                    }}
                  />
                </Box>
                <Flex justifyContent="space-between" p="10px" mt="2px">
                  <StatGroup>
                    <Stat>
                      <StatNumber fontSize="16px">
                        <StatArrow
                          type={priceChange > 0 ? "increase" : "decrease"}
                        />
                        {priceChange.toFixed(2)}%
                      </StatNumber>
                    </Stat>
                  </StatGroup>
                  <Flex
                    alignItems="center"
                    gridGap="5px"
                    color="var(--text-lighter)"
                    fontSize="12px"
                  >
                    <BsClock />
                    <Text as="span">
                      updated{" "}
                      {priceChartLastUpdate
                        ? `${priceChartLastUpdate} min ago`
                        : "just now"}{" "}
                    </Text>
                  </Flex>
                </Flex>
              </>
            ) : (
              <Spinner size="xl" color="#cc3a59" />
            )}
          </Box>
          <MenuDivider />
          <MenuGroup title="ROSE TOKEN">
            <MenuItem
              icon={
                <Icon viewBox="0 0 125 99" fill="none">
                  <g clipPath="url(#clip0)">
                    <path
                      d="M17.9456 95.4377C17.9456 87.5692 24.3639 81.1886 32.279 81.1886H42.1944C48.7998 81.1886 54.1389 86.5105 54.1389 93.0628C54.1389 96.339 51.4621 99 48.1666 99H21.5289C19.543 99 17.9456 97.412 17.9456 95.4377Z"
                      fill="#D0C5F8"
                    />
                    <path
                      fillRule="evenodd"
                      clipRule="evenodd"
                      d="M54.2684 93.2202C54.2684 93.163 54.2684 93.1201 54.2684 93.0628C54.2684 86.4962 48.915 81.1886 42.3239 81.1886H32.4085C31.2573 81.1886 30.1348 81.3173 29.0698 81.5748C35.9343 87.7409 44.6409 91.9183 54.2684 93.2202Z"
                      fill="#BBB3F4"
                    />
                    <path
                      d="M103.745 95.4377C103.745 87.5692 97.3262 81.1886 89.4112 81.1886H79.4958C72.8903 81.1886 67.5513 86.5105 67.5513 93.0628C67.5513 96.339 70.228 99 73.5235 99H100.176C102.133 99 103.745 97.412 103.745 95.4377Z"
                      fill="#D0C5F8"
                    />
                    <path
                      fillRule="evenodd"
                      clipRule="evenodd"
                      d="M34.2793 99C28.451 96.711 23.6588 92.3762 20.8094 86.8825C19.0105 89.2717 17.9456 92.2188 17.9456 95.4377C17.9456 97.412 19.5573 99 21.5289 99H34.2793Z"
                      fill="url(#paint0_linear)"
                    />
                    <path
                      fillRule="evenodd"
                      clipRule="evenodd"
                      d="M67.4218 93.2202C67.4218 93.163 67.4218 93.1201 67.4218 93.0628C67.4218 86.4962 72.7752 81.1886 79.3663 81.1886H89.2817C90.4329 81.1886 91.5554 81.3173 92.6204 81.5748C85.7415 87.7409 77.0349 91.9183 67.4218 93.2202Z"
                      fill="#BBB3F4"
                    />
                    <path
                      fillRule="evenodd"
                      clipRule="evenodd"
                      d="M87.3965 99C93.2248 96.711 98.017 92.3762 100.866 86.8825C102.665 89.2717 103.73 92.2188 103.73 95.4377C103.73 97.412 102.118 99 100.147 99H87.3965Z"
                      fill="url(#paint1_linear)"
                    />
                    <path
                      d="M60.8738 90.0156C85.8997 90.0156 106.162 69.8722 106.162 45.0078C106.162 20.1434 85.8566 0 60.8738 0C35.8479 0 15.571 20.1434 15.571 45.0078C15.571 69.8722 35.8479 90.0156 60.8738 90.0156Z"
                      fill="#DDD5FF"
                    />
                    <path
                      d="M60.8739 84.8653C83.0072 84.8653 100.982 67.011 100.982 45.0221C100.982 23.0333 83.0072 5.16461 60.8739 5.16461C38.7118 5.16461 20.7662 23.0189 20.7662 45.0078C20.7662 66.9967 38.7118 84.8653 60.8739 84.8653Z"
                      fill="#CBC1F7"
                    />
                    <path
                      d="M60.8163 79.3288C79.8699 79.3288 95.3546 63.978 95.3546 45.0078C95.3546 26.0376 79.8987 10.6869 60.8163 10.6869C41.7626 10.6869 26.278 26.0376 26.278 45.0078C26.278 63.978 41.7626 79.3288 60.8163 79.3288Z"
                      fill="url(#paint2_linear)"
                    />
                    <g style={{ mixBlendMode: "screen" }} opacity="0.1">
                      <path
                        d="M61.6836 75.1655C61.6836 75.1655 51.0517 75.3672 41.9064 67.373C32.5662 59.2805 33.7572 52.1444 33.7572 52.1444C33.7572 52.1444 39.3107 54.2183 44.4594 61.4069C49.6081 68.5955 56.1301 73.0916 61.6836 75.1655Z"
                        fill="url(#paint3_linear)"
                      />
                    </g>
                    <path
                      style={{ mixBlendMode: "screen" }}
                      opacity="0.5"
                      d="M34.1642 28.4696C33.5166 32.4754 41.2014 32.0033 53.3905 31.6314C68.1269 31.1592 82.9352 43.7488 91.5842 34.7215C92.9945 33.2337 78.9201 13.6626 61.838 14.0345C44.8711 14.4923 34.7254 24.936 34.1642 28.4696Z"
                      fill="url(#paint4_linear)"
                    />
                    <path
                      d="M75.0489 33.8774H73.1925C71.1346 33.8774 69.494 35.537 69.494 37.5542V49.7289C69.494 51.7747 71.1634 53.4056 73.1925 53.4056H75.0489C77.1068 53.4056 78.7474 51.7461 78.7474 49.7289V37.5542C78.7762 35.537 77.1068 33.8774 75.0489 33.8774Z"
                      fill="#200D67"
                    />
                    <path
                      d="M75.9412 35.7516H75.0489C74.5308 35.7516 74.0991 36.1665 74.0991 36.6958V39.0134C74.0991 39.5285 74.5165 39.9577 75.0489 39.9577H75.9412C76.4592 39.9577 76.891 39.5428 76.891 39.0134V36.6958C76.891 36.1808 76.4592 35.7516 75.9412 35.7516Z"
                      fill="#CEF2E7"
                    />
                    <path
                      d="M48.7855 34.0062H46.9291C44.8712 34.0062 43.2306 35.6658 43.2306 37.683V49.8577C43.2306 51.9035 44.8999 53.5344 46.9291 53.5344H48.7855C50.8434 53.5344 52.484 51.8749 52.484 49.8577V37.683C52.5128 35.6658 50.8434 34.0062 48.7855 34.0062Z"
                      fill="#200D67"
                    />
                    <path
                      d="M49.6777 35.8804H48.7855C48.2674 35.8804 47.8357 36.2953 47.8357 36.8246V39.1422C47.8357 39.6572 48.253 40.0864 48.7855 40.0864H49.6777C50.1958 40.0864 50.6275 39.6716 50.6275 39.1422V36.8246C50.5988 36.3096 50.1814 35.8804 49.6777 35.8804Z"
                      fill="#CEF2E7"
                    />
                    <path
                      fillRule="evenodd"
                      clipRule="evenodd"
                      d="M105.932 40.4298C105.687 38.7988 105.443 36.6815 105.069 35.0077C112.624 36.0949 108.465 35.4512 113.948 36.4526C116.754 37.1393 119.215 38.012 121.086 39.1994C122.971 40.3582 124.54 41.9892 124.914 44.1351C125.504 47.4113 123.1 50.3012 120.222 52.49C117.186 54.7934 112.825 57.0251 107.529 59.071C96.8801 63.2341 82.0286 66.9538 65.3782 69.3429C48.7567 71.7321 33.3295 72.3759 21.7736 71.446C16.0316 70.9738 11.0955 70.0869 7.4114 68.7707C3.92878 67.4688 0.647641 65.423 0.0863926 62.1468C-0.287773 60.0009 0.63325 58.0123 2.00039 56.3814C3.39632 54.7504 5.38227 53.1624 7.84313 51.7604C12.2899 49.2282 9.35418 50.6016 15.6718 47.7975C15.8157 49.6574 15.9884 51.2025 16.305 53.0337C11.9158 55.2369 14.1608 54.078 10.9372 55.9951C8.80732 57.2684 7.33944 58.4272 6.49038 59.4286C5.64131 60.4301 5.59814 61.0309 5.64131 61.3457C5.74205 61.8321 6.43281 62.9337 9.57005 64.0639C12.5202 65.1369 16.8519 65.9666 22.3348 66.4101C33.272 67.2971 48.2242 66.7249 64.5292 64.35C80.8342 62.0038 95.2395 58.3699 105.328 54.4357C110.393 52.4757 114.192 50.4585 116.639 48.6273C119.229 46.6673 119.503 45.437 119.416 44.9506C119.373 44.6358 119.1 44.0779 117.948 43.3626C116.812 42.6473 115.013 41.9606 112.537 41.3597C108.407 40.5871 111.789 41.2023 105.932 40.4298Z"
                      fill="#29E7F6"
                    />
                    <path
                      fillRule="evenodd"
                      clipRule="evenodd"
                      d="M24.8389 69.1283C24.8677 68.742 25.2418 68.4845 25.6592 68.4988C31.1278 68.8565 37.4598 68.8851 44.3962 68.4988C44.8136 68.4702 45.1733 68.7706 45.1877 69.1283C45.2165 69.5146 44.8855 69.815 44.497 69.8436C37.5173 70.2299 31.099 70.2299 25.5584 69.8436C25.1123 69.815 24.7957 69.4717 24.8389 69.1283ZM48.8143 68.8708C48.7855 68.4845 49.0877 68.1841 49.505 68.1412C50.1958 68.0982 50.901 68.0267 51.6205 67.9695C52.0378 67.9266 52.412 68.2127 52.4408 68.5704C52.484 68.9566 52.1674 69.2857 51.7644 69.3C51.0449 69.3715 50.3541 69.4144 49.6489 69.4717C49.2172 69.5289 48.843 69.2571 48.8143 68.8708Z"
                      fill="white"
                    />
                    <path
                      opacity="0.16"
                      fillRule="evenodd"
                      clipRule="evenodd"
                      d="M7.82874 51.7461C12.2755 49.2139 9.33979 50.5873 15.6574 47.7832C15.8013 49.6431 15.974 51.1882 16.2906 53.0194C11.9014 55.2225 14.1464 54.0637 10.9228 55.9808L7.82874 51.7461Z"
                      fill="black"
                    />
                    <path
                      opacity="0.16"
                      fillRule="evenodd"
                      clipRule="evenodd"
                      d="M112.509 41.3454C108.407 40.5871 111.789 41.2023 105.932 40.4298C105.687 38.7988 105.443 36.6815 105.068 35.0077C112.624 36.0949 108.465 35.4512 113.948 36.4526L112.509 41.3454Z"
                      fill="black"
                    />
                  </g>
                  <defs>
                    <linearGradient
                      id="paint0_linear"
                      x1="21.0995"
                      y1="86.673"
                      x2="26.6002"
                      y2="98.8131"
                      gradientUnits="userSpaceOnUse"
                    >
                      <stop stopColor="#ACA4F1" />
                      <stop offset="1" stopColor="#D3C9F9" stopOpacity="0.4" />
                    </linearGradient>
                    <linearGradient
                      id="paint1_linear"
                      x1="91.2907"
                      y1="86.3394"
                      x2="96.791"
                      y2="98.4795"
                      gradientUnits="userSpaceOnUse"
                    >
                      <stop stopColor="#ACA4F1" />
                      <stop offset="1" stopColor="#D3C9F9" stopOpacity="0.4" />
                    </linearGradient>
                    <linearGradient
                      id="paint2_linear"
                      x1="60.8174"
                      y1="10.6907"
                      x2="60.8174"
                      y2="79.3279"
                      gradientUnits="userSpaceOnUse"
                    >
                      <stop stopColor="#322F82" />
                      <stop offset="1" stopColor="#6366F1" />
                    </linearGradient>
                    <linearGradient
                      id="paint3_linear"
                      x1="42.9705"
                      y1="68.5365"
                      x2="48.3956"
                      y2="62.758"
                      gradientUnits="userSpaceOnUse"
                    >
                      <stop stopColor="#D4E2FF" />
                      <stop offset="1" />
                    </linearGradient>
                    <linearGradient
                      id="paint4_linear"
                      x1="34.099"
                      y1="25.9943"
                      x2="91.7154"
                      y2="25.9943"
                      gradientUnits="userSpaceOnUse"
                    >
                      <stop />
                      <stop offset="1" stopColor="#6A9BFF" />
                    </linearGradient>
                    <clipPath id="clip0">
                      <rect width="125" height="99" fill="white" />
                    </clipPath>
                  </defs>
                </Icon>
              }
              href="https://dex.nearpad.io/swap?outputCurrency=0xdcD6D4e2B3e1D1E1E6Fa8C21C8A323DcbecfF970"
              as="a"
              margin="0"
              target="_blank"
              rel="noreferrer"
              fontSize="13px"
            >
              Buy ROSE
            </MenuItem>
            <MenuItem
              icon={
                <Icon
                  width="1em"
                  height="1em"
                  fill={useColorModeValue("#000", "#fff")}
                  fillRule="evenodd"
                  viewBox="0 0 252 300"
                  focusable="false"
                >
                  <path d="M151.818 106.866c9.177-4.576 20.854-11.312 32.545-20.541 2.465 5.119 2.735 9.586 1.465 13.193-.9 2.542-2.596 4.753-4.826 6.512-2.415 1.901-5.431 3.285-8.765 4.033-6.326 1.425-13.712.593-20.419-3.197m1.591 46.886l12.148 7.017c-24.804 13.902-31.547 39.716-39.557 64.859-8.009-25.143-14.753-50.957-39.556-64.859l12.148-7.017a5.95 5.95 0 003.84-5.845c-1.113-23.547 5.245-33.96 13.821-40.498 3.076-2.342 6.434-3.518 9.747-3.518s6.671 1.176 9.748 3.518c8.576 6.538 14.934 16.951 13.821 40.498a5.95 5.95 0 003.84 5.845zM126 0c14.042.377 28.119 3.103 40.336 8.406 8.46 3.677 16.354 8.534 23.502 14.342 3.228 2.622 5.886 5.155 8.814 8.071 7.897.273 19.438-8.5 24.796-16.709-9.221 30.23-51.299 65.929-80.43 79.589-.012-.005-.02-.012-.029-.018-5.228-3.992-11.108-5.988-16.989-5.988s-11.76 1.996-16.988 5.988c-.009.005-.017.014-.029.018-29.132-13.66-71.209-49.359-80.43-79.589 5.357 8.209 16.898 16.982 24.795 16.709 2.929-2.915 5.587-5.449 8.814-8.071C69.31 16.94 77.204 12.083 85.664 8.406 97.882 3.103 111.959.377 126 0m-25.818 106.866c-9.176-4.576-20.854-11.312-32.544-20.541-2.465 5.119-2.735 9.586-1.466 13.193.901 2.542 2.597 4.753 4.826 6.512 2.416 1.901 5.432 3.285 8.766 4.033 6.326 1.425 13.711.593 20.418-3.197"></path>
                  <path d="M197.167 75.016c6.436-6.495 12.107-13.684 16.667-20.099l2.316 4.359c7.456 14.917 11.33 29.774 11.33 46.494l-.016 26.532.14 13.754c.54 33.766 7.846 67.929 24.396 99.193l-34.627-27.922-24.501 39.759-25.74-24.231L126 299.604l-41.132-66.748-25.739 24.231-24.501-39.759L0 245.25c16.55-31.264 23.856-65.427 24.397-99.193l.14-13.754-.016-26.532c0-16.721 3.873-31.578 11.331-46.494l2.315-4.359c4.56 6.415 10.23 13.603 16.667 20.099l-2.01 4.175c-3.905 8.109-5.198 17.176-2.156 25.799 1.961 5.554 5.54 10.317 10.154 13.953 4.48 3.531 9.782 5.911 15.333 7.161 3.616.814 7.3 1.149 10.96 1.035-.854 4.841-1.227 9.862-1.251 14.978L53.2 160.984l25.206 14.129a41.926 41.926 0 015.734 3.869c20.781 18.658 33.275 73.855 41.861 100.816 8.587-26.961 21.08-82.158 41.862-100.816a41.865 41.865 0 015.734-3.869l25.206-14.129-32.665-18.866c-.024-5.116-.397-10.137-1.251-14.978 3.66.114 7.344-.221 10.96-1.035 5.551-1.25 10.854-3.63 15.333-7.161 4.613-3.636 8.193-8.399 10.153-13.953 3.043-8.623 1.749-17.689-2.155-25.799l-2.01-4.175z"></path>
                </Icon>
              }
              href="https://dexscreener.com/aurora/0xc6c3cc84eabd4643c382c988fa2830657fc70a6b"
              as="a"
              margin="0"
              target="_blank"
              rel="noreferrer"
              fontSize="13px"
            >
              DexScreener
            </MenuItem>
            <MenuItem
              icon={
                <Icon viewBox="0 0 276 276" focusable="false">
                  <path
                    fill="#8dc63f"
                    d="M276,137.39A138,138,0,1,1,137.39,0h0A138,138,0,0,1,276,137.39Z"
                    transform="translate(0 0)"
                  />
                  <path
                    fill="#f9e988"
                    d="M265.65,137.44a127.63,127.63,0,1,1-128.21-127h0A127.65,127.65,0,0,1,265.65,137.44Z"
                    transform="translate(0 0)"
                  />
                  <path
                    fill="#fff"
                    d="M140.35,18.66a70.18,70.18,0,0,1,24.53,0,74.75,74.75,0,0,1,23.43,7.85c7.28,4,13.57,9.43,19.83,14.52s12.49,10.3,18.42,16a93.32,93.32,0,0,1,15.71,19,108.28,108.28,0,0,1,11,22.17c5.33,15.66,7.18,32.53,4.52,48.62H257c-2.67-15.95-6.29-31.15-12-45.61A177.51,177.51,0,0,0,235.56,80,209.1,209.1,0,0,0,223.14,60a72.31,72.31,0,0,0-16.64-16.8c-6.48-4.62-13.93-7.61-21.14-10.45S171,27,163.48,24.84s-15.16-3.78-23.14-5.35Z"
                    transform="translate(0 0)"
                  />
                  <path
                    fill="#8bc53f"
                    d="M202.74,92.39c-9.26-2.68-18.86-6.48-28.58-10.32-.56-2.44-2.72-5.48-7.09-9.19-6.35-5.51-18.28-5.37-28.59-2.93-11.38-2.68-22.62-3.63-33.41-1C16.82,93.26,66.86,152.57,34.46,212.19c4.61,9.78,54.3,66.84,126.2,51.53,0,0-24.59-59.09,30.9-87.45C236.57,153.18,269.09,110.46,202.74,92.39Z"
                    transform="translate(0 0)"
                  />
                  <path
                    fill="#fff"
                    d="M213.64,131.2a5.35,5.35,0,1,1-5.38-5.32A5.36,5.36,0,0,1,213.64,131.2Z"
                    transform="translate(0 0)"
                  />
                  <path
                    fill="#009345"
                    d="M138.48,69.91c6.43.46,29.68,8,35.68,12.12-5-14.5-21.83-16.43-35.68-12.12Z"
                    transform="translate(0 0)"
                  />
                  <path
                    fill="#fff"
                    d="M144.6,106.58a24.68,24.68,0,1,1-24.69-24.67h0a24.68,24.68,0,0,1,24.68,24.66Z"
                    transform="translate(0 0)"
                  />
                  <path
                    fill="#58595b"
                    d="M137.28,106.8a17.36,17.36,0,1,1-17.36-17.36h0A17.36,17.36,0,0,1,137.28,106.8Z"
                    transform="translate(0 0)"
                  />
                  <path
                    fill="#8bc53f"
                    d="M233.63,142.08c-20,14.09-42.74,24.78-75,24.78-15.1,0-18.16-16-28.14-8.18-5.15,4.06-23.31,13.14-37.72,12.45S55,162,48.49,131.23C45.91,162,44.59,184.65,33,210.62c23,36.83,77.84,65.24,127.62,53C155.31,226.27,188,189.69,206.34,171c7-7.09,20.3-18.66,27.29-28.91Z"
                    transform="translate(0 0)"
                  />
                  <path
                    fill="#58595b"
                    d="M232.85,143c-6.21,5.66-13.6,9.85-21.12,13.55a134.9,134.9,0,0,1-23.7,8.63c-8.16,2.11-16.67,3.7-25.29,2.92s-17.43-3.71-23.14-10.17l.27-.31c7,4.54,15.08,6.14,23.12,6.37a108.27,108.27,0,0,0,24.3-2,132.71,132.71,0,0,0,23.61-7.3c7.63-3.15,15.18-6.8,21.68-12Z"
                    transform="translate(0 0)"
                  />
                </Icon>
              }
              href="https://www.coingecko.com/en/coins/rose"
              as="a"
              margin="0"
              target="_blank"
              rel="noreferrer"
              fontSize="13px"
            >
              CoinGecko
            </MenuItem>
          </MenuGroup>
          <MenuDivider />
          <MenuGroup title="ADD TOKEN TO WALLET">
            <MenuItem
              onClick={async () => {
                await addRoseToken()
              }}
              icon={
                <Icon viewBox="0 0 180 150">
                  <text fontSize="180px" y="89%">
                    🌹
                  </text>
                </Icon>
              }
              fontSize="13px"
            >
              ROSE
            </MenuItem>
            <MenuItem
              icon={
                <Icon viewBox="0 0 180 150">
                  <text fontSize="180px" y="89%">
                    🌷
                  </text>
                </Icon>
              }
              onClick={async () => await addStRoseToken()}
              fontSize="13px"
            >
              stROSE
            </MenuItem>
            <MenuItem
              icon={
                <Icon viewBox="0 0 180 150">
                  <text fontSize="180px" y="89%">
                    🌹
                  </text>
                </Icon>
              }
              onClick={async () => await addRusdToken()}
              fontSize="13px"
            >
              RUSD
            </MenuItem>
          </MenuGroup>
        </MenuList>
      </Menu>
    </div>
  )
}
