{"version":3,"sources":["components/AdvancedOptions.module.scss","components/SupportedChains.module.scss","components/PendingSwapModal.module.scss","components/TokenInput.module.scss","components/PendingSwapExchange.module.scss","components/StakeForm.module.scss","components/PendingSwapTimeline.module.scss","components/FarmTabs.module.scss","components/FarmPage.module.scss","components/BottomMenu.module.scss","components/FarmFooter.module.scss","pages/Farm.module.scss","pages/Farms.module.scss","pages/Pools.module.scss","pages/Stake.module.scss","components/BackButton.module.scss","components/RosePriceButton.module.scss","components/Divider.module.scss","i18n.ts","connectors/index.ts","constants/index.ts","assets/icons/aleth.svg","assets/icons/alusd.svg","assets/icons/atust.svg","assets/icons/busd.svg","assets/icons/dai.svg","assets/icons/fei.svg","assets/icons/frax.svg","assets/icons/lusd.svg","assets/icons/metamask.svg","assets/icons/renbtc.svg","assets/icons/rose-atust.svg","assets/icons/rose-busd.svg","assets/icons/rose-frax.svg","assets/icons/rose.svg","assets/icons/srose.svg","assets/icons/logo_24.svg","assets/icons/sbtc.svg","assets/icons/seth.svg","assets/icons/susd.svg","assets/icons/tbtc.svg","assets/icons/usdc.svg","assets/icons/usdt.svg","assets/icons/veth2.svg","assets/icons/walletconnect.svg","assets/icons/wbtc.svg","assets/icons/weth.svg","assets/icons/wcusd.png","utils/getEtherscanLink.ts","utils/notifyHandler.ts","components/BottomMenu.tsx","utils/parseStringToBigNumber.ts","utils/numberInputState.ts","state/user.ts","utils/index.ts","hooks/index.ts","hooks/useContract.ts","hooks/usePoolData.ts","components/ConfirmTransaction.tsx","assets/loading.gif","components/CheckboxInput.tsx","components/ToolTip.tsx","components/AdvancedOptions.tsx","components/BackButton.tsx","components/Popover.tsx","components/LPStakingBanner.tsx","components/Modal.tsx","components/Button.tsx","components/HighPriceImpactConfirmation.tsx","utils/gas.ts","utils/slippage.ts","utils/priceImpact.ts","components/ReviewDeposit.tsx","components/StakeDetails.tsx","components/TokenInput.tsx","components/LineChart.tsx","hooks/useAddTokenToMetamask.ts","components/RosePriceButton.tsx","components/ThemeChanger.tsx","components/Copy.tsx","hooks/useCopyClipboard.ts","components/Identicon.tsx","utils/dateTime.ts","utils/getPoolByAddress.ts","components/Transactions.tsx","utils/shortenAddress.ts","hooks/usePoller.ts","state/wallet/hooks.ts","components/AccountDetails.tsx","utils/googleAnalytics.ts","components/ConnectWallet.tsx","components/SupportedChains.tsx","hooks/useAddNetworkToMetamask.ts","components/Web3Status.tsx","components/TopMenu.tsx","components/DepositPage.tsx","utils/checkAndApproveTokenForTrade.ts","state/application.ts","pages/Deposit.tsx","hooks/useApproveAndDeposit.ts","hooks/useTokenFormState.ts","components/AnimateNumber.jsx","hooks/useWindowSize.ts","components/FarmFooter.tsx","components/StakeForm.tsx","utils/checkTokenAllowance.ts","hooks/useCheckTokenRequiresApproval.ts","components/FarmTabs.tsx","hooks/useApproveAndDepositFarm.tsx","hooks/useWithdrawFarm.ts","assets/icons/terra-luna-logo.svg","components/FarmPage.tsx","hooks/useEarnedRewards.ts","hooks/useFarmExit.ts","hooks/useClaimReward.ts","hooks/useCalculateFarmDeposited.ts","hooks/useFarmData.ts","pages/Farm.tsx","components/FarmsOverview.tsx","pages/Farms.tsx","hooks/usePendingSwapData.ts","providers/PendingSwapsProvider.tsx","components/PoolOverview.tsx","pages/Pools.tsx","components/StakePage.tsx","utils/fetchBlockTransactions.ts","hooks/useLastStakedTime.ts","pages/Stake.tsx","hooks/useApproveAndStake.ts","hooks/useApproveAndUnstake.ts","hooks/useCalculateSwapPairs.ts","hooks/usePoolsTVL.ts","assets/icons/info.svg","components/Divider.tsx","components/SearchSelect.tsx","components/SwapInput.tsx","hooks/useDetectOutsideClick.ts","components/PendingSwapExchange.tsx","assets/icons/arrowDown.svg","assets/icons/check.svg","assets/icons/clock.svg","components/PendingSwapTimeline.tsx","assets/icons/thinArrowDown.svg","utils/gasEstimate.ts","components/ReviewVirtualSwapSettlement.tsx","components/PendingSwapModal.tsx","assets/icons/icon_down.svg","components/ReviewSwap.tsx","components/SwapPage.tsx","pages/Swap.tsx","hooks/useApproveAndSwap.ts","components/Web3ReactManager/index.tsx","components/RadioButton.tsx","components/ReviewWithdraw.tsx","components/WithdrawPage.tsx","hooks/useWithdrawFormState.ts","pages/Withdraw.tsx","hooks/useApproveAndWithdraw.ts","utils/getSwapStats.ts","utils/updateTokenPrices.ts","pages/App.tsx","utils/fetchFarmStats.ts","utils/fetchStakeStats.ts","utils/fetchRosePriceHistory.ts","theme/index.ts","theme/components/index.ts","theme/components/button.ts","theme/components/tabs.ts","theme/components/input.ts","state/index.ts","index.tsx","utils/getLibrary.ts","components/FarmsOverview.module.scss","components/StakeDetails.module.scss","components/StakePage.module.scss","components/SearchSelect.module.scss","components/SwapInput.module.scss"],"names":["module","exports","i18next","use","Fetch","LanguageDetector","initReactI18next","init","backend","loadPath","requestOptions","cache","react","useSuspense","fallbackLng","load","preload","keySeparator","interpolation","escapeValue","networkLibrary","NETWORK_URL","process","NETWORK_CHAIN_ID","parseInt","REACT_APP_CHAIN_ID","network","NetworkConnector","urls","ChainId","PoolTypes","injected","InjectedConnector","supportedChainIds","walletconnect","WalletConnectConnector","rpc","bridge","qrcode","NetworkContextName","STABLECOIN_POOL_V2_NAME","VETH2_POOL_NAME","SUSD_METAPOOL_NAME","TBTC_METAPOOL_NAME","WCUSD_METAPOOL_NAME","FRAX_STABLES_LP_POOL_NAME","FRAX_METAPOOL_NAME","STAKED_ROSE_LP_POOL_NAME","UST_METAPOOL_NAME","BUSD_METAPOOL_NAME","STABLES_FARM_NAME","FRAX_METAPOOL_FARM_NAME","UST_METAPOOL_FARM_NAME","ROSE_PAD_NLP_FARM_NAME","ROSE_FRAX_NLP_FARM_NAME","BUSD_METAPOOL_FARM_NAME","Token","addresses","decimals","symbol","geckoId","name","icon","isSynthetic","isLPToken","this","BLOCK_TIME","SYNTHETIX_EXCHANGE_RATES_CONTRACT_ADDRESSES","MAINNET","ROPSTEN","HARDHAT","AURORA_TESTNET","AURORA_MAINNET","BRIDGE_CONTRACT_ADDRESSES","STABLECOIN_SWAP_V2_ADDRESSES","FRAX_STABLES_LP_ADDRESSES","FRAX_METAPOOL_ADDRESSES","UST_METAPOOL_ADDRESSES","BUSD_METAPOOL_ADDRESSES","VETH2_SWAP_ADDRESSES","SUSD_SWAP_TOKEN_CONTRACT_ADDRESSES","STABLECOIN_SWAP_TOKEN_CONTRACT_ADDRESSES","STABLECOIN_SWAP_V2_TOKEN_CONTRACT_ADDRESSES","WCUSD_SWAP_TOKEN_CONTRACT_ADDRESSES","BTC_SWAP_TOKEN_CONTRACT_ADDRESSES","BTC_SWAP_V2_TOKEN_CONTRACT_ADDRESSES","TBTC_SWAP_TOKEN_CONTRACT_ADDRESSES","VETH2_SWAP_TOKEN_CONTRACT_ADDRESSES","ALETH_SWAP_TOKEN_CONTRACT_ADDRESSES","D4_SWAP_TOKEN_CONTRACT_ADDRESSES","FRAX_STABLES_LP_TOKEN_CONTRACT_ADDRESSES","FRAX_METAPOOL_LP_TOKEN_CONTRACT_ADDRESSES","UST_METAPOOL_LP_TOKEN_CONTRACT_ADDRESSES","ROSE_PAD_NLP_TOKEN_CONTRACT_ADDRESSES","ROSE_FRAX_NLP_TOKEN_CONTRACT_ADDRESSES","SROSE_LP_TOKEN_CONTRACT_ADDRESSES","BUSD_METAPOOL_LP_TOKEN_CONTRACT_ADDRESSES","STABLECOIN_SWAP_V2_TOKEN","saddleLogo","roseLogo","FRAX_STABLES_LP_TOKEN","roseFraxLogo","FRAX_METAPOOL_LP_TOKEN","UST_METAPOOL_LP_TOKEN","roseAtust","ROSE_PAD_NLP_TOKEN","ROSE_FRAX_NLP_TOKEN","BUSD_METAPOOL_LP_TOKEN","sRoseLogo","roseBusdLogo","WCUSD","SUSD","susdLogo","DAI","daiLogo","USDC","usdcLogo","USDT","usdtLogo","STABLECOIN_POOL_TOKENS","TBTC_V2","tbtcLogo","WBTC","wbtcLogo","RENBTC","renbtcLogo","SBTC","sbtcLogo","WETH","wethLogo","FRAX","veth2Logo","alethLogo","sethLogo","alusdLogo","feiLogo","fraxLogo","UST","atustLogo","ROSE_CONTRACT_ADDRESSES","lusdLogo","ROSE","SROSE_CONTRACT_ADDRESSES","SROSE","BUSD","busdLogo","ROSE_FARM_STABLES_ADDRESSES","FRAX_METAPOOL_FARM_ADDRESSES","UST_METAPOOL_FARM_ADDRESSES","ROSE_PAD_NLP_FARM_ADDRESSES","ROSE_FRAX_NLP_FARM_ADDRESSES","BUSD_FARM_ADDRESSES","FRAX_METAPOOL_DEPOSIT_ADDRESSES","UST_METAPOOL_DEPOSIT_ADDRESSES","BUSD_METAPOOL_DEPOSIT_ADDRESSES","FRAX_STABLES_LP_POOL_TOKENS","FRAX_METAPOOL_TOKENS","UST_METAPOOL_TOKENS","BUSD_METAPOOL_TOKENS","POOLS_MAP","lpToken","poolTokens","type","USD","route","isOutdated","underlyingPoolTokens","underlyingPool","metaSwapAddresses","FARMS_MAP","poolUrl","isRose","poolName","isMetaPool","Set","has","SWAP_TYPES","ROSE_TOKENS_MAP","rose","stRose","TOKENS_MAP","Object","keys","reduce","acc","pool","newAcc","forEach","token","LPTOKEN_TO_POOL_MAP","concat","TRANSACTION_TYPES","getIsVirtualSwap","swapType","SYNTH_TO_SYNTH","SYNTH_TO_TOKEN","TOKEN_TO_SYNTH","TOKEN_TO_TOKEN","SWAP_CONTRACT_GAS_ESTIMATES_MAP","INVALID","BigNumber","from","DIRECT","SUPPORTED_WALLETS","METAMASK","metamaskIcon","connector","WALLET_CONNECT","walletconnectIcon","isMobile","SUPPORTED_CHAINS","getEtherscanLink","data","notifyNetworks","chainId","notify","Notify","isChainSupportedByNotify","dappId","REACT_APP_NOTIFY_DAPP_ID","networkId","desktopPosition","darkMode","notifyHandler","hash","emitter","on","transaction","message","t","context","link","BottomMenu","className","styles","bottommenu","socials","href","target","rel","fontSize","parseStringToBigNumber","valueRaw","precision","fallback","valueSafe","isFallback","parseUnits","value","numberInputStateCreator","inputValue","isBigNumber","isEmpty","isValid","formatUnits","toString","GasPrices","Slippages","Deadlines","initialState","userSwapAdvancedMode","userPoolAdvancedMode","userDarkMode","gasPriceSelected","Standard","slippageSelected","OneTenth","infiniteApproval","transactionDeadlineSelected","Twenty","gasCustomStateCreator","Zero","slippageCustomStateCreator","pow","mul","userSlice","createSlice","reducers","updateSwapAdvancedMode","state","action","payload","updatePoolAdvancedMode","updateDarkMode","updateGasPriceCustom","gasCustom","updateGasPriceSelected","Custom","updateSlippageSelected","slippageCustom","updateSlippageCustom","updateInfiniteApproval","updateTransactionDeadlineSelected","transactionDeadlineCustom","updateTransactionDeadlineCustom","actions","isAddress","getAddress","getContract","address","ABI","library","account","AddressZero","Error","Contract","getSigner","connectUnchecked","getProviderOrSigner","formatBNToShortString","bn","nativePrecision","bnStr","numLen","length","div","Math","floor","mod","substr","formatBNToString","nativePrecison","decimalPlaces","fullPrecision","decimalIdx","indexOf","undefined","slice","formatBNToPercentString","shiftBNDecimals","shiftAmount","calculateExchangeRate","amountFrom","tokenPrecisionFrom","amountTo","tokenPrecisionTo","gt","formatDeadlineToNumber","deadlineSelected","deadlineCustom","deadline","Ten","Thirty","Forty","commify","str","parts","split","partA","partB","commaAArr","Array","commaAIdx","i","revIdx","commifiedA","join","intersection","set1","set2","filter","item","getTokenByAddress","values","find","toLowerCase","calculatePrice","amount","tokenPrice","isNaN","toLocaleString","useGrouping","toFixed","toHex","num","imageIconToUrl","tokenIconPath","host","window","location","origin","useActiveWeb3React","useWeb3ReactCore","contextNetwork","active","useContract","withSignerIfPossible","useMemo","error","console","useFarmContract","farmName","farm","JSON","stringify","ROSE_STABLES_FARM_ABI","abi","useRoseContract","ERC20_ABI","useStRoseContract","SROSE_ABI","useBridgeContract","BRIDGE_CONTRACT_ABI","useTokenContract","usePoolContract","ROSE_STABLES_POOL_ABI","ROSE_FRAX_POOL_ABI","FRAX_META_POOL_ABI","useLPTokenContract","ROSE_STABLES_LP_ABI","ROSE_FRAX_LP_ABI","useLPTokenContractForFarm","useAllContracts","daiContract","usdcContract","usdtContract","fraxContract","roseStablesLPContract","roseContract","stroseContract","ustContract","busdContract","some","Boolean","poolStatsApi","emptyPoolData","adminFee","aParameter","apy","reserve","swapFee","tokens","totalLocked","utilization","virtualPrice","volume","aprs","lpTokenPriceUSD","isPaused","usePoolData","poolContract","useSelector","application","tokenPricesUSD","lastTransactionTimes","swapStats","lastDepositTime","lastWithdrawTime","lastSwapTime","lastMigrateTime","useState","poolData","setPoolData","useEffect","calculatePctOfTotalShare","a","lpTokenAmount","totalLpTokenBalance","isZero","fetch","then","res","json","body","map","b","pool_name","daily_volume","poolStats","poolStat","dailyVolume","round","parseFloat","effectivePoolTokens","POOL","lpTokenContract","LPTOKEN_UNGUARDED_ABI","ethcallProvider","Provider","multicallAddress","get_virtual_price","log","multicallPoolContract","ROSE_STABLES_POOL","A","fee","poolTokenBalances","_","index","balances","all","multicallResFormatted","tokenBalances","balance","Promise","balanceOf","totalSupply","userLpTokenBalance","tokenBalancesSum","sum","add","tokenBalancesUSD","String","tokenBalancesUSDSum","userShare","userPoolTokenBalances","userPoolTokenBalancesSum","userPoolTokenBalancesUSD","userPoolTokenBalancesUSDSum","percent","userPoolTokens","share","underlyingTokensAmount","usdBalance","lpTokenBalance","amountsStaked","getPoolData","ModalType","ConfirmTransaction","title","CONFIRM","description","children","useTranslation","classNames","failed","FAILED","success","SUCCESS","src","loadingGif","alt","CheckboxInput","checked","onChange","xmlns","viewBox","aria-hidden","focusable","fill","strokeWidth","d","ToolTip","content","AdvancedOptions","dispatch","useDispatch","user","advancedOptions","parameter","style","zIndex","label","inputGroup","options","selected","onClick","One","display","alignItems","marginLeft","width","variant","e","BackButton","props","wrapperClass","buttonText","to","arrowLeft","IconButtonPopover","IconButtonProps","PopoverBodyContent","bgColor","borderColor","_focus","boxShadow","_active","backdropFilter","WebkitBackdropFilter","LPStakingBanner","stakingLink","Modal","isOpen","onClose","currentTarget","stopPropagation","Button","kind","size","buttonProps","HighPriceImpactConfirmation","onCheck","gasBNFromState","gasPricesGwei","gasSelected","gasPrice","gasStandard","gasFast","gasInstant","Fast","Instant","formatGasToString","_applySlippage","numerator","denominator","sub","addSlippage","subtractSlippage","formatSlippageToString","isHighPriceImpact","priceImpact","negOne","lte","calculatePriceImpact","tokenInputAmount","tokenOutputAmount","isWithdraw","ReviewDeposit","onConfirm","transactionData","hasConfirmedHighPriceImpact","setHasConfirmedHighPriceImpact","isHighPriceImpactTxn","items","totalAmount","height","shareOfPool","txnGasCost","valueUSD","singleTokenPriceUSD","prevState","disabled","StakeStat","statLabel","statTooltip","statPopOver","closeOnClick","underline","aria-label","StakeDetails","balanceView","stakedView","stats","extraStakeDetailChild","useDisclosure","onToggle","stakeDetails","justifyContent","row","tokenName","iconStyle","exec","marginRight","balanceDetails","statsDetails","statValue","statRow","in","animateOpacity","TokenInput","tokenUSDValue","max","readonly","balanceContainer","tokenInputContainer","id","tokenSymbolAndName","boldText","smallText","autoComplete","autoCorrect","placeholder","spellCheck","readOnly","newValue","replace","lastIndexOf","parsedValue","periodIndex","isValidInput","isValidPrecision","onFocus","select","LineChart","chart","colors","formattedData","timeUnit","datasets","tension","pointRadius","pointBorderColor","pointBackgroundColor","borderWidth","backgroundColor","maxBarThickness","responsive","maintainAspectRatio","plugins","legend","tooltip","callbacks","dataset","parsed","y","Intl","NumberFormat","currency","format","interaction","intersect","mode","scales","grid","drawBorder","drawOnChartArea","drawTicks","borderDash","color","ticks","padding","font","weight","family","lineHeight","callback","x","time","unit","autoSkip","maxTicksLimit","configs","useColorModeValue","useAddTokenToMetamask","useCallback","ethereum","request","method","params","image","RosePriceButton","stakeStats","rosePriceHistory","priceOfRose","addRoseToken","addStRoseToken","setTimeUnit","isLazy","as","addToken","leftIcon","Number","bg","p","textAlign","spacing","direction","colorScheme","price","clipPath","fillRule","clipRule","mixBlendMode","opacity","x1","y1","x2","y2","gradientUnits","stopColor","offset","stopOpacity","margin","transform","ThemeChanger","useColorMode","colorMode","toggleColorMode","document","classList","remove","CopyHelper","timeout","isCopied","setIsCopied","staticCopy","text","didCopy","copy","hide","setTimeout","clearTimeout","useCopyClipboard","setCopied","toCopy","StyledIdenticonContainer","styled","Identicon","ref","useRef","current","innerHTML","appendChild","Jazzicon","getFormattedShortTime","timestamp","timestampNumber","Date","toLocaleTimeString","month","day","hour","minute","getPoolByAddress","targetAddress","Transactions","transactionList","setTransactionList","fetchTxn","newTransactionList","time24Hrs","now","query","headers","result","addLiquidityEvents","removeLiquidityEvents","swaps","event","swap","push","object","exchanges","soldId","boughtId","soldToken","boughtToken","sort","catch","txn","shortenAddress","chars","substring","usePoller","fn","delay","savedCallback","setInterval","clearInterval","useTokenBalancesHelper","tokenMap","setBalances","balanceCalls","c","getBalance","ethBalance","ETH","pollBalances","usePoolTokenBalances","useRoseTokenBalances","AccountDetail","openOptions","roseBalanceFormatted","connectorName","logEvent","gtag","debug","ConnectWallet","activate","useWeb3React","wallet","UnsupportedChainIdError","SupportedChains","addNetwork","code","chainName","rpcUrls","useAddNetworkToMetamask","supportedChains","chainList","entries","key","val","chain","chainInfo","textStyle","buttonGroupIcon","WALLET_VIEWS","chainIdToName","Web3Status","modalOpen","setModalOpen","walletConnected","setWalletConnected","isAuthorized","walletView","setWalletView","useBreakpointValue","base","lg","stroke","flexDirection","fontWeight","marginTop","rightIcon","TopMenu","activeTab","menuColor","isActive","IconButton","Link","command","DepositPage","exceedsWallet","myShareData","onChangeTokenInputValue","onConfirmTransaction","currentModal","setCurrentModal","txnHash","setTxnHash","validDepositAmount","shouldDisplayWrappedOption","formattedShareTokens","coin","formattedPoolDataTokens","keep","apr","Trans","i18nKey","textDecoration","sharedStake","gte","status","transactionHash","tx","checkAndApproveTokenForTrade","srcTokenContract","swapAddress","spenderAddress","spendingValue","approve","cleanupOnStart","onTransactionStart","call","approvalTransaction","wait","confirmedTransaction","onTransactionSuccess","onTransactionError","eq","allowance","existingAllowance","MaxUint256","applicationSlice","updateGasPrices","updateFarmStats","farmStats","updateStakeStats","updateRosePriceHistory","updateTokensPricesUSD","updateLastTransactionTimes","updateSwapStats","formattedPayload","APY","TVL","ODV","oneDayVolume","tvl","Deposit","approveAndDeposit","tokenContracts","metaSwapContract","FRAX_POOL_DEPOSIT","shouldDepositWrapped","effectiveSwapContract","approveSingleToken","tokenContract","effectivePoolContract","txnAmounts","poolToken","minToMint","calc_token_amount","add_liquidity","spendTransaction","receipt","useApproveAndDeposit","userShareData","allTokens","tokenInputStateCreators","React","tokenFormState","setTokenFormState","newState","convertedNewState","useTokenFormState","updateTokenFormState","setShouldDepositWrapped","newTokenPricesUSD","underlyingPoolData","underlyingTokenUSDValue","estDepositLPTokenAmount","setEstDepositLPTokenAmount","setPriceImpact","isMetaSwap","lt","tokenInputSum","depositLPTokenAmount","calculateMaxDeposits","depositTransaction","poolLpToken","totalValueUSD","TOTAL_AMOUNT_DECIMALS","usdPriceBN","toTotalValueUSD","gasAmount","buildTransactionData","onToggleDepositWrapped","usePrevious","DecimalColumn","NumberColumn","digit","delta","position","setPosition","animationClass","setAnimationClass","previousDigit","columnContainer","setSize","useLayoutEffect","updateSize","innerWidth","innerHeight","addEventListener","removeEventListener","useWindowSize","number","clientHeight","motion","animate","onAnimationComplete","AnimatingNumber","numArray","reverse","formatForDisplay","previousNumber","layout","FarmFooter","farmFooter","goBack","StakeForm","fieldName","tokenIcon","isLoading","submitButtonLabel","formDescription","handleSubmit","handleInputChanged","handlePreSubmit","handlePostSubmit","validator","inputContainer","initialValues","onSubmit","resetForm","validate","field","form","borderRadius","isInvalid","errors","touched","pointerEvents","paddingLeft","handleChange","setFieldTouched","setFieldValue","dirty","mt","stakeInfoContainer","infoMessage","submitButton","approvalMessage","checkTokenAllowance","useCheckTokenRequiresApproval","dstTokenContract","approved","setApproved","loading","setLoading","timer","setTimer","checkApproval","newTimer","isApproved","FarmTabs","lpTokenName","deposited","lpTokenIcon","handleModal","farmContract","amountToStake","stake","useApproveAndDepositFarm","withdraw","amountToWithdraw","useWithdrawFarm","checkLpTokenApproved","validateAmount","farmTabs","isFitted","mb","farmTitle","externalUrlArrow","generalValidation","FarmPage","formattedBalance","formattedDeposited","dualRewardAddress","roseRewards","totalRewards","dualRewards","rewardsEarned","setRewardsEarned","earned","roseEarned","dualRewardEarned","pollRewards","useEarnedRewards","dualReward","exit","useFarmExit","getReward","useClaimReward","formattedTvl","dualRewardApr","dualRewardTokenName","updateModal","modalType","txnType","APPROVE","farmPage","flexWrap","roseIcon","mr","terraLunaIcon","approveButtons","stakeDetailsContainer","useCalculateFarmDeposited","depositedBalance","setDepositedBalance","calculateDeposit","emptyFarmData","useFarmData","farmData","setFarmData","getFarmData","Farm","container","FarmTag","tagProps","tag","FarmsOverview","farmRoute","formattedApr","iconWidth","farmsOverview","titleBox","minWidth","ml","whiteSpace","md","farmDescription","farmButton","Farms","BridgePendingSwapTypes","farms","VIRTUAL_SWAP_TOPICS","fetchAndPopulatePendingSwaps","bridgeContract","setState","startBlock","eventFilters","topic","filters","queryFilter","events","flat","fetchPendingSwapInfo","fetchedPendingSwaps","pendingSwaps","fetchAndPopulateWithdraws","eventFilter","parseWithdrawFromEvent","withdraws","existingWithdraws","itemId","fetchAndPopulateSettlements","parseSettlementFromEvent","settlements","settlement","existingSettlements","args","fromToken","settleFrom","toToken","settleTo","getBlock","fromAmount","settleFromAmount","toAmount","settleToAmount","synthToken","synth","synthAmount","pendingSwap","getPendingSwapInfo","pendingSwapInfo","eventBlock","pendingSwapType","TokenToSynth","SynthToToken","TokenToToken","synthTokenFrom","tokenTo","settleableAtTimestamp","secsLeft","secondsRemaining","ceil","synthBalance","removeItemFromState","omit","usePendingSwapData","queryStartBlock","pendingSwapEventListener","itemIdArg","fetchedPendingSwap","existingItemId","settleEventListener","newPendingSwapBalance","prevSettlements","txnsSet","withdrawEventListener","prevWithdraws","virtualSwapTopicFilters","settleFilter","withdrawFilter","attachPendingSwapEventListeners","fetchExistingEvents","PendingSwapsContext","createContext","PendingSwapsProvider","PoolOverview","poolRoute","onClickMigrate","poolType","formattedDecimals","shouldMigrate","userBalanceUSD","hasShare","isMetapool","outdated","gutter","Tag","includes","replaceAll","Pools","usdPoolV2Data","usdV2UserShareData","fraxStablesPoolData","fraxStablesUserShareData","fraxMetaPoolData","fraxMetaPoolUserShareData","ustMetaPoolData","ustMetaPoolUserShareData","busdMetaPoolData","busdMetaPoolUserShareData","getPropsForPool","poolsPage","migration","aMigration","aIsOutdated","bMigration","bIsOutdated","poolProps","StakePage","staked","roseTokenIcon","stRoseTokenIcon","timeLeft","approveStake","approveUnstake","priceRatio","totalRoseStaked","checkRoseApproved","stakePage","stakeForm","titleWrapper","stakeTitle","pill","glowPill","colorPill","timeLeftTitle","toISOString","blockTxnsUri","accountAddress","startTimestamp","fetchBlockTxns","daysOffset","setDate","getDate","getTime","fetchTokenTransfers","contractAddress","tokenTransferTxnsUri","retry","retries","txnData","stRoseAddress","filteredTxnData","blockNumber","tokenTransferData","timeStamp","useLastStakedTime","lastStakedTime","setLastStakedTime","lastStakeTxn","fetchLastStakedTime","stakedTime","err","Stake","stRoseContract","mint","useApproveAndStake","unstake","amountToUnStake","burn","useApproveAndUnstake","diff","setDiff","lastStaked","useCountDown","tokenBalanceDetails","roseToken","stRoseToken","start","SWAP_TYPES_ORDERED_ASC","useCalculateSwapPairs","pairCache","setPairCache","poolTVLs","poolTvls","setPoolTvls","pools","supplyCalls","tvls","tvlsUSD","tvlAmount","tokenValue","BTC","fetchTVLs","usePoolTVLs","sortedPools","aTVL","bTVL","tokenToPools","poolsSortedByTVL","tokenToPoolsMapSorted","cacheHit","swapPairs","getTradingPairsForToken","buildSwapSideData","tokenIndex","findIndex","tokensMap","poolsMap","tokenToPoolsMap","originToken","synthPoolsSet","originTokenPoolsSet","originPoolsSynthSet","tokenToSwapDataMap","swapData","tokenPoolsSet","tokenPoolsSynthSet","sharedPoolsSet","tradePool","originPool","destinationPool","middleSynth","originSynth","destinationSynth","metaSwapPool","existingTokenSwapData","existingSwapIdx","newSwapIdx","_extends","assign","arguments","source","prototype","hasOwnProperty","apply","_objectWithoutProperties","excluded","sourceKeys","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgInfo","_ref","svgRef","titleId","ForwardRef","Divider","divider","SearchSelect","tokensData","onSelect","searchTerm","setSearchTerm","activeIndex","setActiveIndex","inputRef","focusedItemRef","focus","scrollIntoView","filteredTokens","lastSelectableIndex","lastAvailableIndex","isAvailable","searchSelect","nextActiveIndex","onKeyDown","prev","min","listContainer","ListItem","listItem","isVirtualSwap","classnames","isUnavailable","tagWrapper","unavailableTag","virtualSwapTag","textMinor","SwapInput","elementRef","inputValueUSD","isSwapFrom","onChangeAmount","isDropdownOpen","setIsDropdownOpen","wrapperRef","handleClick","contains","preventDefault","handleKeyPress","handleSelect","selectedToken","swapInputContainer","selectGroup","hoverPointer","tabIndex","tokenNameContainer","symbolArrowContainer","textBoldPurple","dropdownContainer","PendingSwapExchange","onPendingSwapSettlement","valueBN","inputState","setInputState","formattedSynthBalance","settle","exchangeWrapper","stepWrapper","balanceWrapper","cleanedValue","isInputNumber","buttonGroup","SvgArrowDown","SvgCheck","strokeMiterlimit","SvgClock","PendingSwapTimeline","minutesRemaining","hasEvents","timeline","withLine","testId","count","nameFrom","nameTo","formattedAmount","TimelineStep","iconEl","timelineStep","inactive","data-testid","Line","timelineLine","SvgThinArrowDown","calculateGasEstimate","methodName","ReviewVirtualSwapSettlement","exchangeRateInfo","gasValueUSD","isWithdrawAction","pair","exchangeRate","PendingSwapModal","settlementState","setSettlementState","calculatedTokenAmount","setCalculatedTokenAmount","currentStep","setCurrentStep","calcCompleteToToken","calculatedAmount","calcAmount","handlePendingSwapSettlement","handleConfirmSettlement","txnArgs","completeToToken","completeToSynth","table","virtualSwapModal","headerContent","centerContent","footerContent","about","DirectSwapTokens","iconDown","VirtualSwapTokens","isFirst","isLast","grey","step","ReviewSwap","SwapPage","tokenOptions","fromState","toState","onChangeFromToken","onChangeFromAmount","onChangeToToken","onClickReverseExchangeDirection","activePendingSwap","setActivePendingSwap","formattedPriceImpact","formattedExchangeRate","formattedRoute","isHighSlippage","amtStr","rate","showError","EMPTY_FORM_STATE","valueSynth","currentSwapPairs","Swap","approveAndSwap","addressToApprove","amountMediumSynth","tokenToToken","swapTransaction","utils","formatBytes32String","synthToToken","tokenToSynth","exchange_underlying","exchange","useApproveAndSwap","snxEchangeRatesContract","SYNTHETIX_EXCHANGE_RATE_CONTRACT_ABI","useSynthetixExchangeRatesContract","calculateSwapPairs","pendingSwapData","useContext","formState","setFormState","prevFormState","setPrevFormState","swapContract","sortTokenOptions","calculateSwapAmount","debounce","formStateArg","cleanedFormFromValue","amountToGive","tokenFrom","amountToReceive","calcTokenToToken","amountOutSynth","amountOutToken","calcSynthToToken","calcTokenToSynth","get_dy_underlying","get_dy","effectiveValue","toValueUSD","handleReverseExchangeDirection","activeSwapPair","isValidSwap","fromDecimals","toDecimals","amountA","amountB","Web3ReactManager","networkActive","networkError","activateNetwork","triedEager","tried","setTried","useEagerConnect","suppress","handleChainChanged","handleAccountsChanged","accounts","removeListener","useInactiveListener","showLoader","setShowLoader","RadioButton","ReviewWithdraw","isHighSlippageTxn","rates","WithdrawPage","onFormChange","formStateData","reviewData","sliderValue","setSliderValue","showTooltip","setShowTooltip","setIsOpen","noShare","withdrawType","defaultValue","v","onMouseEnter","onMouseLeave","hasArrow","placement","hidden","offsetY","tokenSymbol","lpTokenAmountToSpend","gas","IMBALANCE","ALL","Withdraw","tokenInputsEmptyState","formEmptyState","percentage","tokenInputs","calculateAndUpdateDynamicFields","percentageRaw","effectiveUserLPTokenBalance","inputCalculatedLPTokenAmount","nextState","calc_withdraw_one_coin","tokenAmount","tokenSymbolInput","valueInput","newTokenInputs","activeInputTokens","finalState","pendingTokenInput","every","stateValue","useWithdrawFormState","withdrawFormState","updateWithdrawFormState","approveAndWithdraw","allowanceAmount","remove_liquidity","remove_liquidity_imbalance","remove_liquidity_one_coin","useApproveAndWithdraw","estWithdrawBonus","setEstWithdrawBonus","withdrawLPTokenAmount","calculateWithdrawBonus","shareToken","reviewWithdrawData","slippage","fetchSwapStatsNow","dispatchUpdate","otherTokens","VETH2","KEEP","SGT","ALCX","getVeth2Price","etherPrice","SWAP_ABI","calculateSwap","veth2ToEthRate","eth","vEth2Price","App","config","GasAndTokenPrices","exact","path","component","render","fetchAndUpdateTokensPrice","tokenIds","encodeURIComponent","otherTokensResult","usd","alETH","price_of_rose","price_of_strose","fetchTokenPricesUSD","fetchAndUpdateSwapStats","fetchSwapStats","fetchAndUpdateFarmStats","farm_tvl","second_apr","second_rewards_token","second_rewards_token_address","fetchFarmStats","fetchAndUpdateStakeStats","strose_rose_ratio","strose_tvl","total_rose_staked","strose_apr","fetchStakeStats","fetchAndUpdateRosePriceHistory","pricesMapped","prices","fetchRosePriceHistory","overrides","initialColorMode","useSystemColorMode","red","50","100","200","300","400","500","600","700","800","900","teal","purple","gold","fonts","heading","mono","components","variants","primary","transparentize","theme","border","cursor","letterSpacing","_hover","_disabled","light","outline","Tabs","tab","_selected","Input","hasErrorColor","borderBottom","px","_readOnly","userSelect","_invalid","extendTheme","PERSISTED_KEYS","stateFromStorage","states","store","configureStore","reducer","middleware","getDefaultMiddleware","thunk","save","preloadedState","merge","userInitialState","Web3ProviderNetwork","createWeb3ReactRoot","autoRefreshOnNetworkChange","Chart","register","registerables","ReactDOM","chakraTheme","StrictMode","getLibrary","provider","Web3Provider","pollingInterval","getDefaultProvider","getElementById"],"mappings":"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A,+BACAc,IACA,GACA,GAG+B,IAAI1C,GACnC6B,GACA,GACA,eACA,eACA,0BACAa,IACA,GACA,GAG6B,IAAI1C,GACjC8B,GACA,GACA,aACA,aACA,+BACAY,IACA,GACA,GAGmC,IAAI1C,GACvCyB,GACA,GACA,YACA,YACA,uBACAiB,IACA,GACA,GAGsC,IAAI1C,GAC1C0B,GACA,GACA,gBACA,SACA,gBACAiB,IACA,GACA,IAGWC,GAAwB,IAAI5C,GACvCkC,GACA,GACA,aACA,aACA,sBACAW,IACA,GACA,GAGWC,GAAyB,IAAI9C,GACxCmC,GACA,GACA,aACA,aACA,sBACAU,IACA,GACA,GAGWE,GAAwB,IAAI/C,GACvCoC,GACA,GACA,YACA,YACA,uBACAY,IACA,GACA,GAGWC,GAAqB,IAAIjD,GACpCqC,GACA,GACA,aACA,aACA,eACAM,IACA,GACA,GAGWO,GAAsB,IAAIlD,GACrCsC,GACA,GACA,cACA,cACA,gBACAO,IACA,GACA,GAcWM,IAXiB,IAAInD,GAChCuC,GACA,GACA,eACA,gBACA,mBACAa,IACA,GACA,GAGoC,IAAIpD,GACxCwC,GACA,GACA,aACA,aACA,eACAa,IACA,GACA,IAuDWC,IApDmB,IAAItD,GAClC2B,GACA,GACA,cACA,cACA,4BACAe,IACA,GACA,GAG8B,IAAI1C,GAClC+B,GACA,GACA,cACA,cACA,oBACAW,IACA,GACA,GAG8B,IAAI1C,GAClCgC,GACA,GACA,cACA,cACA,yBACAU,IACA,GACA,GAG2B,IAAI1C,GAC/BiC,GACA,GACA,WACA,WACA,6BACAS,IACA,GACA,GAWmB,IAAI1C,IAPuC,qBAC7D3B,GAAQuC,QAAU,8CAD2C,eAE7DvC,GAAQwC,QAAU,IAF2C,eAG7DxC,GAAQyC,QAAU,8CAH2C,eAI7DzC,GAAQ0C,eAAiB,IAJoC,eAK7D1C,GAAQ2C,eAAiB,IALoC,IAS9D,GACA,QACA,sBACA,mB2B9rBa,mgG3BysBFuC,GAAO,IAAIvD,IAPuC,qBAC5D3B,GAAQuC,QAAU,8CAD0C,eAE5DvC,GAAQwC,QAAU,IAF0C,eAG5DxC,GAAQyC,QAAU,8CAH0C,eAI5DzC,GAAQ0C,eAAiB,IAJmC,eAK5D1C,GAAQ2C,eAAiB,IALmC,IAS7D,GACA,OACA,OACA,OACAwC,IACA,GAUWC,GAAM,IAAIzD,IAPuC,qBAC3D3B,GAAQuC,QAAU,8CADyC,eAE3DvC,GAAQwC,QAAU,8CAFyC,eAG3DxC,GAAQyC,QAAU,8CAHyC,eAI3DzC,GAAQ0C,eAAiB,8CAJkC,eAK3D1C,GAAQ2C,eAAiB,8CALkC,IAS5D,GACA,MACA,MACA,MACA0C,IAUWC,GAAO,IAAI3D,IAPuC,qBAC5D3B,GAAQuC,QAAU,8CAD0C,eAE5DvC,GAAQwC,QAAU,8CAF0C,eAG5DxC,GAAQyC,QAAU,8CAH0C,eAI5DzC,GAAQ0C,eAAiB,8CAJmC,eAK5D1C,GAAQ2C,eAAiB,8CALmC,IAS7D,EACA,OACA,WACA,YACA4C,IAUWC,GAAO,IAAI7D,IAPuC,qBAC5D3B,GAAQuC,QAAU,8CAD0C,eAE5DvC,GAAQwC,QAAU,8CAF0C,eAG5DxC,GAAQyC,QAAU,8CAH0C,eAI5DzC,GAAQ0C,eAAiB,8CAJmC,eAK5D1C,GAAQ2C,eAAiB,8CALmC,IAS7D,EACA,OACA,SACA,SACA8C,IAGWC,GAAyB,CAACN,GAAKE,GAAME,IA4BrCG,IA3BgB,CAAIT,IAAJ,OAAaQ,IAWtB,IAAI/D,IAPuC,qBAC5D3B,GAAQuC,QAAU,8CAD0C,eAE5DvC,GAAQwC,QAAU,8CAF0C,eAG5DxC,GAAQyC,QAAU,8CAH0C,eAI5DzC,GAAQ0C,eAAiB,IAJmC,eAK5D1C,GAAQ2C,eAAiB,IALmC,IAS7D,GACA,OACA,OACA,OACAiD,IAUqB,IAAIjE,IAPuC,qBAC/D3B,GAAQuC,QAAU,8CAD6C,eAE/DvC,GAAQwC,QAAU,IAF6C,eAG/DxC,GAAQyC,QAAU,8CAH6C,eAI/DzC,GAAQ0C,eAAiB,IAJsC,eAK/D1C,GAAQ2C,eAAiB,IALsC,IAShE,GACA,SACA,OACA,SACAiD,KAUWC,GAAO,IAAIlE,IAPuC,qBAC5D3B,GAAQuC,QAAU,8CAD0C,eAE5DvC,GAAQwC,QAAU,8CAF0C,eAG5DxC,GAAQyC,QAAU,8CAH0C,eAI5DzC,GAAQ0C,eAAiB,IAJmC,eAK5D1C,GAAQ2C,eAAiB,IALmC,IAS7D,EACA,OACA,kBACA,OACAmD,IAUWC,GAAS,IAAIpE,IAPuC,qBAC9D3B,GAAQuC,QAAU,8CAD4C,eAE9DvC,GAAQwC,QAAU,8CAF4C,eAG9DxC,GAAQyC,QAAU,8CAH4C,eAI9DzC,GAAQ0C,eAAiB,IAJqC,eAK9D1C,GAAQ2C,eAAiB,IALqC,IAS/D,EACA,SACA,SACA,SACAqD,IAUWC,GAAO,IAAItE,IAPuC,qBAC5D3B,GAAQuC,QAAU,8CAD0C,eAE5DvC,GAAQwC,QAAU,8CAF0C,eAG5DxC,GAAQyC,QAAU,8CAH0C,eAI5DzC,GAAQ0C,eAAiB,IAJmC,eAK5D1C,GAAQ2C,eAAiB,IALmC,IAS7D,GACA,OACA,OACA,OACAuD,IACA,GAgBWC,IAVgB,CAAIR,IAAJ,OAFK,CAACE,GAAME,GAAQE,KAY7B,IAAItE,IAPuC,qBAC5D3B,GAAQuC,QAAU,8CAD0C,eAE5DvC,GAAQwC,QAAU,8CAF0C,eAG5DxC,GAAQyC,QAAU,8CAH0C,eAI5DzC,GAAQ0C,eAAiB,IAJmC,eAK5D1C,GAAQ2C,eAAiB,IALmC,IAS7D,GACA,OACA,WACA,OACAyD,KA+FWC,IArFQ,IAAI1E,IAPuC,qBAC7D3B,GAAQuC,QAAU,8CAD2C,eAE7DvC,GAAQwC,QAAU,8CAF2C,eAG7DxC,GAAQyC,QAAU,8CAH2C,eAI7DzC,GAAQ0C,eAAiB,IAJoC,eAK7D1C,GAAQ2C,eAAiB,IALoC,IAS9D,GACA,QACA,WACA,QACA2D,IAYmB,IAAI3E,IAPuC,qBAC7D3B,GAAQuC,QAAU,8CAD2C,eAE7DvC,GAAQwC,QAAU,8CAF2C,eAG7DxC,GAAQyC,QAAU,8CAH2C,eAI7DzC,GAAQ0C,eAAiB,IAJoC,eAK7D1C,GAAQ2C,eAAiB,IALoC,IAS9D,GACA,QACA,eACA,eACA4D,IAUkB,IAAI5E,IAPuC,qBAC5D3B,GAAQuC,QAAU,8CAD0C,eAE5DvC,GAAQwC,QAAU,8CAF0C,eAG5DxC,GAAQyC,QAAU,8CAH0C,eAI5DzC,GAAQ0C,eAAiB,IAJmC,eAK5D1C,GAAQ2C,eAAiB,IALmC,IAS7D,GACA,OACA,OACA,aACA6D,IACA,GAYmB,IAAI7E,IAPuC,qBAC7D3B,GAAQuC,QAAU,8CAD2C,eAE7DvC,GAAQwC,QAAU,8CAF2C,eAG7DxC,GAAQyC,QAAU,8CAH2C,eAI7DzC,GAAQ0C,eAAiB,IAJoC,eAK7D1C,GAAQ2C,eAAiB,IALoC,IAS9D,GACA,QACA,eACA,eACA8D,IAUiB,IAAI9E,IAPuC,qBAC3D3B,GAAQuC,QAAU,8CADyC,eAE3DvC,GAAQwC,QAAU,8CAFyC,eAG3DxC,GAAQyC,QAAU,8CAHyC,eAI3DzC,GAAQ0C,eAAiB,IAJkC,eAK3D1C,GAAQ2C,eAAiB,IALkC,IAS5D,GACA,MACA,eACA,eACA+D,IAUkB,IAAI/E,IAPuC,qBAC5D3B,GAAQuC,QAAU,8CAD0C,eAE5DvC,GAAQwC,QAAU,8CAF0C,eAG5DxC,GAAQyC,QAAU,8CAH0C,eAI5DzC,GAAQ0C,eAAiB,8CAJmC,eAK5D1C,GAAQ2C,eAAiB,8CALmC,IAS7D,GACA,OACA,OACA,OACAgE,KAWWC,GAAM,IAAIjF,IARuC,qBAC3D3B,GAAQuC,QAAU,IADyC,eAE3DvC,GAAQwC,QAAU,IAFyC,eAG3DxC,GAAQyC,QAAU,IAHyC,eAI3DzC,GAAQ0C,eAAiB,8CAJkC,eAK3D1C,GAAQ2C,eAAiB,8CALkC,IAU5D,GACA,QACA,WACA,YACAkE,IAmBWC,IATO,IAAInF,IAPuC,qBAC5D3B,GAAQuC,QAAU,8CAD0C,eAE5DvC,GAAQwC,QAAU,8CAF0C,eAG5DxC,GAAQyC,QAAU,8CAH0C,eAI5DzC,GAAQ0C,eAAiB,IAJmC,eAK5D1C,GAAQ2C,eAAiB,IALmC,IAS7D,GACA,OACA,cACA,cACAoE,IAGoE,qBACnE/G,GAAQuC,QAAU,IADiD,eAEnEvC,GAAQwC,QAAU,IAFiD,eAGnExC,GAAQyC,QAAU,IAHiD,eAInEzC,GAAQ0C,eAAiB,8CAJ0C,eAKnE1C,GAAQ2C,eAAiB,8CAL0C,IAQzDqE,GAAO,IAAIrF,GACtBmF,GACA,GACA,OACA,OACA,aACAxC,IAGW2C,IAA0D,qBACpEjH,GAAQuC,QAAU,IADkD,eAEpEvC,GAAQwC,QAAU,IAFkD,eAGpExC,GAAQyC,QAAU,IAHkD,eAIpEzC,GAAQ0C,eAAiB,8CAJ2C,eAKpE1C,GAAQ2C,eAAiB,8CAL2C,IAQ1DuE,GAAQ,IAAIvF,GACvBsF,GACA,GACA,SACA,SACA,qBACAlC,IAWWoC,GAAO,IAAIxF,IAR8C,qBACnE3B,GAAQuC,QAAU,IADiD,eAEnEvC,GAAQwC,QAAU,IAFiD,eAGnExC,GAAQyC,QAAU,IAHiD,eAInEzC,GAAQ0C,eAAiB,8CAJ0C,eAKnE1C,GAAQ2C,eAAiB,8CAL0C,IAUpE,GACA,SACA,cACA,uBACAyE,IAGWC,IAA6D,qBACvErH,GAAQuC,QAAU,IADqD,eAEvEvC,GAAQwC,QAAU,IAFqD,eAGvExC,GAAQyC,QAAU,IAHqD,eAIvEzC,GAAQ0C,eAAiB,8CAJ8C,eAKvE1C,GAAQ2C,eAAiB,8CAL8C,IAQ7D2E,IAEZ,qBACEtH,GAAQuC,QAAU,IADpB,eAEEvC,GAAQwC,QAAU,IAFpB,eAGExC,GAAQyC,QAAU,IAHpB,eAIEzC,GAAQ0C,eAAiB,8CAJ3B,eAKE1C,GAAQ2C,eAAiB,8CAL3B,IAQY4E,IAEZ,qBACEvH,GAAQuC,QAAU,IADpB,eAEEvC,GAAQwC,QAAU,IAFpB,eAGExC,GAAQyC,QAAU,IAHpB,eAIEzC,GAAQ0C,eAAiB,8CAJ3B,eAKE1C,GAAQ2C,eAAiB,8CAL3B,IAQY6E,IAEZ,qBACExH,GAAQuC,QAAU,IADpB,eAEEvC,GAAQwC,QAAU,IAFpB,eAGExC,GAAQyC,QAAU,IAHpB,eAIEzC,GAAQ0C,eAAiB,8CAJ3B,eAKE1C,GAAQ2C,eAAiB,8CAL3B,IAQY8E,IAEZ,qBACEzH,GAAQuC,QAAU,IADpB,eAEEvC,GAAQwC,QAAU,IAFpB,eAGExC,GAAQyC,QAAU,IAHpB,eAIEzC,GAAQ0C,eAAiB,8CAJ3B,eAKE1C,GAAQ2C,eAAiB,8CAL3B,IAkBY+E,IARZ,qBACE1H,GAAQuC,QAAU,IADpB,eAEEvC,GAAQwC,QAAU,IAFpB,eAGExC,GAAQyC,QAAU,IAHpB,eAIEzC,GAAQ0C,eAAiB,8CAJ3B,eAKE1C,GAAQ2C,eAAiB,8CAK3B,qBACE3C,GAAQuC,QAAU,IADpB,eAEEvC,GAAQwC,QAAU,IAFpB,eAGExC,GAAQyC,QAAU,IAHpB,eAIEzC,GAAQ0C,eAAiB,8CAJ3B,eAKE1C,GAAQ2C,eAAiB,8CAL3B,IAQYgF,IAEZ,qBACE3H,GAAQuC,QAAU,IADpB,eAEEvC,GAAQwC,QAAU,IAFpB,eAGExC,GAAQyC,QAAU,IAHpB,eAIEzC,GAAQ0C,eAAiB,8CAJ3B,eAKE1C,GAAQ2C,eAAiB,8CAL3B,IAQYiF,IAEZ,qBACE5H,GAAQuC,QAAU,IADpB,eAEEvC,GAAQwC,QAAU,IAFpB,eAGExC,GAAQyC,QAAU,IAHpB,eAIEzC,GAAQ0C,eAAiB,8CAJ3B,eAKE1C,GAAQ2C,eAAiB,8CAL3B,IAQYkF,IAEZ,qBACE7H,GAAQuC,QAAU,IADpB,eAEEvC,GAAQwC,QAAU,IAFpB,eAGExC,GAAQyC,QAAU,IAHpB,eAIEzC,GAAQ0C,eAAiB,8CAJ3B,eAKE1C,GAAQ2C,eAAiB,8CAL3B,IASYmF,GAA8B,CAACzB,GAAMjC,IACrC2D,GAAuB,CAAC1B,GAAMjC,IAE9B4D,GAAsB,CAACpB,GAAKxC,IAC5B6D,GAAuB,CAACd,GAAM/C,IAqB9B8D,IApBiB,CAAIjD,IAAJ,OAAcS,IAoBZ,qBAC7B/E,GAA0B,CACzBqB,KAAMrB,GACNiB,UAAWiB,GACXsF,QAAS/D,GACTgE,WAAY1C,GACZxD,aAAa,EACbmG,KAAMpI,GAAUqI,IAChBC,MAAO,YARqB,eAU7BvH,GAA4B,CAC3BgB,KAAMhB,GACNY,UAAWkB,GACXqF,QAAS5D,GACT6D,WAAYN,GAEZ5F,aAAa,EACbmG,KAAMpI,GAAUqI,IAChBC,MAAO,iBACPC,YAAY,IAnBgB,eAqB7BvH,GAAqB,CACpBe,KAAMf,GACNW,UAAWmB,GACXoF,QAAS1D,GACT2D,WAAYL,GACZU,qBAAqB,CAAEpC,IAAH,OAAYX,IAChCgD,eAAgB/H,GAChBgI,kBAAmBhB,GACnBzF,aAAa,EACbmG,KAAMpI,GAAUqI,IAChBC,MAAO,SA/BqB,eAiC7BpH,GAAoB,CACnBa,KAAMb,GACNS,UAAWoB,GACXmF,QAASzD,GACT0D,WAAYJ,GACZS,qBAAqB,CAAE7B,IAAH,OAAWlB,IAC/BgD,eAAgB/H,GAChBgI,kBAAmBf,GACnB1F,aAAa,EACbmG,KAAMpI,GAAUqI,IAChBC,MAAO,QA3CqB,eA6C7BnH,GAAqB,CACpBY,KAAMZ,GACNQ,UAAWqB,GACXkF,QAASrD,GACTsD,WAAYH,GACZQ,qBAAqB,CAAEtB,IAAH,OAAYzB,IAChCgD,eAAgB/H,GAChBgI,kBAAmBd,GACnB3F,aAAa,EACbmG,KAAMpI,GAAUqI,IAChBC,MAAO,SAvDqB,IAgFnBK,IAAmB,qBAC7BvH,GAAoB,CACnBW,KAAMX,GACN8G,QAAS/D,GACTxC,UAAWyF,GACXwB,QAAS,6BACTN,MAAO,UACPO,QAAQ,EACRC,SAAUpI,KARkB,eAU7BW,GAA0B,CACzBU,KAAMV,GACN6G,QAAS1D,GACT7C,UAAW0F,GACXuB,QAAS,0BACTN,MAAO,OACPO,QAAQ,EACRC,SAAU9H,KAjBkB,eAmB7BM,GAAyB,CACxBS,KAAMT,GACN4G,QAASzD,GACT9C,UAAW2F,GACXsB,QAAS,yBACTN,MAAO,MACPO,QAAQ,EACRC,SAAU5H,KA1BkB,eA4B7BK,GAAyB,CACxBQ,KAAMR,GACN2G,QAASvD,GACThD,UAAW4F,GACXqB,QACE,mHACFN,MAAO,cACPO,QAAQ,EACRC,SAAU,sBApCkB,eAsC7BtH,GAA0B,CACzBO,KAAMP,GACN0G,QAAStD,GACTjD,UAAW6F,GACXoB,QACE,mHACFN,MAAO,eACPO,QAAQ,EACRC,SAAU,uBA9CkB,eAgD7BrH,GAA0B,CACzBM,KAAMN,GACNyG,QAASrD,GACTlD,UAAW8F,GACXmB,QAAS,0BACTN,MAAO,OACPO,QAAQ,EACRC,SAAU3H,KAvDkB,IAuEzB,SAAS4H,KAAoC,IAAzBD,EAAwB,uDAAb,GACpC,OAAO,IAAIE,IAAI,CACbpI,GACAC,GACAC,GACAE,GACAE,GACAC,KACC8H,IAAIH,GAQF,IAuDKI,GAvDCC,GAA6B,CACxCC,KAAMrC,GACNsC,OAAQpC,IAGGqC,GAAaC,OAAOC,KAAKvB,IAAWwB,QAAO,SAACC,EAAKZ,GAC5D,IAAMa,EAAO1B,GAAUa,GACjBc,EAAM,eAAQF,GAKpB,OAJAC,EAAKxB,WAAW0B,SAAQ,SAACC,GACvBF,EAAOE,EAAMjI,QAAUiI,KAEzBF,EAAOD,EAAKzB,QAAQrG,QAAU8H,EAAKzB,QAC5B0B,IACN,IAsBUG,IAjBqBR,OAAOC,KAAKvB,IAAWwB,QACvD,SAACC,EAAKZ,GACJ,IAAMa,EAAO1B,GAAUa,GACjBc,EAAM,eAAQF,GAMpB,OALAC,EAAKxB,WAAW0B,SAAQ,SAACC,GACvBF,EAAOE,EAAMjI,SAAW+H,EAAOE,EAAMjI,SAAW,IAAImI,OAClDlB,MAGGc,IAET,IAMiCL,OAAOC,KAAKvB,IAAWwB,QACxD,SAACC,EAAKZ,GACJ,IAAMa,EAAO1B,GAAUa,GACjBc,EAAM,eAAQF,GAEpB,OADAE,EAAOD,EAAKzB,QAAQrG,QAAUiH,EACvBc,IAET,KAGWK,GACF,UADEA,GAED,WAFCA,GAGL,OAHKA,GAIF,UAJEA,GAKJ,QAcF,SAASC,GAAiBC,GAC/B,OACEA,IAAajB,GAAWkB,gBACxBD,IAAajB,GAAWmB,gBACxBF,IAAajB,GAAWoB,gBACxBH,IAAajB,GAAWqB,gB,SAdhBrB,K,oBAAAA,E,kCAAAA,E,kCAAAA,E,kCAAAA,E,kCAAAA,E,mBAAAA,Q,KAkBL,I,GAAMsB,IAA+B,qBACzCtB,GAAWuB,QAAUC,KAAUC,KAAK,cADK,eAEzCzB,GAAW0B,OAASF,KAAUC,KAAK,WAFM,eAGzCzB,GAAWqB,eAAiBG,KAAUC,KAAK,YAHF,eAIzCzB,GAAWoB,eAAiBI,KAAUC,KAAK,YAJF,eAKzCzB,GAAWmB,eAAiBK,KAAUC,KAAK,YALF,eAMzCzB,GAAWkB,eAAiBM,KAAUC,KAAK,WANF,8BAO5BD,KAAUC,KAAK,WAPa,0CAQhBD,KAAUC,KAAK,WARC,yCASjBD,KAAUC,KAAK,WATE,yBAUjCD,KAAUC,KAAK,WAVkB,6CAWbD,KAAUC,KAAK,WAXF,IAqB/BE,GAAmD,CAC9DC,SAAU,CACR/I,KAAM,WACNC,KAAM+I,GACNC,UAAW/K,IAEbgL,eAAgB,CACdlJ,KAAM,gBACNC,KAAMkJ,GACNF,UAAW5K,GACX+K,UAAU,IAgBDC,GAEZ,eACErL,GAAQ2C,eAAiB,CACxBX,KAAM,iBACNzB,IAAK,+B,sC4Bx8CF,SAAS+K,GACdC,EACAlD,GAEA,MAAM,uCAAN,OAA8CA,EAA9C,YAAsDkD,GCAxD,IAAMC,GAAiB,IAAIvC,IAAI,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,MAC9CwC,GAAU9L,SAAQ,WAACF,gQAAYG,0BAAb,UAAmC,KAE9C8L,GAASC,aAAO,2BACvBC,GAAyBH,IACzB,CACEI,OAAQpM,gQAAYqM,yBACpBC,UAAWN,IAEb,IANsB,IAO1BO,gBAAiB,WACjBC,UAAU,KAGL,SAASL,GAAyBH,GACvC,QAAKA,GACED,GAAetC,IAAIuC,GAGrB,SAASS,GACdC,EACA9D,GAEA,IAAQ+D,EAAYV,GAAOS,KAAKA,GAAxBC,QAERA,EAAQC,GAAG,UAAU,SAACC,GACpB,GAAIA,EAAYH,KACd,MAAO,CACLI,QAASlO,IAAQmO,EAAE,SAAU,CAAEC,QAASpE,IACxCqE,KAAMpB,GAAiBgB,EAAYH,KAAM,UAI/CC,EAAQC,GAAG,UAAU,WACnB,MAAO,CACLE,QAASlO,IAAQmO,EAAE,SAAU,CAAEC,QAASpE,QAG5C+D,EAAQC,GAAG,eAAe,WACxB,MAAO,CACLE,QAASlO,IAAQmO,EAAE,cAAe,CAAEC,QAASpE,QAGjD+D,EAAQC,GAAG,aAAa,SAACC,GACvB,GAAIA,EAAYH,KACd,MAAO,CACLI,QAASlO,IAAQmO,EAAE,YAAa,CAAEC,QAASpE,IAC3CqE,KAAMpB,GAAiBgB,EAAYH,KAAM,UAI/CC,EAAQC,GAAG,YAAY,WACrB,MAAO,CACLE,QAASlO,IAAQmO,EAAE,WAAY,CAAEC,QAASpE,QAG9C+D,EAAQC,GAAG,YAAY,SAACC,GACtB,GAAIA,EAAYH,KACd,MAAO,CACLI,QAASlO,IAAQmO,EAAE,WAAY,CAAEC,QAASpE,IAC1CqE,KAAMpB,GAAiBgB,EAAYH,KAAM,U,4DCnBlCQ,OAxCf,WACE,OACE,sBAAKC,UAAWC,KAAOC,WAAvB,SACE,uBAAKF,UAAWC,KAAOE,QAAvB,UACE,oBACEC,KAAK,mCACLC,OAAO,SACPC,IAAI,aAHN,SAKE,eAAC,KAAD,CAAWC,SAAS,WAEtB,oBACEH,KAAK,mCACLC,OAAO,SACPC,IAAI,aAHN,SAKE,eAAC,KAAD,CAAUC,SAAS,WAErB,oBAAGH,KAAK,4BAA4BC,OAAO,SAASC,IAAI,aAAxD,SACE,eAAC,KAAD,CAAYC,SAAS,WAEvB,oBACEH,KAAK,gCACLC,OAAO,SACPC,IAAI,aAHN,SAKE,eAAC,KAAD,CAAWC,SAAS,WAEtB,oBACEH,KAAK,kCACLC,OAAO,SACPC,IAAI,aAHN,SAKE,eAAC,KAAD,CAAUC,SAAS,iB,6CCrBd,SAASC,GACtBC,EACAC,EACAC,GAEA,IAAIC,EACAC,EACJ,IAEED,EAAYE,aAAWL,EAAUC,GACjCG,GAAa,EACb,SACAD,EAAS,OAAGD,QAAH,IAAGA,IAAY5C,KAAUC,KAAK,KACvC6C,GAAa,EAEf,MAAO,CAAEE,MAAOH,EAAWC,cCbtB,SAASG,GACdN,EACAC,GAOA,OAAO,SACLM,GAEA,GAAIlD,KAAUmD,YAAYD,GACxB,MAAO,CACLE,SAAS,EACTC,SAAS,EACTV,YACAD,SAAUY,aAAYJ,EAAYP,GAClCE,UAAWK,EAAWK,YAGxB,MAAyCd,GACvCS,EACAP,EACAC,GAHaC,EAAf,EAAQG,MAKR,MAAO,CACLI,QAAwB,KAAfF,EACTG,SAPF,EAA0BP,WAQxBH,YACAD,SAAUQ,EACVL,UAAWA,EAAUU,a,ICzCjBC,GAOAC,GAMAC,G,kDAbAF,K,oBAAAA,E,YAAAA,E,kBAAAA,E,iBAAAA,Q,cAOAC,K,UAAAA,E,qBAAAA,E,iBAAAA,Q,cAMAC,K,UAAAA,E,gBAAAA,E,gBAAAA,E,cAAAA,E,iBAAAA,Q,KAqBL,IAAMC,GAA0B,CACrCC,sBAAsB,EACtBC,sBAAsB,EACtBC,cAAc,EACdC,iBAAkBP,GAAUQ,SAC5BC,iBAAkBR,GAAUS,SAC5BC,kBAAkB,EAClBC,4BAA6BV,GAAUW,QAGnCC,GAAwBrB,GAC5B,EACAsB,MAEIC,GAA6BvB,GACjC,EACAjD,KAAUC,KAAK,IAAIwE,IAAI,GAAGC,IAAI,IAG1BC,GAAYC,aAAY,CAC5BvN,KAAM,OACNsM,gBACAkB,SAAU,CACRC,uBADQ,SAENC,EACAC,GAEAD,EAAMnB,qBAAuBoB,EAAOC,SAEtCC,uBAPQ,SAQNH,EACAC,GAEAD,EAAMlB,qBAAuBmB,EAAOC,SAEtCE,eAbQ,SAaOJ,EAAkBC,GAE/BD,EAAMjB,aAAekB,EAAOC,SAE9BG,qBAjBQ,SAkBNL,EACAC,GAEAD,EAAMM,UAAYf,GAAsBU,EAAOC,UAEjDK,uBAvBQ,SAwBNP,EACAC,GAEAD,EAAMhB,iBAAmBiB,EAAOC,QAC5BD,EAAOC,UAAYzB,GAAU+B,SAE/BR,EAAMM,UAAYf,GAAsB,MAG5CkB,uBAjCQ,SAkCNT,EACAC,GAEAD,EAAMd,iBAAmBe,EAAOC,QAC5BD,EAAOC,UAAYxB,GAAU8B,SAE/BR,EAAMU,eAAiBjB,GAA2B,MAGtDkB,qBA3CQ,SA4CNX,EACAC,GAEAD,EAAMU,eAAiBjB,GAA2BQ,EAAOC,UAE3DU,uBAjDQ,SAkDNZ,EACAC,GAEAD,EAAMZ,iBAAmBa,EAAOC,SAElCW,kCAvDQ,SAwDNb,EACAC,GAEAD,EAAMX,4BAA8BY,EAAOC,QAEvCD,EAAOC,UAAYvB,GAAU6B,SAC/BR,EAAMc,0BAA4B,KAGtCC,gCAjEQ,SAkENf,EACAC,GAEAD,EAAMc,0BAA4Bb,EAAOC,YAKxC,GAWHN,GAAUoB,QARZZ,IAHK,GACLL,uBADK,GAELI,uBAFK,GAGLC,gBAGAO,IANK,GAILN,qBAJK,GAKLE,uBALK,GAMLI,sBACAF,GAPK,GAOLA,uBACAG,GARK,GAQLA,uBAKahB,IAbR,GASLiB,kCATK,GAULE,gCAGanB,GAAf,S,SC5IO,SAASqB,GAAUhD,GACxB,IACE,OAAOiD,aAAWjD,GAClB,SACA,OAAO,GAqBJ,SAASkD,GACdC,EACAC,EACAC,EACAC,GAEA,IAAKN,GAAUG,IAAYA,IAAYI,KACrC,MAAMC,MAAM,gCAAD,OAAiCL,EAAjC,OAGb,OAAO,IAAIM,YAASN,EAASC,EAlBxB,SACLC,EACAC,GAEA,OAAOA,EAZF,SACLD,EACAC,GAEA,OAAOD,EAAQK,UAAUJ,GAASK,mBAQjBD,CAAUL,EAASC,GAAWD,EAcbO,CAAoBP,EAASC,IAG1D,SAASO,GACdC,EACAC,GAEA,IAAMC,EAAQF,EAAGvD,WACX0D,EAASD,EAAME,OAASH,EAC9B,GAAIE,GAAU,EAAG,MAAO,MACxB,IAAME,EAAMC,KAAKC,OAAOJ,EAAS,GAAK,GAChCK,EAAML,EAAS,EAErB,MAAM,GAAN,OAAUD,EAAMO,OAAO,EAAGD,GAAO,GAAjC,YAAuCN,EAAMM,GAAO,IAApD,OADiB,CAAC,GAAI,IAAK,IAAK,IAAK,KAC6BH,IAG7D,SAASK,GACdV,EACAW,EACAC,GAEA,IAAMC,EAAgBrE,aAAYwD,EAAIW,GAChCG,EAAaD,EAAcE,QAAQ,KACzC,YAAyBC,IAAlBJ,IAA+C,IAAhBE,EAClCD,EACAA,EAAcI,MACZ,EACAH,GAAcF,EAAgB,EAAIA,EAAgB,EAAI,IAIvD,SAASM,GACdlB,EACAW,GAES,IADTC,EACQ,uDADQ,EAEhB,MAAM,GAAN,OAAUF,GAAiBV,EAAIW,EAAiB,EAAGC,GAAnD,KAGK,SAASO,GAAgBnB,EAAeoB,GAC7C,GAAIA,EAAc,EAAG,MAAM,IAAI1B,MAAM,gCACrC,OAAOM,EAAGpC,IAAI1E,KAAUC,KAAK,IAAIwE,IAAIyD,IAGhC,SAASC,GACdC,EACAC,EACAC,EACAC,GAEA,OAAOH,EAAWI,GAAG,KACjBF,EACG5D,IAAI1E,KAAUC,KAAK,IAAIwE,IAAI,GAAK8D,IAChCpB,IAAIiB,EAAW1D,IAAI1E,KAAUC,KAAK,IAAIwE,IAAI,GAAK4D,KAClDrI,KAAUC,KAAK,KAGd,SAASwI,GACdC,EACAC,GAEA,IAAIC,EAAW,GACf,OAAQF,GACN,KAAKhF,GAAUmF,IACbD,EAAW,GACX,MACF,KAAKlF,GAAUW,OACbuE,EAAW,GACX,MACF,KAAKlF,GAAUoF,OACbF,EAAW,GACX,MACF,KAAKlF,GAAUqF,MACbH,EAAW,GACX,MACF,KAAKlF,GAAU6B,OACbqD,IAAaD,GAAkBF,GAAuB/E,GAAUW,SAGpE,OAAOuE,EAIF,SAASI,GAAQC,GACtB,IAAMC,EAAQD,EAAIE,MAAM,KACxB,GAAID,EAAMhC,OAAS,EAAG,MAAM,IAAIV,MAAM,yCACtC,mBAAuB0C,EAAvB,GAAOE,EAAP,KAAcC,EAAd,KACA,GAAqB,IAAjBD,EAAMlC,OAAc,YAAiBY,IAAVuB,EAAsB,GAAtB,WAA+BA,GAQ9D,IAPA,IAAM/B,EAAM8B,EAAMlC,OAAS,EACrBC,EAAMC,KAAKC,MAAM+B,EAAMlC,OAAS,GAEhCoC,EAAY,IAAIC,MAAMH,EAAMlC,QAAkB,IAARI,EAAYH,EAAM,EAAIA,IAE9DqC,EAAYF,EAAUpC,OAAS,EAE1BuC,EAAIL,EAAMlC,OAAS,EAAGuC,GAAK,EAAGA,IAAK,CAE1C,IAAMC,EAASN,EAAMlC,OAAS,EAAIuC,EAElCH,EAAUE,KAAeJ,EAAMK,IAE1BC,EAAS,GAAK,IAAM,IACvBJ,EAAUE,KAAe,KAG7B,IAAMG,EAAaL,EAAUM,KAAK,IAClC,YAAiB9B,IAAVuB,EAAsBM,EAAtB,UAAsCA,EAAtC,YAAoDN,GAGtD,SAASQ,GAAgBC,EAAcC,GAC5C,OAAO,IAAIzL,IAAI,YAAIwL,GAAME,QAAO,SAACC,GAAD,OAAUF,EAAKxL,IAAI0L,OAG9C,SAASC,GACd/D,EACArF,GAEA,OACEjC,OAAOsL,OAAOvL,IAAYwL,MACxB,gBAAGnT,EAAH,EAAGA,UAAH,OACEA,EAAU6J,IACVqF,EAAQkE,gBAAkBpT,EAAU6J,GAASuJ,kBAC5C,KAIF,SAASC,GACdC,GAGY,IAFZC,EAEW,uDAFE,EACbtT,EACW,uCAEX,MAAsB,kBAAXqT,EACLE,OAAOF,GAAgBhG,KAEpBxB,eACHwH,EAASC,GAAYE,eAAe,QAAS,CAAEC,aAAa,IAC9D,IAEmB,MAAZzT,EACFqT,EACJ7F,IAAI3B,aAAWyH,EAAWI,QAAQ,GAAI,KACtCzD,IAAInH,KAAUC,KAAK,IAAIwE,IAAIvN,IAEzBqN,KAeF,IAAMsG,GAAQ,SAACC,GACpB,MAAO,KAAOA,EAAIvH,SAAS,KAGhBwH,GAAiB,SAACC,GAC7B,IAAMC,EAAOC,OAAOC,SAASC,OAC7B,MAAM,GAAN,OAAUH,EAAV,YAAkBD,I,wCC3Mb,SAASK,KAGd,IAAMvJ,EAAUwJ,cACVC,EAAiBD,YAA+BvV,IACtD,OAAO+L,EAAQ0J,OAAS1J,EAAUyJ,E,8ICiEpC,SAASE,GACPtF,EACAC,GAEkB,IADlBsF,IACiB,yDACjB,EAA6BL,KAArBhF,EAAR,EAAQA,QAASC,EAAjB,EAAiBA,QAEjB,OAAOqF,oBAAQ,WACb,IAAKxF,IAAYC,IAAQC,EAAS,OAAO,KACzC,IACE,OAAOH,GACLC,EACAC,EACAC,EACAqF,GAAwBpF,EAAUA,OAAUwB,GAE9C,MAAO8D,GAEP,OADAC,QAAQD,MAAM,yBAA0BA,GACjC,QAER,CAACzF,EAASC,EAAKC,EAASqF,EAAsBpF,IAI5C,SAASwF,GAAgBC,GAC9B,MAAsCV,KAA9BvK,EAAR,EAAQA,QAASwF,EAAjB,EAAiBA,QAASD,EAA1B,EAA0BA,QAC1B,OAAOsF,oBAAQ,WACb,IAAKI,IAAa1F,IAAYvF,EAAS,OAAO,KAC9C,IACE,IAAMkL,EAAO/N,GAAU8N,GACvB,QAA8BjE,WAAnBkE,EAAK/U,UAAyB,OAAO,KAChD,OAAQ8U,GACN,KAAKrV,GAOL,KAAKC,GAOL,KAAKC,GAOL,KAAKC,GAOL,KAAKC,GAOL,KAAKC,GACH,OAAOmP,GACL8F,EAAK/U,UAAU6J,GACfmL,KAAKC,UAAUC,GAAsBC,KACrC/F,EAHgB,OAIhBC,QAJgB,IAIhBA,SAAWwB,GASf,QACE,OAAO,MAEX,MAAO8D,GAEP,OADAC,QAAQD,MAAM,yBAA0BA,GACjC,QAER,CAAC9K,EAASuF,EAASC,EAASyF,IAG1B,SAASM,KACd,IAAQvL,EAAYuK,KAAZvK,QAER,OAAO2K,GADiB3K,EAAU3E,GAAwB2E,QAAWgH,EACjCwE,IAG/B,SAASC,KACd,IAAQzL,EAAYuK,KAAZvK,QAIR,OAAO2K,GAHiB3K,EACpBxE,GAAyBwE,QACzBgH,EACgC0E,GAAUJ,KAczC,SAASK,KACd,IAAQ3L,EAAYuK,KAAZvK,QAIR,OAAO2K,GAHiB3K,EACpB7I,GAA0B6I,QAC1BgH,EACgC4E,IAyB/B,SAASC,GACd9K,EACA6J,GAEA,IAAQ5K,EAAYuK,KAAZvK,QAER,OAAO2K,GADc3K,EAAUe,EAAE5K,UAAU6J,QAAWgH,EACrBwE,GAAWZ,GAGvC,SAASkB,GAAgBxO,GAC9B,MAAsCiN,KAA9BvK,EAAR,EAAQA,QAASwF,EAAjB,EAAiBA,QAASD,EAA1B,EAA0BA,QAC1B,OAAOsF,oBAAQ,WACb,IAAKvN,IAAaiI,IAAYvF,EAAS,OAAO,KAC9C,IACE,IAAM7B,EAAO1B,GAAUa,GACvB,QAA8B0J,WAAnB7I,EAAKhI,UAAyB,OAAO,KAEhD,OAAQmH,GACN,KAAKpI,GACH,OAAOkQ,GACLjH,EAAKhI,UAAU6J,GACfmL,KAAKC,UAAUW,IACfxG,EAHgB,OAIhBC,QAJgB,IAIhBA,SAAWwB,GAEf,KAAKzR,GAOL,KAAKE,GACH,OAAO2P,GACLjH,EAAKhI,UAAU6J,GACfmL,KAAKC,UAAUY,IACfzG,EAHgB,OAIhBC,QAJgB,IAIhBA,SAAWwB,GAEf,KAAKxR,GAOL,KAAKE,GAOL,KAAKC,GACH,OAAOyP,GACLjH,EAAKhI,UAAU6J,GACfmL,KAAKC,UAAUa,IACf1G,EAHgB,OAIhBC,QAJgB,IAIhBA,SAAWwB,GAEf,QACE,OAAO,MAEX,MAAO8D,GAEP,OADAC,QAAQD,MAAM,yBAA0BA,GACjC,QAER,CAAC9K,EAASuF,EAASC,EAASlI,IA2D1B,SAAS4O,GACd5O,GAEA,MAAsCiN,KAA9BvK,EAAR,EAAQA,QAASwF,EAAjB,EAAiBA,QAASD,EAA1B,EAA0BA,QAC1B,OAAOsF,oBAAQ,WACb,IAAKvN,IAAaiI,IAAYvF,EAAS,OAAO,KAC9C,IACE,IAAM7B,EAAO1B,GAAUa,GAEvB,OAAQA,GACN,KAAKpI,GACH,OAAOkQ,GACLjH,EAAKzB,QAAQvG,UAAU6J,GACvBmL,KAAKC,UAAUe,IACf5G,EAHgB,OAIhBC,QAJgB,IAIhBA,SAAWwB,GAEf,KAAKzR,GAOL,KAAKE,GAOL,KAAKD,GAOL,KAAKE,GAOL,KAAKC,GACH,OAAOyP,GACLjH,EAAKzB,QAAQvG,UAAU6J,GACvBmL,KAAKC,UAAUgB,IACf7G,EAHgB,OAIhBC,QAJgB,IAIhBA,SAAWwB,GAEf,QACE,OAAO,MAEX,MAAO8D,GAEP,OADAC,QAAQD,MAAM,yBAA0BA,GACjC,QAER,CAAC9K,EAASuF,EAASC,EAASlI,IAG1B,SAAS+O,GACdpB,GAEA,MAAsCV,KAA9BvK,EAAR,EAAQA,QAASwF,EAAjB,EAAiBA,QAASD,EAA1B,EAA0BA,QAC1B,OAAOsF,oBAAQ,WACb,IAAKI,IAAa1F,IAAYvF,EAAS,OAAO,KAC9C,IACE,IAAMkL,EAAO/N,GAAU8N,GAEvB,OAAQA,GACN,KAAKrV,GACH,OAAOwP,GACL8F,EAAKxO,QAAQvG,UAAU6J,GACvBmL,KAAKC,UAAUe,IACf5G,EAHgB,OAIhBC,QAJgB,IAIhBA,SAAWwB,GAEf,KAAKnR,GAOL,KAAKC,GAOL,KAAKC,GAOL,KAAKC,GAOL,KAAKC,GACH,OAAOmP,GACL8F,EAAKxO,QAAQvG,UAAU6J,GACvBmL,KAAKC,UAAUgB,IACf7G,EAHgB,OAIhBC,QAJgB,IAIhBA,SAAWwB,GASf,QACE,OAAO,MAEX,MAAO8D,GAEP,OADAC,QAAQD,MAAM,yBAA0BA,GACjC,QAER,CAAC9K,EAASuF,EAASC,EAASyF,IAM1B,SAASqB,KACd,IAAMC,EAAcV,GAAiBlS,IAC/B6S,EAAeX,GAAiBhS,IAChC4S,EAAeZ,GAAiB9R,IAChC2S,EAAeb,GAAiBjR,IAChC+R,EAAwBd,GAC5BlT,IAEIiU,EAAef,GAAiBtQ,IAChCsR,EAAiBhB,GAAiBpQ,IAClCqR,EAAcjB,GAAiB1Q,IAC/B4R,EAAelB,GAAiBnQ,IAEtC,OAAOmP,oBAAQ,WAAO,IAAD,EACnB,MACG,CACC0B,EACAC,EACAC,EACAE,EACAE,EACAC,EACAF,EACAF,GACAM,KAAKC,UAGF,EAAP,iBACGtT,GAAItD,OAASkW,GADhB,cAEG1S,GAAKxD,OAASmW,GAFjB,cAGGzS,GAAK1D,OAASoW,GAHjB,cAIG7R,GAAKvE,OAASqW,GAJjB,cAKG/T,GAAyBtC,OAASsW,GALrC,cAMGpR,GAAKlF,OAASuW,GANjB,cAOGnR,GAAMpF,OAASwW,GAPlB,cAQG1R,GAAI9E,OAASyW,GARhB,cASGpR,GAAKrF,OAAS0W,GATjB,GADS,OAYR,CACDR,EACAC,EACAC,EACAE,EACAD,EACAE,EACAC,EACAC,ICtfJ,IAAMI,GAAe,uEAoDfC,GAAgB,CACpBC,SAAU3J,KACV4J,WAAY5J,KACZ6J,IAAK,KACL/W,KAAM,GACNgX,QAAS,KACTC,QAAS/J,KACTgK,OAAQ,GACRC,YAAajK,KACbkK,YAAa,KACbC,aAAcnK,KACdoK,OAAQ,KACRC,KAAM,GACNC,gBAAiBtK,KACjB/G,QAAS,GACTsR,UAAU,GAGG,SAASC,GACtB3Q,GAEA,MAAsCiN,KAA9B/E,EAAR,EAAQA,QAASD,EAAjB,EAAiBA,QAASvF,EAA1B,EAA0BA,QACpBkO,EAAepC,GAAgBxO,GACrC,EAA4D6Q,cAC1D,SAAClK,GAAD,OAAqBA,EAAMmK,eADrBC,EAAR,EAAQA,eAAgBC,EAAxB,EAAwBA,qBAAsBC,EAA9C,EAA8CA,UAGxCC,EAAkBF,EAAqB7P,IACvCgQ,EAAmBH,EAAqB7P,IACxCiQ,EAAeJ,EAAqB7P,IACpCkQ,EAAkBL,EAAqB7P,IAE7C,EAAgCmQ,oBAAiC,CAAC,2BAE3DzB,IAF0D,IAG7D5W,KAAM+G,GAAY,KAEpB,OALF,oBAAOuR,EAAP,KAAiBC,EAAjB,KA4NA,OApNAC,sBAAU,WAAM,8CACd,uBA+BWC,EA/BX,YAAAC,EAAA,kDAAAA,EAAA,yDA+BWD,EA/BX,SA+BoCE,GAEhC,OAAOA,EACJtL,IAAI1E,KAAUC,KAAK,IAAIwE,IAAI,KAC3B0C,IACC8I,EAAoBC,SAChBlQ,KAAUC,KAAK,KACfgQ,IApCI,MAAZ7R,GACgB,MAAhB4Q,GACkB,MAAlBG,GACW,MAAX9I,GACW,MAAXvF,EANJ,iEAYwBqP,MAAMnC,IACzBoC,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBF,MAAK,SAACG,GACL,OAAOA,EAAKC,KAAI,SAACC,GACf,MAAO,CACLC,UAAWD,EAAEC,UACbC,aAAcF,EAAEE,oBAlB1B,cAYMC,EAZN,OAsBMC,EAAWD,EAAUxG,MAAM,qBAAGsG,YAA8BtS,KAE9D0S,EADsB,qBAAbD,EAEP7Q,KAAUC,KAAKmH,KAAK2J,MAAMC,WAAWH,EAASF,gBAAgBjM,IAAI1E,KAAUC,KAAK,IAAIwE,IAAI,KAE7E,KAgBVwM,GADAC,EAAO3T,GAAUa,IACUX,WAC3B0T,EAAkBjL,GACtBgL,EAAK1T,QAAQvG,UAAU6J,GACvBsQ,GACA/K,EAHiC,OAIjCC,QAJiC,IAIjCA,SAAWwB,GAGPuJ,EAAkB,IAAIC,YAnD9B,UAoDQD,EAAgBtd,KAAKsS,GApD7B,eAsDMvF,GAAWzL,GAAQ0C,eACrBsZ,EAAgBE,iBACd,6CACOzQ,GAAWzL,GAAQ2C,iBAC5BqZ,EAAgBE,iBACd,8CA3DN,oBAiEyBvC,EAAawC,oBAjEtC,QAiEI9C,EAjEJ,0DAmEI7C,QAAQ4F,IAAR,gCACA/C,EAAenK,KApEnB,eAwEQmN,EAAwB,IAAIjL,YAChCuI,EAAa7I,QACbwL,IAEI5B,EAAuC2B,EAAsBE,IAC7DC,EAAyCH,EAAsBG,MAC/DC,EAAoBb,EAAoBT,KAAI,SAACuB,EAAGC,GACpD,OAAON,EAAsBO,SAASD,MA/E1C,UAmFsCX,EAAgBa,IAAhB,CACjCnC,EAAG8B,GAD8B,mBACtBC,IACZ,UArFJ,eAmFQK,EAnFR,OAwFQC,EAAgBD,EACnBpK,MAAM,GACNyI,KAAI,SAAC6B,EAASL,GACb,OAAOK,EAAQ3N,IACb1E,KAAUC,KAAK,IAAIwE,IAAI,GAAKwM,EAAoBe,GAAO9a,cA5F/D,UAkG0Dob,QAAQJ,IAAI,CAClEf,EAAgBoB,UAAUjM,GAAWC,MACrC4K,EAAgBqB,gBApGpB,qCAkGSC,EAlGT,KAkG6BxC,EAlG7B,KAwGQyC,EAA8BN,EAAcrT,QAAO,SAAC4T,EAAKlC,GAAN,OACvDkC,EAAIC,IAAInC,MAEJoC,EAAmB5B,EAAoBT,KAAI,SAACpR,EAAOqK,GAGvD,OADgB2I,EAAc3I,GAE3B/E,IAAI3B,aAAW+P,OAAO3D,EAAe/P,EAAMjI,SAAW,GAAI,KAC1DgQ,IAAInH,KAAUC,KAAK,IAAIwE,IAAI,QAE1BsO,EAAiCF,EAAiB9T,QAAO,SAAC4T,EAAKlC,GAAN,OAC7DkC,EAAIC,IAAInC,MAEJ5B,EAAkB6D,EAAiBxC,SACrC3L,KACAwO,EACGrO,IAAI1E,KAAUC,KAAK,IAAIwE,IAAI,KAC3B0C,IAAIuL,GAGLM,EAAYlD,EAAyB2C,GACrCQ,EAAwBb,EAAc5B,KAAI,SAAC6B,GAC/C,OAAOW,EAAUtO,IAAI2N,GAASlL,IAAInH,KAAUC,KAAK,IAAIwE,IAAI,QAErDyO,EAAsCD,EAAsBlU,QAChE,SAAC4T,EAAKlC,GAAN,OAAYkC,EAAIC,IAAInC,MAEhB0C,EAA2BN,EAAiBrC,KAAI,SAAC6B,GACrD,OAAOW,EAAUtO,IAAI2N,GAASlL,IAAInH,KAAUC,KAAK,IAAIwE,IAAI,QAErD2O,EAAyCD,EAAyBpU,QACtE,SAAC4T,EAAKlC,GAAN,OAAYkC,EAAIC,IAAInC,MAIhBhT,EAAawT,EAAoBT,KAAI,SAACpR,EAAOqK,GAAR,MAAe,CACxDtS,OAAQiI,EAAMjI,OACdkc,QAASrL,GACPoK,EAAc3I,GACX/E,IADH,SACO,GAAM,IACVyC,IACC8I,EAAoBC,SAChBlQ,KAAUC,KAAK,KACfyS,GAER,GAEF1P,MAAOoP,EAAc3I,OAEjB6J,EAAiBrC,EAAoBT,KAAI,SAACpR,EAAOqK,GAAR,MAAe,CAC5DtS,OAAQiI,EAAMjI,OACdkc,QAASrL,GACPoK,EAAc3I,GACX/E,IADH,SACO,GAAM,IACVyC,IACC8I,EAAoBC,SAChBlQ,KAAUC,KAAK,KACfyS,GAER,GAEF1P,MAAOiQ,EAAsBxJ,OAIzBkG,EAzKR,2BA0KO1B,IA1KP,IA2KI5W,KAAM+G,EACNmQ,OAAQ9Q,EACR4Q,QAAS0E,EACTvE,YAAayB,EACb9B,WAAYgE,EAAsB,GAClC7D,QAAS6D,EAAsB,GAC/BzD,eACAG,kBACArR,QAAS0T,EAAK1T,QAAQrG,OACtBwX,OAAQmC,IAcVlB,EAAY,CAACD,EAZSrJ,EAClB,CACEjP,KAAM+G,EACNmV,MAAOP,EACPQ,uBAAwBN,EACxBO,WAAYL,EACZ7E,OAAQ+E,EACRI,eAAgBjB,EAChBkB,cAAe,IAEjB,OAhMN,4DADc,uBAAC,WAAD,wBAqMTC,KACJ,CACDtE,EACAC,EACAC,EACAC,EACAT,EACAG,EACA/Q,EACAkI,EACAD,EACAvF,EACAuO,IAGKM,E,WCpUGkE,G,2DCRG,OAA0B,oC,oBDQ7BA,K,kBAAAA,E,kBAAAA,E,gBAAAA,E,kBAAAA,E,iBAAAA,Q,KAwCGC,OA3Bf,YAK2C,IAAD,IAJxCC,aAIwC,MAJhC,qBAIgC,MAHxCrW,YAGwC,MAHjCmW,GAAUG,QAGuB,MAFxCC,mBAEwC,MAF1B,GAE0B,EADxCC,EACwC,EADxCA,SAEQrS,EAAMsS,eAANtS,EAER,OACE,uBAAKI,UAAU,qBAAf,UACE,qBACEA,UAAWmS,KACT,CAAEC,OAAQ3W,IAASmW,GAAUS,QAC7B,CAAEC,QAAS7W,IAASmW,GAAUW,UAHlC,SAMG3S,EAAEkS,KAEJE,EAAc,eAAC,KAAD,UAAOA,IAAsB,KAC3CvW,IAASmW,GAAUG,QAClB,sBAAKS,IAAKC,GAAYC,IAAI,aAAa1S,UAAU,eAC/C,KACHiS,M,+CElCQ,SAASU,GAAT,GAGU,IAFvBC,EAEsB,EAFtBA,QACAC,EACsB,EADtBA,SAEA,OACE,yBAAO7S,UAAU,gBAAjB,UACE,wBAAOvE,KAAK,WAAWmX,QAASA,EAASC,SAAUA,IACnD,sBAAK7S,UAAU,kBAAf,SACE,sBACE8S,MAAM,6BACNC,QAAQ,YACRC,cAAY,OACZC,UAAU,QAJZ,SAME,uBACEC,KAAK,OACLC,YAAY,IACZC,EAAE,4C,OCnBC,SAASC,GAAT,GAGmC,IAFhDC,EAE+C,EAF/CA,QACArB,EAC+C,EAD/CA,SAEA,OACE,uBAAKjS,UAAU,UAAf,UACGiS,EACD,sBAAKjS,UAAU,cAAf,SAA8BsT,O,yBCKrB,SAASC,KACtB,IAAQ3T,EAAMsS,eAANtS,EACF4T,EAAWC,eACjB,EAA+DzG,cAC7D,SAAClK,GAAD,OAAqBA,EAAM4Q,QADrBxR,EAAR,EAAQA,iBAAkBsB,EAA1B,EAA0BA,eAAgBxB,EAA1C,EAA0CA,iBAI1C,OACE,uBAAKhC,UAAWC,KAAO0T,gBAAvB,UACE,sBAAK3T,UAAWC,KAAO2T,UAAvB,SACE,uBAAK5T,UAAWC,KAAOiC,iBAAkB2R,MAAO,CAAEC,OAAQ,GAA1D,UACE,eAAC,GAAD,CACElB,QAAS1Q,EACT2Q,SAAU,kBACRW,EAAS9P,IAAwBxB,OAGrC,eAAC,GAAD,CAASoR,QAAS1T,EAAE,2BAApB,SACE,uBAAMI,UAAWC,KAAO8T,MAAxB,SAAgCnU,EAAE,6BAIxC,sBAAKI,UAAWC,KAAO2T,UAAvB,SACE,sBAAK5T,UAAWC,KAAO+T,WAAvB,SACE,uBAAKhU,UAAWC,KAAOgU,QAAvB,UACE,uBAAKjU,UAAWC,KAAO8T,MAAvB,UAA+BnU,EAAE,eAAjC,QACA,yBACEI,UAAWmS,KAAW,eACnBlS,KAAOiU,SAAWlS,IAAqBR,GAAUS,WAEpDkS,QAAS,kBACPX,EAASjQ,GAAuB/B,GAAUS,YAL9C,SAQE,2CAEF,yBACEjC,UAAWmS,KAAW,eACnBlS,KAAOiU,SAAWlS,IAAqBR,GAAU4S,MAEpDD,QAAS,kBACPX,EAASjQ,GAAuB/B,GAAU4S,OAL9C,SAQE,yCAEF,sBAAKP,MAAO,CAAEQ,QAAS,OAAQC,WAAY,UAA3C,SACE,gBAAC,KAAD,CAAYC,WAAW,MAAMC,MAAM,OAAnC,UACE,eAAC,KAAD,CACEzT,MAAK,OAAEyC,QAAF,IAAEA,OAAF,EAAEA,EAAgB/C,SACvBhF,KAAK,OACLgZ,QAAQ,UACR5B,SAAU,SAAC6B,GACT,IAAM3T,EAAQ2T,EAAErU,OAAOU,MACnBA,IAAUyH,OAAOzH,IACnByS,EAAS/P,GAAqB1C,IAC1BiB,IAAqBR,GAAU8B,QACjCkQ,EAASjQ,GAAuB/B,GAAU8B,UAG5CkQ,EAASjQ,GAAuB/B,GAAUS,cAIhD,eAAC,KAAD,CAAmBuS,MAAM,OAAzB,8B,kCCzED,SAASG,GAAWC,GACjC,IAAQC,EAAoCD,EAApCC,aAAclZ,EAAsBiZ,EAAtBjZ,MAAOmZ,EAAeF,EAAfE,WAC7B,OACE,sBAAK9U,UAAW6U,EAAhB,SACE,eAAC,KAAD,CAAME,GAAIpZ,EAAOqE,UAAWC,KAAO+U,UAAnC,SACE,6BAAIF,Q,kCCKCG,GAAoB,SAAC,GAGN,IAF1BC,EAEyB,EAFzBA,gBACAC,EACyB,EADzBA,mBAEQtT,EAAiBmL,cAAY,SAAClK,GAAD,OAAqBA,EAAM4Q,QAAxD7R,aACR,OACE,gBAAC,KAAD,WACE,eAAC,KAAD,UACE,eAAC,KAAD,eAAgBqT,MAElB,eAAC,KAAD,UACE,gBAAC,KAAD,CACEE,QACEvT,EAAe,wBAA0B,2BAE3CwT,YAAaxT,EAAe,UAAY,UACxCyT,OAAQ,CAAEC,UAAW,QACrBC,QAAS,CAAED,UAAW,QACtB1B,MAAO,CACL4B,eAAgB,YAChBC,qBAAsB,aAT1B,UAYE,eAAC,KAAD,IACA,eAAC,KAAD,IACA,eAAC,KAAD,UAAcP,a,OCnBTQ,OAhBf,YAAgE,IAArCC,EAAoC,EAApCA,YACjBhW,EAAMsS,eAANtS,EAER,OACE,sBAAKI,UAAU,kBAAf,SACE,+BACGJ,EAAE,yBADL,KAEE,oBAAGQ,KAAMwV,EAAavV,OAAO,SAASC,IAAI,sBAA1C,SACGV,EAAE,eAHP,U,OC4BSiW,OAhCf,YAA2E,IAA1DC,EAAyD,EAAzDA,OAAQC,EAAiD,EAAjDA,QAAS9D,EAAwC,EAAxCA,SAChC,OAAK6D,EAID,cADA,CACA,OACE9V,UAAU,QACVmU,QAAS,SAACO,GACJA,EAAErU,SAAWqU,EAAEsB,eACjBD,KAJN,SASE,uBAAK/V,UAAU,eAAf,UACE,uBACEA,UAAU,QACVmU,QAAS,SACPO,GAEAA,EAAEuB,kBACFF,KANJ,kBAWC9D,OAzBW,M,8CCAP,SAASiE,GACtBtB,GAEA,MAA6DA,EAArDuB,YAAR,MAAe,UAAf,IAA6DvB,EAAnCwB,YAA1B,MAAiC,QAAjC,EAA6CC,EAA7C,aAA6DzB,EAA7D,IACA,OACE,qCAAQ5U,UAAWmS,KAAW,SAAUgE,EAAMC,IAAWC,I,OCN9C,SAASC,GAAT,GAGU,IAFvB1D,EAEsB,EAFtBA,QACA2D,EACsB,EADtBA,QAEQ3W,EAAMsS,eAANtS,EACR,OACE,uBAAKI,UAAU,8BAAf,UACGJ,EAAE,+BACH,uBAAKI,UAAU,kBAAf,UACE,gCAAOJ,EAAE,cAAoB,IAC7B,eAAC,GAAD,CAAegT,QAASA,EAASC,SAAU0D,UCjB5C,SAASC,GACdC,EAKAC,EACAtT,GAEA,IACIuT,EADJ,EAAyDF,EAAjDG,mBAAR,MAAsB,EAAtB,IAAyDH,EAAhCI,eAAzB,MAAmC,EAAnC,IAAyDJ,EAAnBK,kBAAtC,MAAmD,EAAnD,EAWA,OAREH,EADED,IAAgBnV,GAAU+B,OACpB,OAAGF,QAAH,IAAGA,OAAH,EAAGA,EAAWxC,UACb8V,IAAgBnV,GAAUwV,KACxBF,EACFH,IAAgBnV,GAAUyV,QACxBF,EAEAF,EAEN7Y,KAAUC,KAAK2Y,GAGjB,SAASM,GACdR,EAKAC,EACAtT,GAEA,OAAOoT,GAAeC,EAAeC,EAAatT,GAAW9B,WCvBxD,SAAS4V,GACdjW,EACAe,EACAwB,GAEY,IACR2T,EACAC,EAHJzG,EACW,wDAgBX,OAbI3O,IAAqBR,GAAU8B,QAAYE,GAC7C4T,EAAcrZ,KAAUC,KAAK,IAAIwE,IAAIgB,EAAe9C,UAAY,GAChEyW,EAAYxG,EACRyG,EAAYzG,IAAInN,EAAe5C,WAC/BwW,EAAYC,IAAI7T,EAAe5C,YAGnCuW,EAFSnV,IAAqBR,GAAUS,UACxCmV,EAAc,MACazG,EAAM,GAAK,IAGtCyG,EAAc,MACazG,EAAM,GAAK,GAEjC1P,EAAWwB,IAAI0U,GAAWjS,IAAIkS,GAGhC,SAASE,GACdrW,EACAe,EACAwB,GAEA,OAAO0T,GAAejW,EAAYe,EAAkBwB,GAAgB,GAG/D,SAAS+T,GACdtW,EACAe,EACAwB,GAEA,OAAO0T,GAAejW,EAAYe,EAAkBwB,GAAgB,GAG/D,SAASgU,GACdxV,EACAwB,GAEA,OAAIxB,IAAqBR,GAAU8B,QAAYE,EACtCnC,aAAYmC,EAAe5C,UAAhB,OAA2B4C,QAA3B,IAA2BA,OAA3B,EAA2BA,EAAgB9C,WACpDsB,IAAqBR,GAAUS,SACjCZ,aAAYtD,KAAUC,KAAK,KAAM,GAC/BgE,IAAqBR,GAAU4S,IACjC/S,aAAYtD,KAAUC,KAAK,KAAM,GAEjC,MC7DJ,SAASyZ,GAAkBC,GAEhC,IAAMC,EAAS5Z,KAAUC,KAAK,IAC3BwE,IAAI,IACJC,KAAK,GACR,OAAOiV,EAAYE,IAAID,GAGlB,SAASE,GACdC,EACAC,GAGY,IAFZtL,EAEW,uDAFI1O,KAAUC,KAAK,IAAIwE,IAAI,IACtCwV,EACW,wDAKX,OAAIF,EAAiBF,IAAI,GAAWtV,KAE7B0V,EACHD,EACGtV,IAAI1E,KAAUC,KAAK,IAAIwE,IAAI,KAC3B0C,IAAI4S,EAAiBrV,IAAIgK,IACzB4K,IAAItZ,KAAUC,KAAK,IAAIwE,IAAI,KAC9BiK,EACGhK,IAAIsV,GACJ7S,IAAI4S,GACJT,IAAItZ,KAAUC,KAAK,IAAIwE,IAAI,KCgJrByV,OA1Jf,YAIyB,IAAD,EAHtBlC,EAGsB,EAHtBA,QACAmC,EAEsB,EAFtBA,UACAC,EACsB,EADtBA,gBAEQvY,EAAMsS,eAANtS,EACR,EAKIoN,cAAY,SAAClK,GAAD,OAAqBA,EAAM4Q,QAJzClQ,EADF,EACEA,eACAxB,EAFF,EAEEA,iBACAF,EAHF,EAGEA,iBACAsB,EAJF,EAIEA,UAEF,EAA6C4J,cAC3C,SAAClK,GAAD,OAAqBA,EAAMmK,eADrB2J,EAAR,EAAQA,YAAaC,EAArB,EAAqBA,QAASC,EAA9B,EAA8BA,WAG9B,EAGIrJ,qBAAS,GAHb,oBACE2K,EADF,KAEEC,EAFF,KAIMC,EAAuBb,GAAkBU,EAAgBT,aAE/D,OACE,uBAAK1X,UAAU,gBAAf,UACE,8BAAKJ,EAAE,mBACP,uBAAKI,UAAU,QAAf,UACE,8BAAKJ,EAAE,gBACP,iCACGuY,EAAgBna,KAAKua,MAAMhK,KAAI,gBAAGpR,EAAH,EAAGA,MAAOmL,EAAV,EAAUA,OAAV,OAC9B,uBAAKtI,UAAU,YAAf,UACE,uBAAKA,UAAU,QAAf,UACE,sBAAKwS,IAAKrV,EAAM9H,KAAMqd,IAAI,SAC1B,gCAAOvV,EAAMjI,YAEf,sBAAK8K,UAAU,QAAf,SACE,uBAAMA,UAAU,QAAhB,SACG+G,GAAQxB,GAAiB+C,EAAQnL,EAAMlI,iBAPdkI,EAAMjI,WAYxC,uBAAK8K,UAAU,YAAf,UACE,sBAAKA,UAAU,QAAf,SACE,6BAAIJ,EAAE,aAER,sBAAKI,UAAU,QAAf,SACE,oBAAGA,UAAU,QAAb,SACG+G,GACCxB,GAAiB4S,EAAgBna,KAAKwa,YAAa,eAM7D,sBAAKxY,UAAU,UAAU6T,MAAO,CAAE4E,OAAQ,MAAOjE,MAAO,UACxD,8BAAK5U,EAAE,eACP,+BACE,uBAAKI,UAAU,YAAf,UACE,uBAAKA,UAAU,QAAf,UACE,sBAAKwS,IAAK2F,EAAgBpD,GAAG/M,KAAK7K,MAAM9H,KAAMqd,IAAI,SAClD,gCAAOyF,EAAgBpD,GAAG/M,KAAK7K,MAAMjI,YAEvC,sBAAK8K,UAAU,QAAf,SACE,uBAAMA,UAAU,QAAhB,SACG+G,GACCxB,GACE4S,EAAgBpD,GAAG/M,KAAKM,OACxB6P,EAAgBpD,GAAG/M,KAAK7K,MAAMlI,iBAVRkjB,EAAgBpD,GAAG/M,KAAK7K,MAAMjI,UAiBhE,sBAAK8K,UAAU,UAAU6T,MAAO,CAAE4E,OAAQ,MAAOjE,MAAO,UACxD,uBAAKxU,UAAU,kBAAf,UACE,uBAAMA,UAAU,QAAhB,SAAyBJ,EAAE,iBAC3B,uBAAMI,UAAU,QAAhB,SACG+F,GAAwBoS,EAAgBO,YAAa,SAG1D,uBAAK1Y,UAAU,kBAAf,UACE,uBAAMA,UAAU,QAAhB,SAAyBJ,EAAE,SAC3B,wBAAMI,UAAU,QAAhB,UACGiX,GACC,CAAEL,cAAaC,UAASC,cACxBhV,EACAsB,GACC,IALL,cASD,UAAA+U,EAAgBQ,kBAAhB,eAA4BC,WAC3B,uBAAK5Y,UAAU,kBAAf,UACE,uBAAMA,UAAU,QAAhB,SAAyBJ,EAAE,qBAC3B,uBAAMI,UAAU,QAAhB,0BACQ+G,GACJxB,GAAiB4S,EAAgBQ,WAAWC,SAAU,EAAG,UAKjE,uBAAK5Y,UAAU,kBAAf,UACE,uBAAMA,UAAU,QAAhB,SAAyBJ,EAAE,iBAC3B,wBAAMI,UAAU,QAAhB,UACGwX,GAAuBxV,EAAkBwB,GAD5C,UAIF,uBAAKxD,UAAU,kBAAf,UACE,uBAAMA,UAAU,QAAhB,SAAyBJ,EAAE,WAC3B,uBAAKI,UAAU,cAAf,UACGmY,EAAgBna,KAAKua,MAAMhK,KAC1B,gBAAGpR,EAAH,EAAGA,MAAO0b,EAAV,EAAUA,oBAAV,OACE,uCACK1b,EAAMjI,OADX,OAEG6R,GAAQxB,GAAiBsT,EAAqB,GAAI,MAF1C1b,EAAMjI,WAMpB,CAACijB,EAAgBpD,GAAG/M,MAAMuG,KAAI,gBAAGpR,EAAH,EAAGA,MAAO0b,EAAV,EAAUA,oBAAV,OAC7B,uCACK1b,EAAMjI,OADX,OAEG6R,GAAQxB,GAAiBsT,EAAqB,GAAI,MAF1C1b,EAAMjI,oBAQxBojB,GACC,eAAC,GAAD,CACE1F,QAASwF,EACT7B,QAAS,kBACP8B,GAA+B,SAACS,GAAD,OAAgBA,QAIrD,uBAAK9Y,UAAU,SAAf,UACE,6BAAIJ,EAAE,qBACN,uBAAKI,UAAU,gBAAf,UACE,eAAC,GAAD,CACEmU,QAAS+D,EACT/B,KAAK,UACL4C,SAAUT,IAAyBF,EAHrC,SAKGxY,EAAE,oBAEL,eAAC,GAAD,CAAQuU,QAAS4B,EAASI,KAAK,SAA/B,SACGvW,EAAE,sB,4DC/HToZ,GAAY,SAACpE,GACjB,IAAQqE,EAAiDrE,EAAjDqE,UAAWC,EAAsCtE,EAAtCsE,YAAaC,EAAyBvE,EAAzBuE,YAAahF,EAAYS,EAAZT,QAC7C,OAAI+E,EAEA,eAAC,KAAD,CAAS9D,QAAQ,UAAUgE,cAAc,EAAOrF,MAAOmF,EAAvD,SACE,sBAAKlZ,UAAWC,KAAOgZ,UAAvB,SACE,sBAAKjZ,UAAWC,KAAOoZ,UAAvB,SAAmCJ,QAIhCE,EAEP,uBAAKnZ,UAAWC,KAAOgZ,UAAvB,UACGA,EACD,eAAC,KAAD,CACE9E,QAASA,EACTmF,aAAW,SACX7E,QAAQ,UACR2B,KAAK,KACL7B,WAAW,MACXlf,KAAM,eAAC,KAAD,IACNyc,MAAM,cAKL,sBAAK9R,UAAWC,KAAOgZ,UAAvB,SAAmCA,KAqG/BM,GAlGM,SAAC3E,GACpB,IAAQ4E,EAA0D5E,EAA1D4E,YAAaC,EAA6C7E,EAA7C6E,WAAYC,EAAiC9E,EAAjC8E,MAAOC,EAA0B/E,EAA1B+E,sBACxC,EAA6BC,eAArB9D,EAAR,EAAQA,OAAQ+D,EAAhB,EAAgBA,SAChB,OACE,uCACGF,GACC,sBAAK3Z,UAAWC,KAAO6Z,aAAvB,SACE,sBACEjG,MAAO,CACLQ,QAAS,OACT0F,eAAgB,gBAChBzF,WAAY,UAJhB,SAOGqF,MAIP,uBAAK3Z,UAAWC,KAAO6Z,aAAvB,UACE,sBAAK9Z,UAAWC,KAAO+Z,IAAvB,SACE,qBAAIha,UAAWC,KAAO6R,MAAtB,SAA8B0H,EAAY1H,UAE3C0H,EAAYjB,MAAMhK,KAAI,WAA8BwB,GAAW,IAAtC1a,EAAqC,EAArCA,KAAM4kB,EAA+B,EAA/BA,UAAW3R,EAAoB,EAApBA,OACnC4R,EAAY,QAAQC,KAAK9kB,GAC3B,CAAEmf,MAAO,OAAQ4F,YAAa,QAC9B,CAAE5F,MAAO,OAAQ4F,YAAa,QAClC,OACE,uBAAKpa,UAAWC,KAAO+Z,IAAvB,UACE,sBAAKnG,MAAOqG,EAAZ,SACE,sBAAK1H,IAAKnd,EAAMqd,IAAI,YAAY8B,MAAM,WAExC,sBAAKxU,UAAWC,KAAOoa,eAAvB,SACE,eAAC,KAAD,UACE,gBAAC,KAAD,WACE,eAAC,KAAD,UAAYJ,IACZ,eAAC,KAAD,CAAY1Z,SAAS,OAArB,SAA6B+H,aARJyH,SAgBvC,uBAAK/P,UAAWC,KAAO6Z,aAAvB,UACE,sBAAK9Z,UAAWC,KAAO+Z,IAAvB,SACE,qBAAIha,UAAWC,KAAO6R,MAAtB,SAA8B2H,EAAW3H,UAE1C2H,EAAWlB,MAAMhK,KAAI,WAA8BwB,GAAW,IAAtC1a,EAAqC,EAArCA,KAAM4kB,EAA+B,EAA/BA,UAAW3R,EAAoB,EAApBA,OAClC4R,EAAY,QAAQC,KAAK9kB,GAC3B,CAAEmf,MAAO,OAAQ4F,YAAa,QAC9B,CAAE5F,MAAO,OAAQ4F,YAAa,QAClC,OACE,uBAAKpa,UAAWC,KAAO+Z,IAAvB,UACE,sBAAKnG,MAAOqG,EAAZ,SACE,sBAAK1H,IAAKnd,EAAMqd,IAAI,YAAY8B,MAAM,WAExC,sBAAKxU,UAAWC,KAAOoa,eAAvB,SACE,eAAC,KAAD,UACE,gBAAC,KAAD,WACE,eAAC,KAAD,UAAYJ,IACZ,eAAC,KAAD,CAAY1Z,SAAS,OAArB,SAA6B+H,aARJyH,SAgBtC2J,GACC,sBAAK1Z,UAAWC,KAAOqa,aAAvB,SACGZ,EAAMnL,KACL,WAAqDwB,GAAW,IAA7DkJ,EAA4D,EAA5DA,UAAWsB,EAAiD,EAAjDA,UAAWrB,EAAsC,EAAtCA,YAAaC,EAAyB,EAAzBA,YACpC,OACE,iCACE,uBAAKnZ,UAAWC,KAAOua,QAAvB,UACE,eAAC,GAAD,CACEvB,UAAWA,EACXC,YAAaA,EACbC,YAAaA,EACbhF,QAAS0F,IAEX,sBAAK7Z,UAAWC,KAAOsa,UAAvB,SAAmCA,OAEpCpB,GACC,eAAC,KAAD,CAAUsB,GAAI3E,EAAQ4E,gBAAc,EAApC,SACGvB,MAZGpJ,Y,qBC/BX4K,OAzFf,YAQyB,IAInBC,EAXJ1lB,EAOsB,EAPtBA,OACAG,EAMsB,EANtBA,KACAwlB,EAKsB,EALtBA,IACA5Z,EAIsB,EAJtBA,WACA4R,EAGsB,EAHtBA,SACAkG,EAEsB,EAFtBA,SACA+B,EACsB,EADtBA,SAEQlb,EAAMsS,eAANtS,EACAxK,EAASuH,GAAWzH,GAApBE,KAIR,EAAmB0X,GADF1P,GAAoBlI,IAC9BwY,EAAP,qBACQR,EAAmBF,cAAY,SAAClK,GAAD,OAAqBA,EAAMmK,eAA1DC,eA2BR,OAxBE0N,EADElN,EAASd,iBAAmBtK,KACdyM,WACdxJ,GAAiBmI,EAASd,gBAAiB,GAAI,IAGpC,OAAGM,QAAH,IAAGA,OAAH,EAAGA,EAAiBhY,GAqBjC,iCACU,MAAP2lB,GACC,uBAAK7a,UAAWC,KAAO8a,iBAAvB,UACE,kCAAOnb,EAAE,OAAT,OADF,OAGE,oBAAGuU,QAAS,kBAAMtB,EAAShC,OAAOgK,KAAlC,SAA0CA,OAI9C,uBAAK7a,UAAWC,KAAO+a,oBAAqBC,GAAG,aAA/C,UACE,sBAAKvI,IAAI,OAAOF,IAAKnd,IACrB,uBAAK2K,UAAWC,KAAOib,mBAAvB,UACE,oBAAGlb,UAAWC,KAAOkb,SAArB,SAAgCjmB,IAChC,oBAAG8K,UAAWC,KAAOmb,UAArB,SAAiChmB,OAEnC,uBAAK4K,UAAWC,KAAO+T,WAAvB,UACE,wBACEqH,aAAa,MACbC,YAAY,MACZ7f,KAAK,OACL8f,YAAY,MACZC,WAAW,QACXzC,WAAUA,EACV0C,SAAUX,EACV/Z,MAAOE,EACP4R,SA3CV,SAAuB6B,GACrB,IAAQzf,EAAa0H,GAAWzH,GAAxBD,SAEFymB,EAAWhH,EAAErU,OAAOU,MAAM4a,QAAQ,WAAY,IAEpD,GAAID,EAAS9V,QAAQ,OAAS8V,EAASE,YAAY,KAAnD,CACA,IAAMC,EAAc9M,WAAW,IAAM2M,GAC/BI,EAAcJ,EAAS9V,QAAQ,KAC/BmW,EAA4B,KAAbL,IAAoBlT,MAAMqT,GACzCG,GACa,IAAjBF,GAAsBJ,EAASzW,OAAS,EAAI6W,GAAe7mB,EACzD8mB,GAAgBC,GAElBnJ,EAAS6I,KA+BHO,QAAS,SAACvH,GAAD,OACPA,EAAErU,OAAO6b,YAGb,qBAAGlc,UAAWC,KAAOmb,UAArB,oBAEGrU,GACCxB,GACE8C,GAAepH,EAAY2Z,GAC3B,GACA,iB,sHCoDDuB,OAvHG,SAACvH,GACjB,IAMA,EAIF,SAAiBwH,EAAcC,GAC7B,IAAMC,EACe,SAAnBF,EAAMG,SACFH,EAAMI,SAAS7d,KAAKmH,OAAOsW,EAAMI,SAAS7d,KAAKsG,OAAS,GACxDmX,EAAMI,SAAS7d,KACrB,MAAO,CACLA,KAAM,CACJ6d,SAAU,CACR,CACEzI,MAAOqI,EAAMI,SAASzI,MACtB0I,QAAS,EACTC,YAAa,EACbC,iBAAkB,cAClBC,qBAAsBP,EAAOG,SAC7BnH,YAAagH,EAAOG,SACpBK,YAAa,EACbC,gBAAiB,cACjB5J,MAAM,EACNvU,KAAM2d,EACNS,gBAAiB,KAIvB9I,QAAS,CACP+I,YAAY,EACZC,qBAAqB,EACrBC,QAAS,CACPC,OAAQ,CACN9I,SAAS,GAEX+I,QAAS,CACPC,UAAW,CACTtJ,MAAO,SAAClU,GACN,IAAIkU,EAAQlU,EAAQyd,QAAQvJ,OAAS,GAUrC,OATIA,IACFA,GAAS,MAEc,OAArBlU,EAAQ0d,OAAOC,IACjBzJ,GAAS,IAAI0J,KAAKC,aAAa,QAAS,CACtC7J,MAAO,WACP8J,SAAU,QACTC,OAAO/d,EAAQ0d,OAAOC,IAEpBzJ,MAKf8J,YAAa,CACXC,WAAW,EACXC,KAAM,SAERC,OAAQ,CACNR,EAAG,CACDS,KAAM,CACJC,YAAY,EACZ7J,SAAS,EACT8J,iBAAiB,EACjBC,WAAW,EACXC,WAAY,CAAC,EAAG,GAChBC,MAAOjC,EAAO4B,MAEhBM,MAAO,CACLlK,SAAS,EACTiK,MAAOjC,EAAOkC,MACdC,QAAS,GACTC,KAAM,CACJrI,KAAM,GACNsI,OAAQ,IACRC,OAAQ,2BACR9K,MAAO,SACP+K,WAAY,GAEdC,SAAU,SAAC9d,GAAD,MAAmB,IAAMA,KAGvC+d,EAAG,CACDrjB,KAAM,OACNsjB,KAAM,CACJC,KAAM5C,EAAMG,UAEd0B,KAAM,CACJC,YAAY,EACZ7J,SAAS,EACT8J,iBAAiB,EACjBC,WAAW,EACXC,WAAY,CAAC,EAAG,IAElBE,MAAO,CACLlK,SAAS,EACTiK,MAAOjC,EAAOkC,MACdC,QAAS,GACTS,UAAU,EACVC,cAAe,EACfT,KAAM,CACJrI,KAAM,GACNsI,OAAQ,IACRC,OAAQ,2BACR9K,MAAO,SACP+K,WAAY,QAvGEO,CANRvK,EAAVwH,MACO,CACbI,SAAU4C,aAAkB,UAAW,WACvCnB,KAAMmB,aAAkB,oBAAqB,2BAC7Cb,MAAOa,aAAkB,UAAW,aAE9BzgB,EAAR,EAAQA,KAAMsV,EAAd,EAAcA,QACd,OAAOvK,oBAAQ,kBAAM,eAAC,KAAD,CAAM/K,KAAMA,EAAMsV,QAASA,MAAa,CAACtV,EAAMsV,K,qBCrCvD,SAASoL,GACtBliB,GAEA,MAA6BiM,KAArBhF,EAAR,EAAQA,QAASvF,EAAjB,EAAiBA,QAwBjB,OAtBiBygB,uBAAW,wBAAC,uBAAAxR,EAAA,2DACvB1J,GAAW6E,OAAOsW,UAAYpiB,GAAS0B,GADhB,yCAGjBoK,OAAOsW,SAASC,QAAQ,CAC5BC,OAAQ,oBACRC,OAAQ,CAENjkB,KAAM,QACNwY,QAAS,CACP/P,QAAS/G,EAAMnI,UAAU6J,GACzB3J,OAAQiI,EAAMjI,OACdD,SAAUkI,EAAMlI,SAChB0qB,MAAO7W,GAAe3L,EAAM9H,UAZX,sDAiBvBuU,QAAQ4F,IAAR,MAjBuB,wDAoB1B,CAACpL,EAASjH,EAAO0B,ICLP,SAAS+gB,KACtB,MAAyC5S,cACvC,SAAClK,GAAD,OAAqBA,EAAMmK,eADrB4S,EAAR,EAAQA,WAAYC,EAApB,EAAoBA,iBAGZC,EAAR,eAA6BF,GAArBE,YACFC,EAAeX,GAAsBjlB,IACrC6lB,EAAiBZ,GAAsB/kB,IAC7C,EAAgCmT,oBAAS,QAAzC,oBAAO8O,EAAP,KAAiB2D,EAAjB,KAEA,OACE,sBAAKrM,MAAO,CAAEuG,YAAa,QAA3B,SACE,gBAAC,KAAD,CAAM+F,QAAM,EAAZ,UACE,eAAC,KAAD,CACE1L,QAAQ,UACRmK,WAAW,QACXwB,GAAIlK,KACJlW,UAAWC,KAAOogB,SAClBC,SACE,eAAC,KAAD,CAAMvN,QAAQ,cAAd,SACE,uBAAMxS,SAAS,QAAQid,EAAE,MAAzB,4BAPN,SAaGuC,EAAW,WAAOQ,OAAOR,GAAapX,QAAQ,IAAO,MAExD,gBAAC,KAAD,CAAU6X,GAAIpB,aAAkB,OAAQ,mBAAxC,UACE,eAAC,KAAD,CAAKqB,EAAE,OAAOC,UAAU,SAASjI,OAAO,OAAxC,SACGqH,EACC,uCACE,eAAC,KAAD,CAAY/e,MAAOwb,EAAU1J,SAAUqN,EAAvC,SACE,gBAAC,KAAD,CACES,QAAS,EACTC,UAAU,MACV7G,eAAe,WACf0G,EAAE,OAJJ,UAME,eAAC,KAAD,+BACA,eAAC,KAAD,CAAOI,YAAY,QAAQ9f,MAAM,OAAjC,iBAGA,eAAC,KAAD,CAAO8f,YAAY,QAAQ9f,MAAM,MAAjC,qBAKJ,eAAC,KAAD,CAAK0X,OAAO,UAAZ,SACE,eAAC,GAAD,CACE2D,MAAO,CACLI,SAAU,CACRzI,MAAO,0BACPpV,KAAMmhB,EAAiBvR,KAAI,kBAAsB,CAC/CuQ,EADyB,EAAGC,KAE5BvB,EAFyB,EAASsD,WAKtCvE,mBAMR,eAAC,KAAD,CAASnG,KAAK,KAAKkI,MAAM,cAG7B,gBAAC,KAAD,CAAWxM,MAAM,aAAjB,UACE,eAAC,KAAD,CACEzc,KACE,gBAAC,KAAD,CAAM0d,QAAQ,aAAaG,KAAK,OAAhC,UACE,qBAAG6N,SAAS,cAAZ,UACE,uBACE3N,EAAE,iNACFF,KAAK,YAEP,uBACE8N,SAAS,UACTC,SAAS,UACT7N,EAAE,0NACFF,KAAK,YAEP,uBACEE,EAAE,kNACFF,KAAK,YAEP,uBACE8N,SAAS,UACTC,SAAS,UACT7N,EAAE,0JACFF,KAAK,wBAEP,uBACE8N,SAAS,UACTC,SAAS,UACT7N,EAAE,2NACFF,KAAK,YAEP,uBACE8N,SAAS,UACTC,SAAS,UACT7N,EAAE,uJACFF,KAAK,wBAEP,uBACEE,EAAE,+LACFF,KAAK,YAEP,uBACEE,EAAE,mNACFF,KAAK,YAEP,uBACEE,EAAE,+MACFF,KAAK,wBAEP,oBAAGW,MAAO,CAAEqN,aAAc,UAAYC,QAAQ,MAA9C,SACE,uBACE/N,EAAE,mNACFF,KAAK,0BAGT,uBACEW,MAAO,CAAEqN,aAAc,UACvBC,QAAQ,MACR/N,EAAE,kNACFF,KAAK,wBAEP,uBACEE,EAAE,+OACFF,KAAK,YAEP,uBACEE,EAAE,iPACFF,KAAK,YAEP,uBACEE,EAAE,gPACFF,KAAK,YAEP,uBACEE,EAAE,mPACFF,KAAK,YAEP,uBACE8N,SAAS,UACTC,SAAS,UACT7N,EAAE,uuCACFF,KAAK,YAEP,uBACE8N,SAAS,UACTC,SAAS,UACT7N,EAAE,wlBACFF,KAAK,UAEP,uBACEiO,QAAQ,OACRH,SAAS,UACTC,SAAS,UACT7N,EAAE,mLACFF,KAAK,UAEP,uBACEiO,QAAQ,OACRH,SAAS,UACTC,SAAS,UACT7N,EAAE,oLACFF,KAAK,aAGT,kCACE,kCACE+H,GAAG,gBACHmG,GAAG,UACHC,GAAG,SACHC,GAAG,UACHC,GAAG,UACHC,cAAc,iBANhB,UAQE,uBAAMC,UAAU,YAChB,uBAAMC,OAAO,IAAID,UAAU,UAAUE,YAAY,WAEnD,kCACE1G,GAAG,gBACHmG,GAAG,UACHC,GAAG,UACHC,GAAG,SACHC,GAAG,UACHC,cAAc,iBANhB,UAQE,uBAAMC,UAAU,YAChB,uBAAMC,OAAO,IAAID,UAAU,UAAUE,YAAY,WAEnD,kCACE1G,GAAG,gBACHmG,GAAG,UACHC,GAAG,UACHC,GAAG,UACHC,GAAG,UACHC,cAAc,iBANhB,UAQE,uBAAMC,UAAU,YAChB,uBAAMC,OAAO,IAAID,UAAU,eAE7B,kCACExG,GAAG,gBACHmG,GAAG,UACHC,GAAG,UACHC,GAAG,UACHC,GAAG,SACHC,cAAc,iBANhB,UAQE,uBAAMC,UAAU,YAChB,uBAAMC,OAAO,SAEf,kCACEzG,GAAG,gBACHmG,GAAG,SACHC,GAAG,UACHC,GAAG,UACHC,GAAG,UACHC,cAAc,iBANhB,UAQE,0BACA,uBAAME,OAAO,IAAID,UAAU,eAE7B,2BAAUxG,GAAG,QAAb,SACE,uBAAMzG,MAAM,MAAMiE,OAAO,KAAKvF,KAAK,kBAK3C9S,KAAK,wFACLggB,GAAG,IACHwB,OAAO,IACPvhB,OAAO,SACPC,IAAI,aAzKN,sBA6KA,eAAC,KAAD,CACEjL,KACE,gBAAC,KAAD,CACEmf,MAAM,MACNiE,OAAO,MACPvF,KAAMkM,aAAkB,OAAQ,QAChC4B,SAAS,UACTjO,QAAQ,cACRE,UAAU,QANZ,UAQE,uBAAMG,EAAE,+rCACR,uBAAMA,EAAE,y/BAGZhT,KAAK,4EACLggB,GAAG,IACHwB,OAAO,IACPvhB,OAAO,SACPC,IAAI,aAlBN,yBAsBA,eAAC,KAAD,CACEjL,KACE,gBAAC,KAAD,CAAM0d,QAAQ,cAAcE,UAAU,QAAtC,UACE,uBACEC,KAAK,UACLE,EAAE,iEACFyO,UAAU,mBAEZ,uBACE3O,KAAK,UACLE,EAAE,qFACFyO,UAAU,mBAEZ,uBACE3O,KAAK,OACLE,EAAE,2ZACFyO,UAAU,mBAEZ,uBACE3O,KAAK,UACLE,EAAE,yRACFyO,UAAU,mBAEZ,uBACE3O,KAAK,OACLE,EAAE,wEACFyO,UAAU,mBAEZ,uBACE3O,KAAK,UACLE,EAAE,4EACFyO,UAAU,mBAEZ,uBACE3O,KAAK,OACLE,EAAE,+EACFyO,UAAU,mBAEZ,uBACE3O,KAAK,UACLE,EAAE,gFACFyO,UAAU,mBAEZ,uBACE3O,KAAK,UACLE,EAAE,oQACFyO,UAAU,mBAEZ,uBACE3O,KAAK,UACLE,EAAE,+PACFyO,UAAU,sBAIhBzhB,KAAK,0CACLggB,GAAG,IACHwB,OAAO,IACPvhB,OAAO,SACPC,IAAI,aA3DN,0BAgEF,eAAC,KAAD,IACA,gBAAC,KAAD,CAAWwR,MAAM,sBAAjB,UACE,eAAC,KAAD,CACEqC,QAAO,wBAAE,uBAAArG,EAAA,sEACDkS,IADC,2CAGT3qB,KACE,eAAC,KAAD,CAAM0d,QAAQ,cAAd,SACE,uBAAMxS,SAAS,QAAQid,EAAE,MAAzB,4BANN,kBAcA,eAAC,KAAD,CACEnoB,KACE,eAAC,KAAD,CAAM0d,QAAQ,cAAd,SACE,uBAAMxS,SAAS,QAAQid,EAAE,MAAzB,4BAKJrJ,QAAO,wBAAE,uBAAArG,EAAA,sEAAkBmS,IAAlB,mFARX,+BCvWZ,IAkCe6B,GAlCM,WACnB,IAAMtO,EAAWC,eACjB,EAAuCsO,eAA/BC,EAAR,EAAQA,UAAWC,EAAnB,EAAmBA,gBACXpgB,EAAiBmL,cAAY,SAAClK,GAAD,OAAqBA,EAAM4Q,QAAxD7R,aAUR,OARA+L,sBAAU,WACJ/L,EACFqgB,SAAS5T,KAAK6T,UAAUxR,IAAI,QAE5BuR,SAAS5T,KAAK6T,UAAUC,OAAO,UAEhC,CAACvgB,IAGF,eAAC,KAAD,CACEyX,aAAW,eACX7E,QAAQ,UACR2B,KAAK,KACL/gB,KAAMwM,EAAe,eAAC,KAAD,IAAY,eAAC,KAAD,IACjCiQ,MAAM,oBACNyC,WAAW,OACXJ,QAAS,WACPX,EAAStQ,IAAgBrB,KAEtBA,GAA8B,SAAdmgB,IACfngB,GAA8B,UAAdmgB,IAElBC,Q,2DChCK,SAASI,GAAWzN,GAIjC,MCJa,WAEyB,IADtC0N,EACqC,uDAD3B,IAEV,EAAgC7U,qBAAS,GAAzC,oBAAO8U,EAAP,KAAiBC,EAAjB,KACMC,EAAanD,wBAAY,SAACoD,GAC9B,IAAMC,EAAUC,KAAKF,GACrBF,EAAYG,KACX,IAeH,OAbA/U,sBAAU,WACR,GAAI2U,EAAU,CACZ,IAAMM,EAAOC,YAAW,WACtBN,GAAY,KACXF,GAEH,OAAO,WACLS,aAAaF,OAIhB,CAACN,EAAUC,EAAaF,IAEpB,CAACC,EAAUE,GDlBYO,GAA9B,oBAAOT,EAAP,KAAiBU,EAAjB,KAEA,OACE,0BAAQjjB,UAAU,YAAYmU,QAAS,kBAAM8O,EAAUrO,EAAMsO,SAA7D,UACGX,EACC,uCAEE,sBACE/N,MAAM,KACNiE,OAAO,KACP1F,QAAQ,YACRG,KAAK,OACLJ,MAAM,6BACN9S,UAAU,kBANZ,SAQE,uBAAMoT,EAAE,yPAEV,uBAAMpT,UAAU,YAAhB,wBAIF,sBACEwU,MAAM,KACNiE,OAAO,KACP1F,QAAQ,YACRG,KAAK,OACLJ,MAAM,6BACN9S,UAAU,kBANZ,SAQE,uBACEghB,SAAS,UACTC,SAAS,UACT7N,EAAE,imBAIPmP,EAAW,GAAK3N,EAAM3C,Y,sCErCvBkR,G,OAA2BC,EAAOle,IAAV,sJAQf,SAASme,KACtB,IAAMC,EAAMC,oBAEJlf,EAAY+E,KAAZ/E,QAWR,OATAuJ,sBAAU,WACJvJ,GAAWif,EAAIE,UACjBF,EAAIE,QAAQC,UAAY,GAExBH,EAAIE,QAAQE,YAAYC,KAAS,GAAI5wB,SAASsR,EAAQyB,MAAM,EAAG,IAAK,SAErE,CAACzB,IAIF,eAAC8e,GAAD,CAA0BG,IAAKA,I,OC7B5B,SAASM,GAAsBC,GACpC,IAAMC,EACiB,kBAAdD,EAAyB9wB,SAAS8wB,GAAaA,EAOxD,OAAO,IAAIE,KAAuB,IAAlBD,GACbE,mBAAmB,GAPF,CAClBC,MAAO,UACPC,IAAK,UACLC,KAAM,UACNC,OAAQ,YAIPzI,QAAQ,IAAK,I,aCRX,SAAS0I,GACdC,EACAzlB,GAEA,OAAOsJ,gBAAK7M,IAAW,SAAC0B,GACtB,OAAOA,EAAKhI,UAAU6J,GAASuJ,gBAAkBkc,KC8CtC,SAASC,KACtB,IAEQ3kB,EAAMsS,eAANtS,EACR,EAA6BwJ,KAArBvK,EAAR,EAAQA,QAASwF,EAAjB,EAAiBA,QACjB,EAA8CoJ,oBAAwB,IAAtE,oBAAO+W,EAAP,KAAwBC,EAAxB,KAEMC,EAAWpF,uBAAW,wBAAC,iCAAAxR,EAAA,yDACtBzJ,GAAYxF,EADU,wDAGrB8lB,EAAoC,GACpCC,EAAYzf,KAAKC,MAAM2e,KAAKc,MAAQ,KAAQ,MAC5CC,EALqB,kEAOgBzgB,EAPhB,6BAO4CugB,EAP5C,sKAckBvgB,EAdlB,6BAc8CugB,EAd9C,6LAuBKvgB,EAvBL,6BAuBiCugB,EAvBjC,kJAiCrB1W,MAtCN,gEAsCiC,CAC/BuR,OAAQ,OACRsF,QAAS,CAAE,eAAgB,oBAC3BzW,KAAMtE,KAAKC,UAAU,CAAE6a,YAEtB3W,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBF,MAAK,SAAC6W,GACL,MAA6DA,EAAOrmB,KAA5DsmB,EAAR,EAAQA,mBAAoBC,EAA5B,EAA4BA,sBAAuBC,EAAnD,EAAmDA,MACnDF,EAAmB1W,KAAI,SAAC6W,GAAW,IAAD,EAC1BjpB,EAAQ,UAAGkoB,GAAiBe,EAAMC,KAAKpK,GAAIpc,UAAnC,aAAG,EAA0CzJ,KACvD+G,GACFwoB,EAAmBW,KAAK,CACtBC,OAAO,GAAD,OAAK3lB,EAAE,aAAP,YAAuBzD,GAC7BuD,YAAa0lB,EAAM1lB,YACnBqf,KAAM6E,GAAsBwB,EAAMvB,WAClCA,UAAW9wB,SAASqyB,EAAMvB,gBAKhCqB,EAAsB3W,KAAI,SAAC6W,GAAW,IAAD,EAC7BjpB,EAAQ,UAAGkoB,GAAiBe,EAAMC,KAAKpK,GAAIpc,UAAnC,aAAG,EAA0CzJ,KACvD+G,GACFwoB,EAAmBW,KAAK,CACtBC,OAAO,GAAD,OAAK3lB,EAAE,gBAAP,YAA0BzD,GAChCuD,YAAa0lB,EAAM1lB,YACnBqf,KAAM6E,GAAsBwB,EAAMvB,WAClCA,UAAW9wB,SAASqyB,EAAMvB,gBAKhCsB,EAAM5W,KAAI,YAA6B,IAAD,EAAzBrK,EAAyB,EAAzBA,QAASshB,EAAgB,EAAhBA,UACdhqB,EAAU,UAAG6oB,GAAiBngB,EAASrF,UAA7B,aAAG,EAAoCrD,WACnDgqB,GAAahqB,GACfgqB,EAAUjX,KAAI,YAAmD,IAAhDkX,EAA+C,EAA/CA,OAAQC,EAAuC,EAAvCA,SAAUhmB,EAA6B,EAA7BA,YAAamkB,EAAgB,EAAhBA,UACxC8B,EAAYnqB,EAAWzI,SAAS0yB,IAASvwB,OACzC0wB,EAAcpqB,EAAWzI,SAAS2yB,IAAWxwB,OAEnDyvB,EAAmBW,KAAK,CACtBC,OAAO,GAAD,OAAK3lB,EAAE,QAAP,YAAkB+lB,EAAlB,YAA+B/lB,EAAE,QAAjC,YAA4CgmB,GAClDlmB,YAAaA,EACbqf,KAAM6E,GAAsBC,GAC5BA,UAAW9wB,SAAS8wB,WAK5BY,EACEE,EAAmBkB,MAAK,SAAC/X,EAAGU,GAAJ,OAAUA,EAAEqV,UAAY/V,EAAE+V,iBAGrDiC,MAAMlc,QAAQD,OArFU,2CAsF1B,CAAC9K,EAASe,EAAGyE,IAMhB,OAJAuJ,sBAAU,WACH8W,MACJ,CAACA,IAGF,uCACE,uBAAK1kB,UAAU,WAAf,UACE,qBAAIA,UAAU,MAAd,SAAqBJ,EAAE,wBACvB,yBACEI,UAAU,kBACVmU,QAAS,WACPsQ,EAAmB,KAHvB,SAMG7kB,EAAE,cAGP,sBAAKI,UAAU,kBAAf,SAC8B,IAA3BwkB,EAAgBvf,OACfuf,EAAgBjW,KAAI,SAACwX,EAAKhW,GAAN,OAClB,uBAAiB/P,UAAU,kBAA3B,UACE,uBAAMA,UAAU,oBAAhB,SAAqC+lB,EAAIR,SACzC,oBACEnlB,KAAM1B,GAAiBqnB,EAAIrmB,YAAa,MACxCW,OAAO,SACPC,IAAI,aACJN,UAAU,kBAJZ,SAOE,sBACEwU,MAAM,KACNiE,OAAO,KACP1F,QAAQ,YACRG,KAAK,OACLJ,MAAM,6BALR,SAOE,uBAAMM,EAAE,0QAGZ,uBAAMpT,UAAU,kBAAhB,SAAmC+lB,EAAIhH,SAnB/BhP,MAuBZ,uBAAM8D,MAAO,CAAEtT,SAAU,QAAzB,SACGX,EAAE,iCC/LR,SAASomB,GAAe9hB,GAAqC,IAApB+hB,EAAmB,uDAAX,EAChD1I,EAASxZ,GAAUG,GACzB,IAAKqZ,EACH,MAAMhZ,MAAM,gCAAD,OAAiCL,EAAjC,OAEb,MAAM,GAAN,OAAUqZ,EAAO2I,UAAU,EAAGD,EAAQ,GAAtC,cAA8C1I,EAAO2I,UAAU,GAAKD,ICHtE,IA6BeE,GA7BG,SAACC,EAAgBC,GACjC,IAAMC,EAAgB/C,oBAGtB3V,sBAAU,WACR0Y,EAAc9C,QAAU4C,IACvB,CAACA,IAGJxY,sBAAU,WAMR,GAAc,OAAVyY,EAAgB,CAClB,IAAMpL,EAAKsL,aALb,WACMD,EAAc9C,SAAS8C,EAAc9C,YAIZ6C,GAE7B,OAAO,kBAAMG,cAAcvL,OAE5B,CAACoL,IAGJzY,sBAAU,WACRwY,MAEC,KCbCK,GAAyB,SAC7BC,GAEA,MAAsCtd,KAA9B/E,EAAR,EAAQA,QAASxF,EAAjB,EAAiBA,QAASuF,EAA1B,EAA0BA,QAC1B,EAAgCqJ,oBAAyC,IAAzE,oBAAOuC,EAAP,KAAiB2W,EAAjB,KAEMvX,EAAkB,IAAIC,YA0C5B,OAxCA8W,IAAU,WAAY,8CACpB,mCAAArY,EAAA,yDACO1J,GAAYvF,GAAYwF,EAD/B,iEAGQ+K,EAAgBtd,KAAKsS,GAH7B,cAKMvF,GAAWzL,GAAQ0C,eACrBsZ,EAAgBE,iBACd,6CACOzQ,GAAWzL,GAAQ2C,iBAC5BqZ,EAAgBE,iBACd,8CAGEhD,EAAS1P,OAAOsL,OAAOwe,GACvBE,EAAeta,EAClBiC,KAAI,SAAC3O,GACJ,OAAO,IAAI4E,YACT5E,EAAE5K,UAAU6J,GACZwL,OAGHkE,KAAI,SAACsY,GAAD,OAAOA,EAAEvW,UAAUjM,MArB5B,SAsByB+K,EAAgBa,IAAI2W,EAAc,UAtB3D,cAsBQ5W,EAtBR,iBAuB2B5L,EAAQ0iB,WAAWziB,GAvB9C,QAuBQ0iB,EAvBR,OAwBEJ,EACEra,EAAOxP,QACL,SAACC,EAAK6C,EAAG4H,GAAT,mBAAC,eACIzK,GADL,kBAEG6C,EAAE1K,OAAS8a,EAASxI,OAEvB,CAAEwf,IAAKD,KA9Bb,6CADoB,sBAmChB1iB,GAnCiB,WAAD,wBAoCb4iB,KAENxxB,IAEIua,GAGF,SAASkX,KACd,OAAOT,GAAuB9pB,IAGzB,SAASwqB,KACd,OAAOV,GAAuBjqB,ICrDjB,SAAS4qB,GAAT,GAA8D,IAAD,EAApCC,EAAoC,EAApCA,YAC9BznB,EAAMsS,eAANtS,EACR,EAA+BwJ,KAAvB/E,EAAR,EAAQA,QAAShG,EAAjB,EAAiBA,UACX8R,EAAgBgX,KAChBG,EAAuBvgB,GAC3BxB,IAA8B,OAAb4K,QAAa,IAAbA,OAAA,EAAAA,EAAe/V,OAAQkI,KAAM,GAAI,IAG9CilB,EAAa,UAAGpf,gBAAKjK,GAAmB,CAAC,YAAaG,WAAzC,aAAG,EAAmDjJ,KAEzE,OACE,uBAAK4K,UAAU,gBAAf,UACE,uBAAKA,UAAU,eAAf,UACE,qBAAIA,UAAU,eAAd,SAA8BJ,EAAE,aAChC,uBAAKI,UAAU,iBAAf,UACE,wBAAMA,UAAU,QAAhB,UACGJ,EAAE,iBADL,OAEG2nB,KAEH,uBAAMvnB,UAAU,QAAhB,SAAyBJ,EAAE,aAC3B,uBAAKI,UAAU,OAAf,UACE,eAACqjB,GAAD,IACA,uBAAMrjB,UAAU,UAAhB,SACGqE,GAAW2hB,GAAe3hB,KAE5BA,GACC,oBACEjE,KAAM1B,GAAiB2F,EAAS,WAChChE,OAAO,SACPC,IAAI,aAHN,SAME,sBACEkU,MAAM,KACNiE,OAAO,KACP1F,QAAQ,YACRG,KAAK,OACLJ,MAAM,6BALR,SAOE,uBAAMM,EAAE,6QAKhB,wBAAMpT,UAAU,OAAhB,UAAwBsnB,EAAxB,kBACA,sBAAKtnB,UAAU,cAAf,SACGqE,GACC,eAAC,GAAD,CAAM6e,OAAQ7e,EAAd,SACE,uBAAMrE,UAAU,YAAhB,SAA6BJ,EAAE,qBAIrC,sBAAKI,UAAU,cAAf,SACE,0BACEA,UAAU,YACVmU,QAAS,WACPkT,KAHJ,UAOE,uBACE7S,MAAM,KACNiE,OAAO,KACP1F,QAAQ,YACRG,KAAK,OACLJ,MAAM,6BACN9S,UAAU,kBANZ,UAQE,oBAAG+gB,SAAS,cAAZ,SACE,uBAAM3N,EAAE,48CAEV,gCACE,2BAAU6H,GAAG,QAAb,SACE,uBAAMzG,MAAM,KAAKiE,OAAO,cAI7B7Y,EAAE,4BAMX,sBAAKI,UAAU,eAAf,SACE,eAAC,GAAD,S,OCtGD,SAASwnB,GAASpyB,EAAcsqB,GAEV,oBAAhBzW,OAAOwe,KAChBxe,OAAOwe,KAAK,QAASryB,EAAMsqB,GAE3B9V,QAAQ8d,MAAR,wBAA+BtyB,EAA/B,qBAAwDsqB,GC4C7CiI,OAtCf,YAA0D,IAAjC5R,EAAgC,EAAhCA,QACfnW,EAAMsS,eAANtS,EACAgoB,EAAaC,cAAbD,SAER,OACE,uBAAK5nB,UAAU,gBAAf,UACE,8BAAKJ,EAAE,mBACP,sBAAKI,UAAU,aAAf,SACGuO,eAAIrQ,IAAmB,SAAC4pB,EAAQ/X,GAAT,OACtB,0BAEEoE,QAAS,WACPyT,EAASE,EAAOzpB,eAAWwH,GAAW,GAAMigB,OAAM,SAACnc,GAC7CA,aAAiBoe,KACdH,EAASE,EAAOzpB,cAKzBmpB,GAAS,gBAAiB,CAAEpyB,KAAM0yB,EAAO1yB,OACzC2gB,KAXJ,UAcE,gCAAO+R,EAAO1yB,OACd,sBAAKod,IAAKsV,EAAOzyB,KAAMqd,IAAI,OAAO1S,UAAU,WAdvC+P,QAkBX,+BACGnQ,EAAE,kBAAoB,IACvB,oBAAGQ,KAAK,mCAAmCC,OAAO,QAAlD,SACGT,EAAE,sB,qBCjCE,SAASooB,GAAT,GAAgE,IAArCX,EAAoC,EAApCA,YAChCznB,EAAMsS,eAANtS,EACFqoB,ECPO,WAGb,IAAQ1I,EAAatW,OAAbsW,SAmCR,OAjCmBD,uBAAW,yCAC5B,WAAOzgB,GAAP,UAAAiP,EAAA,0DACMyR,EADN,0CAGYA,EAASC,QAAQ,CACrBC,OAAQ,6BACRC,OAAQ,CACN,CACE7gB,QAAS+J,GAAM/J,OAP3B,0DAcyB,OAAf,KAAMqpB,KAdhB,kCAec3I,EAASC,QAAQ,CACrBC,OAAQ,0BACRC,OAAQ,CACN,CACE7gB,QAAS+J,GAAM/J,GACfspB,UAAW1pB,GAAiBI,GAASzJ,KACrCgzB,QAAS,CAAC3pB,GAAiBI,GAASlL,SArBlD,yDAD4B,sDA8B5B,CAAC4rB,ID5BgB8I,GACnB,OACE,uBAAKroB,UAAWC,KAAOqoB,gBAAvB,UACE,8BAAK1oB,EAAE,qBACP,8BAAKA,EAAE,gCACP,sBAAKI,UAAWC,KAAOsoB,UAAvB,SACG3rB,OAAO4rB,QAAQ/pB,IAAkB8P,KAAI,WAAawB,GAAb,wBAAE0Y,EAAF,KAAOC,EAAP,YACpC,uBAAiB1oB,UAAWC,KAAO0oB,MAAnC,UACE,uBAAK3oB,UAAWC,KAAO2oB,UAAvB,UACE,8BAAKF,EAAItzB,OACT,gCAAOqzB,OAET,uBAAKzoB,UAAWC,KAAO2oB,UAAvB,UACE,6BACE,6BAAIF,EAAI/0B,QAEV,sBAAKqM,UAAWC,KAAOgoB,WAAvB,SACE,eAAC,KAAD,CACExT,QAAQ,QACR2B,KAAK,KACL5B,MAAM,QACNL,QAAS,kBAAM8T,GAAYQ,IAJ7B,SAMG7oB,EAAE,wBAhBDmQ,QAuBd,0BACE/P,UAAWC,KAAO4oB,UAClB1U,QAAS,WACPkT,KAHJ,UAOE,uBACE7S,MAAM,KACNiE,OAAO,KACP1F,QAAQ,YACRG,KAAK,OACLJ,MAAM,6BACN9S,UAAWC,KAAO6oB,gBANpB,UAQE,oBAAG/H,SAAS,cAAZ,SACE,uBAAM3N,EAAE,48CAEV,gCACE,2BAAU6H,GAAG,QAAb,SACE,uBAAMzG,MAAM,KAAKiE,OAAO,cAI7B7Y,EAAE,uBEjDX,IAAMmpB,GACK,UADLA,GAEK,UAGX,SAASC,GAAcnqB,GACrB,QAAsBgH,UAAXhH,EACT,MAAO,GAET,OAAQA,GACN,KAAKzL,GAAQ0C,eACX,MAAO,iBACT,KAAK1C,GAAQ2C,eACX,MAAO,SACT,QACE,MAAO,mBAIb,IAiHekzB,GAjHI,WACjB,MAAoCpB,cAA5BxjB,EAAR,EAAQA,QAASxF,EAAjB,EAAiBA,QAAS8K,EAA1B,EAA0BA,MAC1B,EAAkC8D,qBAAS,GAA3C,oBAAOyb,EAAP,KAAkBC,EAAlB,KACA,EAA8C1b,qBAAS,GAAvD,oBAAO2b,EAAP,KAAwBC,EAAxB,KACK/1B,GAASg2B,eAAenb,MAAK,SAACmb,GACjCD,EAAmBC,MAErB,MAAoC7b,oBAASsb,IAA7C,oBAAOQ,EAAP,KAAmBC,EAAnB,KACQ5pB,EAAMsS,eAANtS,EACAiC,EAAiBmL,cAAY,SAAClK,GAAD,OAAqBA,EAAM4Q,QAAxD7R,aACF4S,EAAUgV,aAAmB,CAAEC,KAAM,UAAWC,GAAI,YACpDnL,EAAUiL,aAAmB,CAAEC,KAAM,OAAQC,GAAI,SACjDrL,EAAQmL,aAAmB,CAAEC,KAAM,QAASC,GAAI,YAStD,OANA/b,sBAAU,WACJsb,GACFM,EAAcT,MAEf,CAACG,IAGF,uBAAKlpB,UAAU,eAAf,UACGqE,EACC,eAAC,GAAD,CACE6Q,gBAAiB,CACf,aAAc,oBACdT,QAAS,UACT2B,KAAM,KACNtE,MAAOkX,GAAcnqB,GACrBub,YAAa,OACb/kB,KACE,eAAC,KAAD,CAAM0d,QAAQ,cAAd,SACE,uBACEK,EAAE,mSACFwW,OAAQ/nB,EAAe,mBAAqB,kBAC5CqR,KAAMrR,EAAe,mBAAqB,uBAKlDsT,mBACE,gBAAC,KAAD,CAAM0U,cAAc,SAApB,UACE,eAAC,KAAD,CAAM9P,eAAe,gBAAgBxZ,SAAS,OAA9C,sCAGA,gBAAC,KAAD,CACEA,SAAS,OACTupB,WAAW,MACXxV,WAAW,SACXyV,UAAU,MAJZ,UAME,gBAAC,KAAD,WAAMf,GAAcnqB,GAApB,mBACA,eAAC,KAAD,CAAMkU,QAAQ,cAAd,SACE,uBACEK,EAAE,mSACFwW,OACE/nB,EAAe,mBAAqB,kBAEtCqR,KAAMrR,EAAe,mBAAqB,8BAOpD,KACJ,eAAC,KAAD,CACE4S,QAASA,EACTmK,WAAW,QACXxI,KAAK,KACLqK,EAAGjC,EACHF,MAAOA,EACPnK,QAAS,kBAAYgV,GAAa,IAClCa,UACE3lB,EACE,eAACgf,GAAD,IACE1Z,GAASyf,EACX,eAAC,KAAD,CAAuBhT,KAAK,SAE5B,eAAC,KAAD,CAAUA,KAAK,SAbrB,SAiBG/R,EACC,wBAAMrE,UAAU,cAAhB,UACGqE,EAAQ6hB,UAAU,EAAG,GADxB,MAEG7hB,EAAQ6hB,UAAU7hB,EAAQY,OAAS,EAAGZ,EAAQY,WAGjDrF,EADE+J,GAASyf,EACT,cAEA,mBAGN,eAAC,GAAD,CAAOtT,OAAQoT,EAAWnT,QAAS,kBAAYoT,GAAa,IAA5D,SACG9kB,GAAWklB,IAAeR,GACzB,eAAC3B,GAAD,CACEC,YAAa,kBAAMmC,EAAcT,QAEhCpf,GAASyf,IACZG,IAAeR,GACf,eAACf,GAAD,CACEX,YAAa,kBAAMmC,EAAcT,OAGnC,eAAC,GAAD,CAAehT,QAAS,kBAAYoT,GAAa,YCyI5Cc,I,GAAAA,GA7Of,YAAsD,IAAnCC,EAAkC,EAAlCA,UACTtqB,EAAMsS,eAANtS,EACFuqB,EAAY/K,aAAkB,OAAQ,mBAE5C,OACE,0BAAQpf,UAAU,MAAlB,UACE,8BACE,eAAC,KAAD,CAAM+U,GAAG,IAAT,oBAEF,uBAAKlB,MAAO,CAAEC,OAAQ,EAAGO,QAAS,QAAlC,UACE,eAAC,KAAD,UACG,gBAAGyB,EAAH,EAAGA,OAAH,OACC,uCACE,eAAC,KAAD,CACEsU,SAAUtU,EACVsK,GAAIiK,KACJ/Q,aAAW,YACXjF,QAAS,CAAEsV,GAAI,QACflV,QAAQ,UACRmK,WAAW,QANb,SAQG9I,EAAS,eAAC,KAAD,IAAgB,eAAC,KAAD,MAE5B,gBAAC,KAAD,CAAU0K,GAAI2J,EAAd,UACE,gBAAC,KAAD,CAAWrY,MAAM,QAAjB,UACE,eAAC,KAAD,CACEzc,KAAM,eAAC,KAAD,IACN+qB,GAAIkK,KACJvV,GAAG,IACH6M,OAAO,IAJT,SAMGhiB,EAAE,UAEL,eAAC,KAAD,CACEvK,KAAM,eAAC,KAAD,IACN+qB,GAAIkK,KACJvV,GAAG,SACH6M,OAAO,IAJT,SAMGhiB,EAAE,WAEL,eAAC,KAAD,CAAUvK,KAAM,eAAC,KAAD,IAAY+qB,GAAIkK,KAAMvV,GAAG,SAAS6M,OAAO,IAAzD,SACGhiB,EAAE,WAEL,eAAC,KAAD,CACEvK,KAAM,eAAC,KAAD,IACN+qB,GAAIkK,KACJvV,GAAG,SACH6M,OAAO,IAJT,SAMGhiB,EAAE,WAEL,eAAC,KAAD,CACEvK,KAAM,eAAC,KAAD,IACN+qB,GAAIkK,KACJvV,GAAG,IACH6M,OAAO,IACP2I,QAAQ,eALV,SAOE,uBAAMvqB,UAAU,WAAhB,SAA4BJ,EAAE,iBAGlC,eAAC,KAAD,IACA,gBAAC,KAAD,CAAWkS,MAAM,UAAjB,UACE,eAAC,KAAD,CACEzc,KAAM,eAAC,KAAD,IACN+K,KAAK,qCACLggB,GAAG,IACHwB,OAAO,IACPvhB,OAAO,SACPC,IAAI,aANN,kCAUA,eAAC,KAAD,CACEjL,KAAM,eAAC,KAAD,IACN+K,KAAK,kCACLggB,GAAG,IACHwB,OAAO,IACPvhB,OAAO,SACPC,IAAI,aANN,gCAWF,eAAC,KAAD,IACA,gBAAC,KAAD,CAAWwR,MAAM,UAAjB,UACE,eAAC,KAAD,CACEzc,KAAM,eAAC,KAAD,IACN+K,KAAK,mCACLggB,GAAG,IACHwB,OAAO,IACPvhB,OAAO,SACPC,IAAI,aANN,2BAUA,eAAC,KAAD,CACEjL,KAAM,eAAC,KAAD,IACN+K,KAAK,mCACLggB,GAAG,IACHwB,OAAO,IACPvhB,OAAO,SACPC,IAAI,aANN,0BAUA,eAAC,KAAD,CACEjL,KAAM,eAAC,KAAD,IACN+K,KAAK,4BACLggB,GAAG,IACHwB,OAAO,IACPvhB,OAAO,SACPC,IAAI,aANN,4BAUA,eAAC,KAAD,CACEjL,KAAM,eAAC,KAAD,IACN+K,KAAK,gCACLggB,GAAG,IACHwB,OAAO,IACPvhB,OAAO,SACPC,IAAI,aANN,2BAUA,eAAC,KAAD,CACEjL,KAAM,eAAC,KAAD,IACN+K,KAAK,kCACLggB,GAAG,IACHwB,OAAO,IACPvhB,OAAO,SACPC,IAAI,aANN,sCAeV,eAAC,KAAD,CAAK+T,QAAS,CAAEsV,GAAI,QAApB,SACE,eAAC,GAAD,SAGJ,sBAAI3pB,UAAU,MAAd,UACE,8BACE,eAAC,KAAD,CAAM+U,GAAG,IAAI/U,UAAWmS,KAAW,CAAE5I,OAAsB,SAAd2gB,IAA7C,SACGtqB,EAAE,YAGP,8BACE,eAAC,KAAD,CACEmV,GAAG,SACH/U,UAAWmS,KAAW,CACpB5I,OACgB,UAAd2gB,GACc,YAAdA,GACc,aAAdA,IANN,SASGtqB,EAAE,aAGP,8BACE,eAAC,KAAD,CACEmV,GAAG,SACH/U,UAAWmS,KAAW,CACpB5I,OAAsB,UAAd2gB,GAAuC,SAAdA,IAHrC,SAMGtqB,EAAE,aAGP,8BACE,eAAC,KAAD,CACEmV,GAAG,SACH/U,UAAWmS,KAAW,CACpB5I,OAAsB,UAAd2gB,IAHZ,SAOGtqB,EAAE,aAGP,8BACE,eAAC,GAAD,CAAS0T,QAAS1T,EAAE,qBAApB,SACE,eAAC,KAAD,CACEmV,GAAG,IACH/U,UAAWmS,KAAW,CACpB5I,OAAsB,WAAd2gB,IAHZ,SAME,uBAAMlqB,UAAU,WAAhB,SAA4BJ,EAAE,kBAIpC,8BACE,gBAAC,KAAD,WACE,eAAC,KAAD,UACE,eAAC,KAAD,CAAMmV,GAAG,IAAT,4BAEF,eAAC,KAAD,CAAUyL,GAAIpB,aAAkB,OAAQ,mBAAxC,SACE,gBAAC,KAAD,WACE,eAAC,KAAD,UACE,oBACEhf,KAAK,qCACLC,OAAO,SACPC,IAAI,aAHN,oCAQF,eAAC,KAAD,UACE,oBACEF,KAAK,kCACLC,OAAO,SACPC,IAAI,aAHN,4CAaZ,uBAAKN,UAAU,aAAf,UACE,eAAC4f,GAAD,IACA,eAAC,GAAD,IACA,eAAC,GAAD,WC0KO4K,GAjYK,SAAC5V,GAAgC,IAAD,gBAC1ChV,EAAMsS,eAANtS,EAEN0M,EASEsI,EATFtI,OACAme,EAQE7V,EARF6V,cACA/c,EAOEkH,EAPFlH,SACAgd,EAME9V,EANF8V,YACAvS,EAKEvD,EALFuD,gBAEAwS,EAGE/V,EAHF+V,wBACAC,EAEEhW,EAFFgW,qBAIF,EAAwCnd,oBAAwB,MAAhE,oBAAOod,EAAP,KAAqBC,EAArB,KACA,EAA8Brd,yBAA6B5H,GAA3D,oBAAOklB,EAAP,KAAgBC,EAAhB,KAEMC,EACJ9S,EAAgBpD,GAAGyD,YAAYjS,GAAG,KAAOkkB,EACrCS,EAA6B9uB,GAAU,OAACsR,QAAD,IAACA,OAAD,EAACA,EAAUtY,MAClD+1B,GACO,OAAXT,QAAW,IAAXA,OAAA,EAAAA,EAAape,OAAOiC,KAAI,SAAC6c,GACvB,IAAMjuB,EAAQR,GAAWyuB,EAAKl2B,QAC9B,MAAO,CACL+kB,UAAW9c,EAAM/H,KACjBC,KAAM8H,EAAM9H,KACZiT,OAAQvB,aAAQxB,GAAiB6lB,EAAKrqB,MAAO,GAAI,UAE/C,GACFsqB,GACI,OAAR3d,QAAQ,IAARA,OAAA,EAAAA,EAAUpB,OAAOiC,KAAI,SAAC6c,GACpB,IAAMjuB,EAAQR,GAAWyuB,EAAKl2B,QAC9B,MAAO,CACLA,OAAQiI,EAAMjI,OACdE,KAAM+H,EAAM/H,KACZC,KAAM8H,EAAM9H,KACZ+b,QAASga,EAAKha,QACdrQ,MAAOgG,aAAQxB,GAAiB6lB,EAAKrqB,MAAO,GAAI,UAE9C,GAER,OACE,uBAAKf,UAAU,UAAf,UACE,eAAC,GAAD,CAASkqB,UAAW,aACX,OAARxc,QAAQ,IAARA,GAAA,UAAAA,EAAUf,YAAV,mBAAgB2e,YAAhB,eAAsBC,IAAIhlB,GAAGjE,SAA7B,OACCooB,QADD,IACCA,OADD,EACCA,EAAajZ,eAAelL,GAAG,KAC7B,eAAC,GAAD,CACEqP,YAAa,8CAGV,OAARlI,QAAQ,IAARA,OAAA,EAAAA,EAAUtY,QAASpB,KAAnB,OACC02B,QADD,IACCA,OADD,EACCA,EAAajZ,eAAelL,GAAG,KAC7B,eAAC,GAAD,CAAiBqP,YAAa,qC3EtET,gB2EwEhB,OAARlI,QAAQ,IAARA,OAAA,EAAAA,EAAUtY,QAAV,OACCs1B,QADD,IACCA,OADD,EACCA,EAAajZ,eAAelL,GAAG,KAC7B,eAAC,GAAD,CAAiBqP,YAAa,kCAGlC,uBAAK5V,UAAU,UAAf,UACE,uBAAKA,UAAU,OAAf,UACE,uBAAKA,UAAU,OAAf,UACE,uBACE6T,MAAO,CACLQ,QAAS,OACT0F,eAAgB,gBAChBzF,WAAY,YAJhB,UAOE,8BAAK1U,EAAE,kBACP,eAAC,GAAD,CACEsV,gBAAiB,CACf,aAAc,qBACdT,QAAS,UACT2B,KAAM,KACN/gB,KAAM,eAAC,KAAD,CAAW+gB,KAAK,SACtBtE,MAAO,sBAETqD,mBAAoB,eAAC5B,GAAD,SAGvBkX,EACC,sBAAKzqB,UAAU,QAAf,SAAwBJ,EAAE,4BACxB,MACK,OAAR8N,QAAQ,IAARA,OAAA,EAAAA,EAAUb,YAAoB,OAARa,QAAQ,IAARA,OAAA,EAAAA,EAAUtY,QAASpB,GACxC,sBAAKgM,UAAU,QAAf,SACE,gBAACwrB,GAAA,EAAD,CAAOC,QAAQ,gBAAgB7rB,EAAGA,EAAlC,4CACkC,IAChC,oBACEQ,KAAK,kFACLC,OAAO,SACPC,IAAI,aACJuT,MAAO,CAAE6X,eAAgB,aAJ3B,6BAOK,IATP,6BAaA,KAcHpf,EAAOiC,KAAI,SAACpR,EAAO4S,GAAR,OACV,iCACE,eAAC,GAAD,2BACM5S,GADN,IAEE4b,SAAQ,OAAErL,QAAF,IAAEA,OAAF,EAAEA,EAAUb,SACpBgG,SAAU,SAAC9R,GAAD,OACR4pB,EAAwBxtB,EAAMjI,OAAQ6L,OAGzCgP,IAAUzD,EAAOrH,OAAS,EACzB,GAEA,sBAAKjF,UAAU,gBAXT+P,MAeZ,uBAAK/P,UAAU,kBAAf,WACW,OAAR0N,QAAQ,IAARA,GAAA,UAAAA,EAAUf,YAAV,mBAAgB2e,YAAhB,eAAsBC,IAAIhlB,GAAGjE,QAC5B,uBAAKtC,UAAU,sBAAf,UACE,oBACEI,KAAK,8EACLC,OAAO,SACPC,IAAI,sBAHN,SAKE,gDACG,IACL,uBAAMN,UAAU,QAAhB,SACG+F,GAAwB2H,EAASf,KAAK2e,KAAKC,IAAK,UAI9C,OAAR7d,QAAQ,IAARA,GAAA,UAAAA,EAAUf,YAAV,mBAAgBgf,mBAAhB,eAA6BJ,IAAIhlB,GAAGjE,QACnC,uBAAKtC,UAAU,sBAAf,UACE,oBACEI,KAAK,8EACLC,OAAO,SACPC,IAAI,sBAHN,SAKE,+CACG,IACL,uBAAMN,UAAU,QAAhB,SACG+F,GAAwB2H,EAASf,KAAKgf,YAAYJ,IAAK,SAI9D,uBAAKvrB,UAAU,sBAAf,UACGmY,EAAgBT,YAAYkU,IAAI,GAC/B,uBAAM5rB,UAAU,QAAhB,mBAA4BJ,EAAE,SAA9B,QAEA,uBAAMI,UAAU,WAAhB,SAA4BJ,EAAE,iBAEhC,wBACEI,UACE,UACCmY,EAAgBT,YAAYkU,IAAI,GAAK,QAAU,YAHpD,UAMG,IACA7lB,GAAwBoS,EAAgBT,YAAa,GAAI,eAKjEwT,GACC,sBAAKlrB,UAAU,UAAf,SACE,qBAAGA,UAAU,cAAb,2BACiB,IACf,oBAAGI,KAAK,2BAAR,0BAFF,yBAGiB,KACN,OAARsN,QAAQ,IAARA,OAAA,EAAAA,EAAUtY,QAASb,IAClB,iFAC0C,IACxC,oBACE6L,KAAK,6DACLC,OAAO,SACPC,IAAI,aACJuT,MAAO,CAAE6X,eAAgB,YAAa9J,OAAQ,GAJhD,iCAaD,OAARlU,QAAQ,IAARA,OAAA,EAAAA,EAAUtY,QAAShB,IAClB,sBAAK4L,UAAU,UAAf,SACE,qBAAGA,UAAU,cAAb,0CACgC,IAC9B,oBAAGI,KAAK,mCAAR,+CAEK,IAJP,qBAKqB,IACnB,oBAAGA,KAAK,wBAAR,iDAMN,uBAAKJ,UAAU,UAAU6T,MAAO,CAAE4E,OAAQ,QAA1C,UACE,eAAC,KAAD,CAAQjE,MAAM,OAAd,SACE,eAAC,KAAD,CACEC,QAAQ,UACR2B,KAAK,KACL5B,MAAM,OACNL,QAAS,WACP2W,EAAgB,WAElB/R,UAAWkS,IAAD,OAAuBvd,QAAvB,IAAuBA,OAAvB,EAAuBA,EAAUb,UAP7C,SASGjN,EAAE,eAGP,sBAAKI,UAAU,kBAAf,gIAMJ,sBAAKA,UAAU,aAAf,SACE,eAAC,GAAD,CACE2Z,sBACE,uCACE,eAAC,KAAD,CACEvD,KAAK,OACLkI,MAAM,UACNxM,MAAM,yBAER,uBAAM+B,MAAO,CAAEtT,SAAU,OAAQupB,WAAY,KAA7C,SACG/jB,IAAmC,OAAX2kB,QAAW,IAAXA,OAAA,EAAAA,EAAapZ,QAAShP,KAAM,SAI3DkX,YAAa,CACX1H,MAAO,mBACPyG,MAAO,CACL,CACE0B,UAAS,iBAAEvM,QAAF,IAAEA,OAAF,EAAEA,EAAUnS,eAAZ,QAAuB,IAChClG,MAAM,UAAAiG,IAAkB,OAARoS,QAAQ,IAARA,OAAA,EAAAA,EAAUtY,OAAQ,WAA5B,eAAiCmG,QAAQlG,OAAQ,IACvDiT,OAAQvB,aACNxB,IACa,OAAXmlB,QAAW,IAAXA,OAAA,EAAAA,EAAajZ,iBAAkBnP,KAC/B,GACA,OAMVmX,WAAY,CACV3H,MAAOlS,EAAE,aACT2Y,MAAO4S,GAETzR,MAAO,CACL,CACET,UAAW,MACXsB,WAAmB,OAAR7M,QAAQ,IAARA,OAAA,EAAAA,EAAUtB,SAAV,WACHrF,aAAQxB,GAAiBmI,EAAStB,QAAS,GAAI,KACnD,IACJ+M,YACE,sBAAKnZ,UAAU,YAAf,SACGqrB,EAAwB9c,KAAI,SAACpR,EAAO4S,GAAR,OAC3B,uBAAK/P,UAAU,QAAf,UACE,uBAAK6T,MAAO,CAAEQ,QAAS,OAAQC,WAAY,UAA3C,UACE,sBAAK5B,IAAI,OAAOF,IAAKrV,EAAM9H,OAC3B,uBAAM2K,UAAU,OAAhB,mBAA2B7C,EAAMjI,OAAjC,YAA2CiI,EAAMiU,cAEnD,uBAAMpR,UAAU,aAAhB,SAA8B7C,EAAM4D,UALVgP,SAWpC,CACEkJ,UAAWrZ,EAAE,OACb2a,WAAmB,OAAR7M,QAAQ,IAARA,OAAA,EAAAA,EAAUrB,SACjBtG,GACE2H,EAASrB,Q3EmiCG,I2EhiCd,KAEN,CACE4M,UAAWrZ,EAAE,gBACb2a,WAAmB,OAAR7M,QAAQ,IAARA,OAAA,EAAAA,EAAUjB,cACjB1F,aAAQxB,GAAiBmI,EAASjB,aAAc,GAAI,IACpD,KAEN,CACEwM,UAAWrZ,EAAE,cACb2a,WAAmB,OAAR7M,QAAQ,IAARA,OAAA,EAAAA,EAAUxB,YACjBnF,aAAQxB,GAAiBmI,EAASxB,WAAY,EAAG,IACjD,IACJgN,YAAatZ,EAAE,2BAKvB,gBAAC,GAAD,CACEkW,SAAU+U,EACV9U,QAAS,kBAAY+U,EAAgB,OAFvC,UAIoB,WAAjBD,EACC,eAAC,GAAD,CACE1S,gBAAiBA,EACjBD,UAAW,WACT8S,OAAWnlB,GACXilB,EAAgBlZ,GAAUG,SAC1ByV,GACE,UACC9Z,GAAY,CAAE1Q,KAAI,OAAE0Q,QAAF,IAAEA,OAAF,EAAEA,EAAUtY,OAAW,IAExB,OAApBw1B,QAAoB,IAApBA,OACGzc,MAAK,SAACC,IACL,OAAIA,QAAJ,IAAIA,OAAJ,EAAIA,EAAKyd,QACPf,EAAgBlZ,GAAUW,UAE1BuY,EAAgBlZ,GAAUS,QAC1B2Y,EAAU,OAAC5c,QAAD,IAACA,OAAD,EAACA,EAAK0d,qBAGnBhG,OAAM,WACLgF,EAAgBlZ,GAAUS,YAGhC0D,QAAS,kBAAY+U,EAAgB,SAErC,KACHD,IAAiBjZ,GAAUG,QAC1B,eAAC,GAAD,IACE8Y,IAAiBjZ,GAAUS,OAC7B,eAAC,GAAD,CACEP,MAAOlS,EAAE,eACTnE,KAAMmW,GAAUS,OAChBL,YACG+Y,OAEGllB,EADAjG,EAAE,oBAAqB,CAAEmsB,GAAInsB,EAAE,aALvC,SASGmrB,GACC,gBAACS,GAAA,EAAD,CAAOC,QAAQ,WAAW7rB,EAAGA,EAA7B,UACG,CAAEmsB,GAAInsB,EAAE,YACT,oBACEQ,KAAM1B,GAAiBqsB,EAAS,MAChC1qB,OAAO,SACPC,IAAI,aACJuT,MAAO,CAAE6X,eAAgB,YAAa9J,OAAQ,GAJhD,8BAWJiJ,IAAiBjZ,GAAUW,QAC7B,eAAC,GAAD,CACET,MAAOlS,EAAE,gBACToS,YAAapS,EAAE,uBACfnE,KAAMmW,GAAUW,UAEhB,QAEN,eAACoC,GAAD,CACEhZ,MAAM,SACNkZ,aAAa,SACbC,WAAW,4B,mBCjaN,SAAekX,GAA9B,yC,gDAAe,WACbC,EACAC,EACAC,EACAC,GAJa,cA8BEC,EA9BF,wBAAAve,EAAA,+FAAAA,EAAA,MA8Bb,WAAuBxF,GAAvB,0BAAAwF,EAAA,sEAEUwe,EAFV,UAE2BjP,EAAUkP,0BAFrC,aAE2B,EAAAC,KAAAnP,GAF3B,SAGsC4O,EAAiBI,QACjDH,EACA5jB,EACA,CACEqO,aAPR,cAGU8V,EAHV,gBAUuCA,EAAoBC,OAV3D,OAUUC,EAVV,OAWkB,OAAdL,QAAc,IAAdA,OACA,UAAAjP,EAAUuP,4BAAV,SAAAJ,KAAAnP,EAAiCsP,GAZrC,wDAcI,UAAAtP,EAAUwP,0BAAV,SAAAL,KAAAnP,EAAS,MAdb,gEA9Ba,uBA8BEgP,EA9BF,4CAKbnqB,EALa,gCAMbyU,EANa,uBAOb0G,EAPa,+BAaT,GAEoB,MAApB4O,EAfS,qDAgBTG,EAAcU,GAAG,GAhBR,kEAiBWb,EAAiB72B,OAjB5B,eAiBP6kB,EAjBO,iBAkBmBgS,EAAiBc,UAC/CZ,EACAD,GApBW,WAkBPc,EAlBO,OAuBbpjB,QAAQ4F,IAAR,wBAA6B0c,IAC7BtiB,QAAQ4F,IAAR,mBACcyK,EADd,uBACsC+S,EAAkB1rB,aAExDsI,QAAQ4F,IAAR,mBAAwB4c,EAAc9qB,WAAtC,YAAoD2Y,KAChD+S,EAAkBpB,IAAIQ,GA5Bb,sDA6BbxiB,QAAQ4F,IAAR,oBAmBIwd,EAAkBzmB,GAAG,KAhDZ,kCAkDL8lB,EAAQ/pB,MAlDH,yBAoDP+pB,EAAQnqB,EAAmB+qB,KAAab,GApDjC,QAqDbxiB,QAAQ8d,MAAR,oBAA2BzN,EAA3B,qBAAiDmS,EAAc9qB,aArDlD,6C,sBCqBf,IAAMI,GAAiC,CACrCyL,sBAAoB,qBACjB7P,GAA0B,GADT,eAEjBA,GAA4B,GAFX,eAGjBA,GAA6B,GAHZ,eAIjBA,GAAyB,GAJR,KAQhB4vB,GAAmBvqB,aAAY,CACnCvN,KAAM,cACNsM,gBACAkB,SAAU,CACRuqB,gBADQ,SACQrqB,EAAOC,GACrB,MAA6CA,EAAOC,QAA5C4T,EAAR,EAAQA,YAAaC,EAArB,EAAqBA,QAASC,EAA9B,EAA8BA,WAC9BhU,EAAM8T,YAAcA,EACpB9T,EAAM+T,QAAUA,EAChB/T,EAAMgU,WAAaA,GAErBsW,gBAPQ,SAOQtqB,EAAOC,GACrBD,EAAMuqB,UAAN,2BACKvqB,EAAMuqB,WACNtqB,EAAOC,UAGdsqB,iBAbQ,SAaSxqB,EAAOC,GACtBD,EAAM+c,WAAN,2BACK/c,EAAM+c,YACN9c,EAAOC,UAGduqB,uBAnBQ,SAoBNzqB,EACAC,GAEAD,EAAMgd,iBAAmB/c,EAAOC,SAElCwqB,sBAzBQ,SAyBc1qB,EAAOC,GAC3BD,EAAMoK,eAAiBnK,EAAOC,SAEhCyqB,2BA5BQ,SA6BN3qB,EACAC,GAEAD,EAAMqK,qBAAN,2BACKrK,EAAMqK,sBACNpK,EAAOC,UAGd0qB,gBArCQ,SAqCQ5qB,EAAOC,GACrB,IAAM4qB,EAAmB/wB,OAAOC,KAAKkG,EAAOC,SAASlG,QACnD,SAACC,EAAK0rB,GACJ,MAAwC1lB,EAAOC,QAAQylB,GAA/CmF,EAAR,EAAQA,IAAKC,EAAb,EAAaA,IAAmBC,EAAhC,EAAkBC,aAClB,GAAIvlB,MAAMolB,IAAQplB,MAAMqlB,IAAQrlB,MAAMslB,GACpC,OAAO/wB,EAET,IAAMoP,EAAMyhB,EAAIjlB,QAAQ,IAClBqlB,EAAMH,EAAIllB,QAAQ,IAClBolB,EAAeD,EAAInlB,QAAQ,IAC3B6D,GAAeqhB,EAAM,EAAIC,EAAMD,EAAM,GAAGllB,QAAQ,IACtD,OAAO,2BACF5L,GADL,kBAEG0rB,EAAM,CACLtc,MACA6hB,MACAD,eACAvhB,mBAIN,IAEF1J,EAAMsK,UAAYugB,MAKjB,GAQHT,GAAiBppB,QANnB0pB,IAFK,GACLL,gBADK,GAELK,uBACAC,GAHK,GAGLA,2BACAC,GAJK,GAILA,gBACAN,GALK,GAKLA,gBACAE,GANK,GAMLA,iBACAC,GAPK,GAOLA,uBAGaL,MAAf,QC6Mee,OAjTf,YAA4D,IAAzC9xB,EAAwC,EAAxCA,SACX8S,EAAO3T,GAAUa,GACvB,EAAsCiN,KAA9B/E,EAAR,EAAQA,QAASD,EAAjB,EAAiBA,QAASvF,EAA1B,EAA0BA,QACpBqvB,ECHD,SACL/xB,GAKA,IAAMqX,EAAWC,eAEX1G,EAAepC,GAAgBxO,GAC/B+S,EAAkBnE,GAAmB5O,GACrCgyB,EAAiBhjB,KACvB,EAAsC/B,KAA9B/E,EAAR,EAAQA,QAASxF,EAAjB,EAAiBA,QAASuF,EAA1B,EAA0BA,QAC1B,EAA+D4I,cAC7D,SAAClK,GAAD,OAAqBA,EAAM4Q,QADrBlQ,EAAR,EAAQA,eAAgBxB,EAAxB,EAAwBA,iBAAkBE,EAA1C,EAA0CA,iBAGpC+M,EAAO3T,GAAUa,GACjBiyB,EAAmB1kB,oBAAQ,WACoB,IAAD,EAAlD,OAAIuF,EAAKlT,mBAAqB8C,GAAWuF,EAChCH,GAAW,UAChBgL,EAAKlT,yBADW,aAChB,EAAyB8C,GACzBmL,KAAKC,UAAUokB,IACfjqB,EAHgB,OAIhBC,QAJgB,IAIhBA,SAAWwB,GAGR,OACN,CAAChH,EAASuF,EAAS6K,EAAKlT,kBAAmBsI,IAE9C,gDAAO,WACLvB,GADK,oDAAAgL,EAAA,yDAELwgB,EAFK,yCAKEjqB,EALF,sBAKiB,IAAIE,MAAM,4BAL3B,UAOAwI,GACAmC,KACAof,GAAyBF,GATzB,sBAWK,IAAI7pB,MAAM,+BAXf,OAaG/I,EAAa8yB,EACdrf,EAAKpT,qBACNoT,EAAKzT,WACH+yB,EAAwBD,EACzBF,EACDrhB,EAGE4J,EAAWrU,KACXksB,EAtBH,iCAAA1gB,EAAA,MAsBwB,WAAO3Q,GAAP,kBAAA2Q,EAAA,2DACnBse,EAAgBruB,KAAUC,KAAK8E,EAAM3F,EAAMjI,QAAQ0L,YACvCqN,SAFO,oDAIJ,OADfwgB,EAHmB,OAGHN,QAHG,IAGHA,OAHG,EAGHA,EAAiBhxB,EAAMjI,SAHpB,iEAKnB82B,GACJyC,EACAF,EAAsBrqB,QACtBG,EACA+nB,EACAlqB,EACAyU,EACA,CACEkW,mBAAoB,SAACljB,GAEnB,MADAC,QAAQD,MAAMA,GACR,IAAIpF,MAAM,8CAfG,4EAtBxB,qEA4CiB/I,GA5CjB,kEA4CQ2B,EA5CR,kBA6CKqxB,EAAmBrxB,GA7CxB,wJAgDGuxB,EAAwBH,EACxBI,EAA0BnzB,EAAW+S,KAAI,SAACqgB,GAC9C,OAAO7wB,KAAUC,KAAK8E,EAAM8rB,EAAU15B,QAAQ0L,cAlD7C,UAqD+BsO,EAAgBqB,cArD/C,mBAqD8DtC,SArD9D,iBAwDD4gB,EAAY9wB,KAAUC,KAAK,KAxD1B,yCA0DiB0wB,EAAsBI,kBACtCH,GACA,GA5DD,QA0DDE,EA1DC,sBAgEHA,EAAYtX,GAAiBsX,EAAW7sB,EAAkBwB,GAhEvD,UAmE4BkrB,EAAsBK,cACnDJ,EACAE,EACA,CACElY,aAvED,eAmEGqY,EAnEH,iBA6EmBA,EAAiBtC,OA7EpC,eA6EGuC,EA7EH,OA8EHzb,EACEia,GAA2B,eACxBnwB,GAA4BymB,KAAKc,SAhFnC,kBAmFIoK,GAnFJ,kCAqFHrlB,QAAQD,MAAR,MArFG,wEAAP,sDDzB0BulB,CAAqB/yB,GAC/C,EAAkC2Q,GAAY3Q,GAA9C,oBAAOuR,EAAP,KAAiByhB,EAAjB,KAEMpiB,EAAepC,GAAgBxO,GAC/BizB,EAAY1lB,oBAAQ,WACxB,OAAOpC,MAAMtJ,KACX,IAAI3B,IAAI4S,EAAKzT,WAAW6B,OAAO4R,EAAKpT,sBAAwB,QAE7D,CAACoT,EAAKzT,WAAYyT,EAAKpT,uBAC1B,EEvBK,SACLyQ,GAGA,IAAM+iB,EAEF3lB,oBACF,kBACE4C,EAAOxP,QACL,SAACC,EAAKI,GAAN,mBAAC,eACIJ,GADL,kBAEGI,EAAMjI,OAAS8L,GACd7D,EAAMlI,SACN8I,KAAUC,KAAK,UAGnB,MAEJ,CAACsO,IAIH,EAA4CgjB,KAAM7hB,SAChDnB,EAAOxP,QACL,SAACC,EAAKI,GAAN,mBAAC,eACIJ,GADL,kBAEGI,EAAMjI,OAASm6B,EAAwBlyB,EAAMjI,QAAQ,QAExD,KANJ,oBAAOq6B,EAAP,KAAuBC,EAAvB,KAiCA,MAAO,CAACD,EAjBqBjQ,wBAC3B,SAACmQ,GACC,IAAMC,EAAoB9yB,OAAOC,KAAK4yB,GAAU3yB,QAC9C,SAACC,EAAK7H,GAAN,mBAAC,eACI6H,GADL,kBAEG7H,EAASm6B,EAAwBn6B,GAAQu6B,EAASv6B,QAErD,IAEFs6B,GAAkB,SAAC1W,GAAD,mBAAC,eACdA,GACA4W,QAGP,CAACL,KF7B4CM,CAAkBP,GAAjE,oBAAOG,EAAP,KAAuBK,EAAvB,KACA,EAAwDniB,qBAAS,GAAjE,oBAAO6gB,EAAP,KAA6BuB,EAA7B,KACAjiB,sBAAU,WAGNgiB,EADEtB,EAEArf,EAAKzT,WAAWsB,QACd,SAACC,EAAD,OAAQ7H,EAAR,EAAQA,OAAR,mBAAC,eACI6H,GADL,kBAEG7H,EAAS,OAEZ,KAKD+Z,EAAKpT,sBAAwB,IAAIiB,QAChC,SAACC,EAAD,OAAQ7H,EAAR,EAAQA,OAAR,mBAAC,eACI6H,GADL,kBAEG7H,EAAS,OAEZ,OAIL,CACDo5B,EACAsB,EACA3gB,EAAKzT,WACLyT,EAAKpT,uBAEP,IAOIi0B,EAPE3f,EAAgB+W,KACtB,EAA6Dla,cAC3D,SAAClK,GAAD,OAAqBA,EAAMmK,eADrBC,EAAR,EAAQA,eAAgB0J,EAAxB,EAAwBA,YAAaC,EAArC,EAAqCA,QAASC,EAA9C,EAA8CA,WAK9C,EAA6BhK,GAAYmC,EAAKnT,gBAAvCi0B,EAAP,qBAEA,GAAIA,EAAmBnjB,iBAAmBtK,KAAM,CAC9C,IAAM0tB,EAA0BjhB,WAC9BxJ,GAAiBmI,EAASd,gBAAiB,GAAI,IAEjDkjB,EAAiB,2BACZ5iB,GADY,eAGZ6iB,EAAmBx0B,QAAUy0B,IAKpC,MAAwChjB,cACtC,SAAClK,GAAD,OAAqBA,EAAM4Q,QADrB5R,EAAR,EAAQA,iBAAkBsB,EAA1B,EAA0BA,UAU1B,GAPiBrF,KAAUC,KACzBiZ,GACE,CAAEL,cAAaC,UAASC,cACxBhV,EACAsB,IAG0DqK,oBAASnL,OAAvE,oBAAO2tB,EAAP,KAAgCC,EAAhC,KACA,EAAsCziB,oBAASnL,MAA/C,oBAAOoV,EAAP,KAAoByY,EAApB,KACMC,EAAah0B,GAAW6S,EAAK7Z,MAC7Bg5B,EAAmB1kB,oBAAQ,WACQ,IAAD,EAAtC,OAAI0mB,GAAcvxB,GAAWuF,EACpBH,GAAW,UAChBgL,EAAKlT,yBADW,aAChB,EAAyB8C,GACzBmL,KAAKC,UAAUokB,IACfjqB,EAHgB,OAIhBC,QAJgB,IAIhBA,SAAWwB,GAGR,OACN,CAACuqB,EAAYvxB,EAASuF,EAAS6K,EAAKlT,kBAAmBsI,IAEpDomB,EAAgB2E,EAAUvjB,MAAK,YAAiB,IAAd3W,EAAa,EAAbA,OAItC,QAHqC,OAAbib,QAAa,IAAbA,OAAA,EAAAA,EAAgBjb,KAAWoN,MAAM+tB,GACvDtyB,KAAUC,KAAKuxB,EAAer6B,GAAQ0L,eAK1CgN,sBAAU,WAAM,8CAEd,iCAAAE,EAAA,yDAEoB,MAAhBf,GACiB,MAAjBoiB,GACY,MAAZzhB,GACW,MAAXrJ,IACAomB,EANJ,uBAQIyF,EAA2B5tB,MAR/B,6BAWQguB,EAAgBxvB,aACpBsuB,EACGtyB,QACC,SAAC4T,EAAD,OAAQxb,EAAR,EAAQA,OAAR,OAAqBwb,IAAQ6e,EAAer6B,GAAQuL,UAAY,KAChE,GAEDkI,QAAQ,IACX,KAGE+E,EAASnB,YAAYhG,GAAG,KAAM+pB,EAAc/pB,GAAG,GArBrD,qBAsBQ+nB,EAtBR,qBAuB6BF,EAvB7B,iCAwBgBA,EAAiBU,mBACpB7f,EAAKpT,sBAAwB,IAAI0S,KAAI,gBAAGrZ,EAAH,EAAGA,OAAH,OACpC6I,KAAUC,KAAKuxB,EAAer6B,GAAQ0L,eAExC,GA5BZ,gDA8BU0B,KA9BV,QAuBMiuB,EAvBN,oCAgCY5B,EAA0B1f,EAAKzT,WAAW+S,KAAI,SAACqgB,GACnD,OAAO7wB,KAAUC,KAAKuxB,EAAeX,EAAU15B,QAAQ0L,cAjC/D,UAmCmCmM,EAAa+hB,kBACxCH,GACA,GArCR,QAmCM4B,EAnCN,uCA0CIA,EAAuBD,EA1C3B,QA4CEJ,EAA2BK,GAE3BJ,EACEtY,GACEyY,EACAC,EACA7iB,EAASjB,eAlDf,6CAFc,0DAwDT+jB,KACJ,CACD9iB,EACA6hB,EACAxiB,EACAoiB,EACA9qB,EACA4K,EAAKzT,WACLyT,EAAKpT,qBACLuyB,EACAE,EACAc,EACA3E,IAIF,IAAMne,GAAUgiB,EACZrf,EAAKpT,sBAAwB,GAC7BoT,EAAKzT,YACP+S,KAAI,gBAAGrZ,EAAH,EAAGA,OAAQE,EAAX,EAAWA,KAAMC,EAAjB,EAAiBA,KAAMJ,EAAvB,EAAuBA,SAAvB,MAAuC,CAC3CC,SACAE,OACAC,OACAwlB,IAAKtV,IAA8B,OAAb4K,QAAa,IAAbA,OAAA,EAAAA,EAAgBjb,KAAWoN,KAAMrN,GACvDgM,WAAYsuB,EAAer6B,GAAQuL,aA/KoB,8CAkLzD,6BAAAqN,EAAA,sEACwBogB,EACpBqB,EACAjB,GAHJ,cACQW,EADR,OAMEW,EACER,EAAUtyB,QACR,SAACC,EAAK6C,GAAN,mBAAC,eACI7C,GADL,kBAEG6C,EAAE1K,OAAS,OAEd,KAZN,kBAgBS+5B,GAhBT,4CAlLyD,sBAuMzD,IAAMwB,EA6BR,SACElB,EACA7hB,EACAlS,EACAk1B,EACAhZ,EACAuY,EACAtZ,EACAzJ,GACqB,IAAD,EACdlP,EAAO,CACXua,MAAO,GACPC,YAAalW,KACbquB,cAAeruB,MAEXsuB,EAAwB,GAC9Bp1B,EAAW0B,SAAQ,SAACC,GAClB,IAAQjI,EAAqBiI,EAArBjI,OAAQD,EAAakI,EAAblI,SACVqT,EAASvK,KAAUC,KAAKuxB,EAAer6B,GAAQ0L,WAC/CiwB,EAAa/vB,eACF,OAAdoM,QAAc,IAAdA,OAAA,EAAAA,EAAiBhY,KAAW,GAAGyT,QAAQ,GACxC,IAEF,IAAIL,EAAOsP,IAAI,KAAf,CACA,IAAM5P,EAAO,CACX7K,QACAmL,SACAuQ,oBAAqBgY,EACrBjY,SAAUtQ,EAAO7F,IAAIouB,GAAY3rB,IAAInH,KAAUC,KAAK,IAAIwE,IAAIvN,KAE9D+I,EAAKua,MAAM+M,KAAKtd,GAChBhK,EAAKwa,YAAcxa,EAAKwa,YAAY7H,IAClC3K,GAAgBsC,EAAQsoB,EAAwB37B,IAElD+I,EAAK2yB,cAAgB3yB,EAAK2yB,cAAchgB,IAAIkgB,OAG9C,IAAMjkB,GAA0B,OAARc,QAAQ,IAARA,OAAA,EAAAA,EAAUd,kBAAmBtK,KAC/CwuB,EAAe,UAAGb,EACrBxtB,IAAImK,UADc,aAAG,EAEpB1H,IAAInH,KAAUC,KAAK,IAAIwE,IAAIkuB,EAAYz7B,WACrC8f,EAAK,CACT/M,KAAM,CACJ7K,MAAOuzB,EACPpoB,OAAQ2nB,EACRpX,oBAAqBjM,EACrBgM,SAAUkY,GAEZtY,YAAayX,EACbU,cAAeG,GAEXpY,GAAsB,OAARhL,QAAQ,IAARA,OAAA,EAAAA,EAAUnB,YAAYhG,GAAG,IACzC0pB,EACGxtB,IAAI1E,KAAUC,KAAK,IAAIwE,IAAI,KAC3B0C,IAAI+qB,EAAwBtf,IAAxB,OAA4BjD,QAA5B,IAA4BA,OAA5B,EAA4BA,EAAUnB,cAC7CxO,KAAUC,KAAK,IAAIwE,IAAI,IAErBuuB,EAAYhzB,KAAUC,KAAK,GAE3B2a,EAAa,CACjBrQ,OAAQyoB,EACRnY,UAAwB,OAAd1L,QAAc,IAAdA,OAAA,EAAAA,EAAgB8Z,KACtBlmB,aAAWoM,EAAe8Z,IAAIre,QAAQ,GAAI,IACvClG,IAAIsuB,GACJ7rB,IAAInH,KAAUC,KAAK,IAAIwE,IAAI,KAC9B,MAGN,MAAO,CACLxE,OACA+W,KACA2C,cACAgB,cACAC,cAtGyBqY,CACzBzB,EACA7hB,EACA4gB,EAAuBrf,EAAKpT,sBAAwB,GAAKoT,EAAKzT,WAC9DyT,EAAK1T,QACLmc,EACAuY,EACAtZ,EACAmZ,GAGF,OACE,eAAC,GAAD,CACElF,qBApNqD,2CAqNrDD,wBAjBJ,SAA8Bz1B,EAAgB6L,GAC5C6uB,EAAqB,eAAG16B,EAAS6L,KAiB/BkwB,uBAAwB,kBACtBpB,GAAwB,SAAC/W,GAAD,OAAgBA,MAE1CwV,qBAAsBA,EACtBxc,MAAO3V,EACPmQ,OAAQA,EACRme,cAAeA,EACf/c,SAAUA,EACVgd,YAAayE,EACbhX,gBAAiBsY,K,iBGrPvB,SAASS,GAAYnwB,GACnB,IAAMuiB,EAAMC,oBAMZ,OAJA3V,sBAAU,WACR0V,EAAIE,QAAUziB,KAGTuiB,EAAIE,QAOb,SAAS2N,KACP,OACE,+BACE,uCAKN,SAASC,GAAT,GAAyC,IAAjBC,EAAgB,EAAhBA,MAAOC,EAAS,EAATA,MAC7B,EAAgC7jB,oBAAS,GAAzC,oBAAO8jB,EAAP,KAAiBC,EAAjB,KACA,EAA4C/jB,oBAAS,MAArD,oBAAOgkB,EAAP,KAAuBC,EAAvB,KACMC,EAAgBT,GAAYG,GAC5BO,EAAkBrO,oBACxB,EC/Ba,WACb,MAAwB9V,oBAA2B,CAAC,EAAG,IAAvD,oBAAO2I,EAAP,KAAayb,EAAb,KASA,OARAC,4BAAgB,WACd,SAASC,IACPF,EAAQ,CAAC5oB,OAAO+oB,WAAY/oB,OAAOgpB,cAIrC,OAFAhpB,OAAOipB,iBAAiB,SAAUH,GAClCA,IACO,kBAAM9oB,OAAOkpB,oBAAoB,SAAUJ,MACjD,IACI3b,EDqBiBgc,GAAxB,oBAAO5d,EAAP,KAAciE,EAAd,KAYA,OANA7K,sBAAU,kBAAM8jB,EAAkBC,IAAkBN,EAAQC,EAAQ,MAAK,CACvED,EACAC,IAEF1jB,sBAAU,kBARiBykB,EAQOhB,OAPhCG,EAAYI,EAAgBpO,QAAQ8O,aAAev/B,SAASs/B,EAAQ,KAD5C,IAACA,IAQe,CAAChB,EAAO7c,EAAOiE,IAGvD,uBAAKzY,UAAU,0BAA0BsjB,IAAKsO,EAA9C,UACE,eAACW,GAAA,EAAOrtB,IAAR,CACEstB,QAAS,CAAEhV,EAAG+T,GACdvxB,UAAS,wBAAmByxB,GAC5BgB,oBAAqB,kBAAMf,EAAkB,KAH/C,SAKG,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAGnjB,KAAI,SAAC1F,GAAD,OAClC,sBAAe7I,UAAU,eAAzB,SACG6I,GADOA,QAKd,uBAAM7I,UAAU,qBAAhB,kBAKS,SAAS0yB,GAAT,GAAoD,IAAzB3xB,EAAwB,EAAxBA,MAAwB,IAAjBL,UACzCiyB,EAhDR,WAAsD,IAA5BN,EAA2B,uDAAlB,EAAG3xB,EAAe,uDAAH,EAChD,OAAOqO,WAAW5J,KAAK0V,IAAIwX,EAAQ,IAAI1pB,QAAQjI,GAAWwG,MAAM,IAAI0rB,UA+CnDC,CAAiB9xB,OAD8B,MAAL,EAAK,GAE1D+xB,EAAiB5B,GAAYnwB,GAE/BuwB,EAAQ,KAIZ,OAHIvwB,EAAQ+xB,IAAgBxB,EAAQ,YAChCvwB,EAAQ+xB,IAAgBxB,EAAQ,YAGlC,eAACiB,GAAA,EAAOrtB,IAAR,CAAY6tB,QAAM,EAAC/yB,UAAU,cAA7B,SACG2yB,EAASpkB,KAAI,SAAC8jB,EAAQtiB,GAAT,MACD,MAAXsiB,EACE,eAAClB,GAAD,GAAoBphB,GAEpB,eAACqhB,GAAD,CAA0BC,MAAOgB,EAAQf,MAAOA,GAA7BvhB,Q,yBE7DdijB,GAZI,WACjB,OACE,sBAAKhzB,UAAWC,KAAOgzB,WAAvB,SACE,eAACte,GAAD,CACEhZ,MAAM,SACNkZ,aAAc5U,KAAOizB,OACrBpe,WAAW,wB,6DC4JJqe,OAhIf,SAAmBve,GACjB,IAAQhV,EAAMsS,eAANtS,EACAiC,EAAiBmL,cAAY,SAAClK,GAAD,OAAqBA,EAAM4Q,QAAxD7R,aAENuxB,EAYExe,EAZFwe,UACAj2B,EAWEyX,EAXFzX,MACAk2B,EAUEze,EAVFye,UACAxY,EASEjG,EATFiG,IACAyY,EAQE1e,EARF0e,UACAC,EAOE3e,EAPF2e,kBACAC,EAME5e,EANF4e,gBACAC,EAKE7e,EALF6e,aACAC,EAIE9e,EAJF8e,mBACAC,EAGE/e,EAHF+e,gBACAC,EAEEhf,EAFFgf,iBACAC,EACEjf,EADFif,UAEF,OACE,sBAAK7zB,UAAWC,KAAO6zB,eAAvB,SACE,eAAC,KAAD,CACEC,cAAa,eAAKX,EAAY,IAC9BY,SAAQ,yCAAE,WAAO9rB,EAAQpE,GAAf,kBAAAgK,EAAA,6DACO,OAAf6lB,QAAe,IAAfA,OACM/yB,EAAYJ,GAAsB,OAAC0H,QAAD,IAACA,OAAD,EAACA,EAASkrB,GAAY,IAC9DtvB,EAAQmwB,UAAU,CAAE/rB,OAAO,eAAIkrB,EAAY,MAHnC,SAIeK,EACrB7yB,EAAUG,MAAMO,YALV,OAIF2tB,EAJE,OAOQ,OAAhB2E,QAAgB,IAAhBA,KAAmB3E,GAPX,2CAAF,wDAFV,SAYG,SAACra,GAAD,aACC,gBAAC,KAAD,WACE,eAAC,KAAD,CAAOxf,KAAMg+B,EAAWc,SAAUL,EAAlC,SACG,0BAAGM,EAAH,EAAGA,MAAOC,EAAV,EAAUA,KAAV,OACC,gBAAC,KAAD,CACE5V,QAAQ,OACRpJ,QACEvT,EACI,wBACA,2BAENwyB,aAAa,OACbC,WACE,UAAAF,EAAKG,cAAL,eAAcnB,MAAd,UAA4BgB,EAAKI,eAAjC,aAA4B,EAAepB,IAT/C,UAYE,gBAAC,KAAD,WACE,eAAC,KAAD,CACEqB,cAAc,OACdnW,MAAM,WACN/d,SAAS,MACTgU,WAAW,MAJb,SAME,sBAAK/B,IAAK6gB,EAAW3gB,IAAI,eAE3B,eAAC,KAAD,2BACMyhB,GADN,IAEEO,YAAY,OACZrZ,aAAa,MACbC,YAAY,MACZ7f,KAAK,OACL64B,UAAS,UAAEF,EAAKG,cAAP,aAAE,EAAcnB,GACzB7X,YAAY,MACZ9G,QAAQ,UACR5B,SAAU,SAAC6B,GACTE,EAAM+f,aAAajgB,GACD,OAAlBgf,QAAkB,IAAlBA,KAAqBhf,EAAErU,OAAOU,WAGlC,eAAC,KAAD,CAAmByT,MAAM,OAAOgK,QAAQ,OAAxC,SACE,eAAC,KAAD,CACE/J,QAAQ,QACR2B,KAAK,KACLjC,QAAS,WACW,OAAlBuf,QAAkB,IAAlBA,KAAqB7Y,GACrBjG,EAAMggB,gBAAgBxB,GAAW,GACjCxe,EAAMigB,cAAczB,EAAWvY,IANnC,SASGjb,EAAE,cAIRgV,EAAMxT,SAAWwT,EAAMkgB,MACtB,gBAAC,KAAD,CAAMC,GAAG,MAAMx0B,SAAS,KAAK6f,GAAG,IAAhC,8BACoBgT,EADpB,YACiC,UAACxe,EAAM1M,cAAP,aAAC,EAAekrB,IAAY,IAC1Dj2B,EAFH,IAEW,WAGX,eAAC,KAAD,CAAkBmhB,MAAM,UAAxB,mBACG8V,EAAKG,cADR,aACG,EAAcnB,WAMxBI,GACC,sBAAKxzB,UAAWC,KAAO+0B,mBAAvB,SACE,sBAAKh1B,UAAWC,KAAOg1B,YAAvB,SACE,gCAAOzB,QAKb,uBAAKxzB,UAAWC,KAAOi1B,aAAvB,UACE,eAAC,KAAD,CACEzgB,QAAQ,UACR6e,UAAWA,EACXld,KAAK,KACL5B,MAAM,OACN/Y,KAAK,SACLsd,UAAWnE,EAAMxT,UAAYwT,EAAMkgB,MANrC,SAQGlgB,EAAMxT,QAAUmyB,EAAhB,UAAoC3e,EAAM2f,cAA1C,aAAoC,EAAenB,KAEtD,sBAAKpzB,UAAWC,KAAOk1B,gBAAvB,sI,qBCrJC,SAAeC,GAA9B,yC,gDAAe,WACbnJ,EACAC,EACAC,EACAC,GAJa,UAAAte,EAAA,yDAMW,MAApBme,EANS,0CAMwB,GANxB,WAOTG,EAAcU,GAAG,GAPR,0CAOmB,GAPnB,uBASmBb,EAAiBc,UAC/CZ,EACAD,GAXW,kBAcSN,IAAIQ,GAdb,0CAcoC,GAdpC,iCAgBN,GAhBM,6C,sBCIR,SAASiJ,GACdpJ,EACAqJ,GAEsD,IADtDhT,EACqD,uDAD3C,IAEV,EAAoBlZ,KAAZ/E,EAAR,EAAQA,QACR,EAAgCoJ,qBAAkB,GAAlD,oBAAO8nB,EAAP,KAAiBC,EAAjB,KACA,EAA8B/nB,qBAAkB,GAAhD,oBAAOgoB,EAAP,KAAgBC,EAAhB,KACA,EAA0BjoB,sBAA1B,oBAAOkoB,EAAP,KAAcC,EAAd,KACMC,EAAgB,SACpBzJ,GAEA,IACE,IAAK/nB,EAAS,MAAM,IAAIE,MAAM,4BAC9B,IAAK0nB,IAAqBqJ,EACxB,MAAM,IAAI/wB,MAAM,4BAClB,IAAM3D,EAAYJ,GAAuB4rB,EAAe,IACxDrJ,aAAa4S,GACbD,GAAW,GACX,IAAMI,EAAWhT,YAAW,WAC1BsS,GACEnJ,EACAqJ,EAAiBpxB,QACjBG,EACAzD,EAAUG,OAEToN,MAAK,SAAC4nB,GACLP,EAAYO,GACZL,GAAW,MAEZ5P,OAAM,SAACpR,GAAD,OAAO9K,QAAQD,MAAM+K,QAC7B4N,GACHsT,EAASE,GACT,MAAOphB,GACP9K,QAAQD,MAAM+K,KAGlB,MAAO,CAAC6gB,EAAUE,EAASI,GCV7B,IAqLeG,GArLE,SAACphB,GAChB,IACEqhB,EAOErhB,EAPFqhB,YACA7lB,EAMEwE,EANFxE,QACA8lB,EAKEthB,EALFshB,UACApsB,EAIE8K,EAJF9K,SACAqsB,EAGEvhB,EAHFuhB,YACAh6B,EAEEyY,EAFFzY,SACAi6B,EACExhB,EADFwhB,YAEMx2B,EAAMsS,eAANtS,EACAiC,EAAiBmL,cAAY,SAAClK,GAAD,OAAqBA,EAAM4Q,QAAxD7R,aACFkI,ECrCD,SACLD,GAEA,IAAM0J,EAAWC,eACX4iB,EAAexsB,GAAgBC,GAC/BoF,EAAkBhE,GAA0BpB,GAC1CzF,EAAY+E,KAAZ/E,QACR,gDAAO,WACLiE,GADK,sBAAAwF,EAAA,kEAIEzJ,EAJF,sBAIiB,IAAIE,MAAM,4BAJ3B,UAKE8xB,EALF,sBAKsB,IAAI9xB,MAAM,+BALhC,UAME2K,EANF,sBAMyB,IAAI3K,MAAM,mCANnC,cAOGoS,EAAWrU,KACXg0B,EAAgBv4B,KAAUC,KAAKsK,GARlC,UASG0jB,GACJ9c,EACAmnB,EAAanyB,QACbG,EACAiyB,GACA,EACA3f,EACA,CACEkW,mBAAoB,SAACljB,GAEnB,MADAC,QAAQD,MAAMA,GACR,IAAIpF,MAAM,8CAnBnB,yBAuBc8xB,EAAaE,MAAMD,GAvBjC,eAuBGvK,EAvBH,iBAwBmBA,EAAGW,OAxBtB,eAwBGuC,EAxBH,OAyBHzb,EACEia,GAA2B,eACxBnwB,GAA4BymB,KAAKc,SA3BnC,kBA8BIoK,GA9BJ,kCAgCHrlB,QAAQD,MAAR,MAhCG,0DAAP,sDD8Ba6sB,CAAyB1sB,GAChC2sB,EEzCD,SACL3sB,GAEA,IAAM0J,EAAWC,eACX4iB,EAAexsB,GAAgBC,GAC7BzF,EAAY+E,KAAZ/E,QACR,gDAAO,WACLiE,GADK,oBAAAwF,EAAA,kEAIEzJ,EAJF,sBAIiB,IAAIE,MAAM,4BAJ3B,UAKE8xB,EALF,sBAKsB,IAAI9xB,MAAM,+BALhC,cAMGmyB,EAAmB34B,KAAUC,KAAKsK,GANrC,SAOc+tB,EAAaI,SAASC,GAPpC,cAOG3K,EAPH,iBAQmBA,EAAGW,OARtB,eAQGuC,EARH,OASHzb,EACEia,GAA2B,eACxBnwB,GAA6BymB,KAAKc,SAXpC,kBAcIoK,GAdJ,kCAgBHrlB,QAAQD,MAAR,MAhBG,0DAAP,sDFmCiBgtB,CAAgB7sB,GACjC,EAA4B9N,GAAU8N,GAA9B7N,EAAR,EAAQA,QAASC,EAAjB,EAAiBA,OACXm6B,EAAexsB,GAAgBC,GAGrC,EAIIurB,GANoBnqB,GAA0BpB,GAMCusB,GAJnD,oBACEd,EADF,KAEEE,EAFF,KAGEmB,EAHF,KA0BMC,EAAiB,SAACvuB,GAEtB,OAAKA,EADgB,0BAIH6R,KAAK7R,GAGnBxH,aAAWwH,EAAQ,IAAIsP,IAAItV,MACtB1C,EAAE,4BAEJ,KALEA,EAAE,mBAHFA,EAAE,4BA2Bb,OACE,sBAAKI,UAAWC,KAAO62B,SAAvB,SACE,gBAAC,KAAD,CACEC,UAAQ,EACRtiB,QAAQ,UACRW,QACEvT,EAAe,wBAA0B,2BAE3CwyB,aAAa,OACb5b,OAAO,OAPT,UASE,gBAAC,KAAD,CAASue,GAAG,MAAZ,UACE,eAAC,KAAD,UAAMp3B,EAAE,aACR,eAAC,KAAD,UAAMA,EAAE,iBAEV,gBAAC,KAAD,WACE,gBAAC,KAAD,WACE,sBAAII,UAAWC,KAAOg3B,UAAtB,UACGr3B,EAAE,QADL,IACeq2B,KAEf,eAAC,GAAD,CACE7C,UAAW,UACXj2B,MAAO84B,EACP5C,UAAW8C,EACX5C,kBACEgC,EACI31B,EAAE,WACFA,EAAE,aAAc,CAAEmD,OAAQnD,EAAE,aAElC0zB,UAAWmC,EACXjC,gBACEt3B,EACE,gBAACsvB,GAAA,EAAD,CAAO5rB,EAAGA,EAAG6rB,QAAQ,kBAArB,UACG,CAAExR,UAAWgc,GACd,oBAAG71B,KAAMnE,EAAS4X,MAAO,CAAE+N,OAAQ,EAAGkI,WAAY,QAAlD,SACG,CAAE3tB,SAAUA,QAIjB,gBAACqvB,GAAA,EAAD,CAAO5rB,EAAGA,EAAG6rB,QAAQ,kBAArB,UACG,CAAExR,UAAWgc,GACd,qBACE71B,KAAMnE,EACNoE,OAAO,SACPC,IAAI,aACJuT,MAAO,CAAE+N,OAAQ,EAAGkI,WAAY,QAJlC,UAMG,CAAE3tB,SAAUA,GACb,+BAAM,CAAE+6B,iBAAkB,kBAKlCrc,IAAKtV,GAAiB6K,GAAW9N,KAAM,GAAI,IAC3CmxB,aAAc1pB,EACd6pB,iBAvEQ,SAAC3E,IACnB,OAAIA,QAAJ,IAAIA,OAAJ,EAAIA,EAASpD,QACXuK,EAAYxkB,GAAUW,QAAS3S,EAAE,YAEjCw2B,EAAYxkB,GAAUS,OAAQzS,EAAE,WAArB,OAAiCqvB,QAAjC,IAAiCA,OAAjC,EAAiCA,EAASnD,kBAoE7C6H,gBAAiB,kBAAMyC,EAAYxkB,GAAUG,UAC7C2hB,mBAAoBkD,EACpB/C,UA5GY,SAACvrB,GACvB,IAAM6uB,EAAoBN,EAAevuB,GACzC,OAAI6uB,IAGAr2B,aAAWwH,EAAQ,IAAI/B,GAAG6J,GACrBxQ,EAAE,4BADX,SA0GM,gBAAC,KAAD,WACE,sBAAII,UAAWC,KAAOg3B,UAAtB,UACGr3B,EAAE,YADL,IACmBq2B,KAEnB,eAAC,GAAD,CACE7C,UAAW,WACXj2B,MAAO84B,EACP5C,UAAW8C,EACX7C,WAAW,EACXC,kBAAmB3zB,EAAE,YACrB4zB,gBACEt3B,EACE,gBAACsvB,GAAA,EAAD,CAAO5rB,EAAGA,EAAG6rB,QAAQ,kBAArB,UACG,CAAExR,UAAWgc,GACd,oBAAG71B,KAAMnE,EAAS4X,MAAO,CAAE+N,OAAQ,EAAGkI,WAAY,QAAlD,SACG,CAAE3tB,SAAUA,QAIjB,gBAACqvB,GAAA,EAAD,CAAO5rB,EAAGA,EAAG6rB,QAAQ,kBAArB,UACG,CAAExR,UAAWgc,GACd,qBACE71B,KAAMnE,EACNoE,OAAO,SACPC,IAAI,aACJuT,MAAO,CAAE+N,OAAQ,EAAGkI,WAAY,QAJlC,UAMG,CAAE3tB,SAAUA,GACb,+BAAM,CAAE+6B,iBAAkB,kBAKlCrc,IAAKtV,GAAiB2wB,GAAa5zB,KAAM,GAAI,IAC7CmxB,aAAcgD,EACd5C,UAxIc,SAACvrB,GACzB,IAAM6uB,EAAoBN,EAAevuB,GACzC,OAAI6uB,IAGAr2B,aAAWwH,EAAQ,IAAI/B,GAAG2vB,GACrBt2B,EAAE,4BADX,IAoIUg0B,iBAzGS,SAAC3E,IACpB,OAAIA,QAAJ,IAAIA,OAAJ,EAAIA,EAASpD,QACXuK,EAAYxkB,GAAUW,QAAS3S,EAAE,aAEjCw2B,EAAYxkB,GAAUS,OAAQzS,EAAE,YAArB,OAAkCqvB,QAAlC,IAAkCA,OAAlC,EAAkCA,EAASnD,kBAsG9C6H,gBAAiB,kBAAMyC,EAAYxkB,GAAUG,wB,qBGhN5C,OAA0B,4CC2CzC,IA+PeqlB,GA/PE,SAACxiB,GAAgC,IAAD,UACvCqhB,EAA2DrhB,EAA3DqhB,YAAaE,EAA8CvhB,EAA9CuhB,YAAa/lB,EAAiCwE,EAAjCxE,QAAS8lB,EAAwBthB,EAAxBshB,UAAWpsB,EAAa8K,EAAb9K,SAChDutB,EAAmBtwB,GAAQxB,GAAiB6K,EAAS,GAAI,IACzDknB,EAAqBvwB,GAAQxB,GAAiB2wB,EAAW,GAAI,IAC3D7I,EAAcrgB,cAAY,SAAClK,GAAD,OAAqBA,EAAMmK,eAArDogB,UACR,EClCa,SACbvjB,EACAytB,GAEA,IAAQlzB,EAAY+E,KAAZ/E,QAER,EAA0CoJ,oBAAwB,CAChE+pB,YAAa,GACbC,aAAc,GACdC,YAAa,KAHf,oBAAOC,EAAP,KAAsBC,EAAtB,KAKMnsB,EAAerB,KACfisB,EAAexsB,GAAgBC,GAyCrC,OAvCAqc,IAAU,WAAM,8CACd,+BAAArY,EAAA,yDACOzJ,EADP,sBACsB,IAAIE,MAAM,4BADhC,UAEO8xB,GAAiB5qB,EAFxB,sBAGU,IAAIlH,MAAM,4BAHpB,uBAK2B8xB,EAAawB,OACpCxzB,EACAoH,EAAavH,SAPjB,UAKQ4zB,EALR,OAUEF,GAAiB,SAAC9e,GAAD,mBAAC,eACbA,GADY,IAEf0e,YAAajyB,GAAiBuyB,GAAcx1B,KAAM,UAGhDi1B,EAfN,kCAgBmClB,EAAawB,OAC1CxzB,EACAkzB,GAlBN,QAgBUQ,EAhBV,OAoBIH,GAAiB,SAAC9e,GAAD,mBAAC,eACbA,GADY,IAEf4e,YAAanyB,GAAiBwyB,GAAoBz1B,KAAM,SAE1Ds1B,GAAiB,SAAC9e,GAAD,mBAAC,eACbA,GADY,IAEf2e,aAAclyB,GACZwyB,EAAiBpnB,IAAImnB,IAAex1B,KACpC,SA5BR,6CADc,sBAkCV+B,GAlCW,WAAD,wBAmCP2zB,KAENviC,IAEIkiC,EDnB4CM,CACjDnuB,EADiE,OAEjEujB,QAFiE,IAEjEA,OAFiE,EAEjEA,EAAYvjB,GAAUouB,WAAWh0B,SAF3BszB,EAAR,EAAQA,YAAaE,EAArB,EAAqBA,YAAaD,EAAlC,EAAkCA,aAI5BE,EAAgBF,GAA8BD,EAC9CW,EE9CO,SACbruB,GAEA,IAAMusB,EAAexsB,GAAgBC,GAC7BzF,EAAY+E,KAAZ/E,QACFmP,EAAWC,eACjB,gDAAO,+BAAA3F,EAAA,kEAEEzJ,EAFF,sBAEiB,IAAIE,MAAM,4BAF3B,UAGE8xB,EAHF,sBAGsB,IAAI9xB,MAAM,oCAHhC,uBAKc8xB,EAAa8B,OAL3B,cAKGpM,EALH,iBAMmBA,EAAGW,OANtB,eAMGuC,EANH,OAOHzb,EACEia,GAA2B,eACxBnwB,GAA6BymB,KAAKc,SATpC,kBAYIoK,GAZJ,kCAcHrlB,QAAQD,MAAR,MAdG,0DAAP,qDFwCayuB,CAAYtuB,GACnBuuB,EGjDO,SACbvuB,GAEA,IAAMusB,EAAexsB,GAAgBC,GAC7BzF,EAAY+E,KAAZ/E,QACR,gDAAO,6BAAAyJ,EAAA,kEAEEzJ,EAFF,sBAEiB,IAAIE,MAAM,4BAF3B,UAGE8xB,EAHF,sBAGsB,IAAI9xB,MAAM,oCAHhC,uBAKc8xB,EAAagC,YAL3B,cAKGtM,EALH,iBAMUA,EAAGW,OANb,2EAQH9iB,QAAQD,MAAR,MARG,0DAAP,qDH4CkB2uB,CAAexuB,GACjC,EAGI2D,oBAAyC,MAH7C,oBACEod,EADF,KAEEC,EAFF,KAIMkD,EAAG,OAAGX,QAAH,IAAGA,GAAH,UAAGA,EAAYvjB,UAAf,aAAG,EAAuBkkB,IAC7BuK,EAAevK,EAAG,WAChBppB,GAAsB7G,KAAUC,KAAKgwB,GAAM,KAC/C,IACEzC,GAAe,OAAT8B,QAAS,IAATA,GAAA,UAAAA,EAAYvjB,UAAZ,eAAuByhB,MAAO,IACpCiN,EAAa,OAAGnL,QAAH,IAAGA,GAAH,UAAGA,EAAYvjB,UAAf,aAAG,EAAuBouB,WAAW3M,IAClDkN,EAAmB,OAAGpL,QAAH,IAAGA,GAAH,UAAGA,EAAYvjB,UAAf,aAAG,EAAuBouB,WAAW/6B,MACtDyC,EAAMsS,eAANtS,EAEF84B,EAAc,SAClBC,EACAC,EACA7N,GAEA,OAAQ4N,GACN,KAAK/mB,GAAUG,QACb+Y,EAAgB,CAAErvB,KAAMmW,GAAUG,UAClC,MACF,KAAKH,GAAUW,QACbuY,EAAgB,CACdrvB,KAAMmW,GAAUW,QAChBT,MAAOlS,EAAE,gBACToS,YAAapS,EAAE,cAAe,CAAEmsB,GAAI6M,MAEtC,MACF,KAAKhnB,GAAUS,OACbyY,EAAgB,CACdrvB,KAAMmW,GAAUS,OAChBP,MAAOlS,EAAE,eACToS,YAAc+Y,OAEVllB,EADAjG,EAAE,oBAAqB,CAAEmsB,GAAI6M,IAEjC3mB,SAAU8Y,EACR,gBAACS,GAAA,EAAD,CAAOC,QAAQ,WAAW7rB,EAAGA,EAA7B,UACG,CAAEmsB,GAAI6M,GACP,oBACEx4B,KAAM1B,GAAiBqsB,EAAS,MAChC1qB,OAAO,SACPC,IAAI,aACJuT,MAAO,CAAE6X,eAAgB,YAAa9J,OAAQ,GAJhD,4BASA,OAEN,MACF,KAAKhQ,GAAUinB,QACb/N,EAAgB,CACdrvB,KAAMmW,GAAUinB,QAChB/mB,MAAOlS,EAAE,gBACToS,YAAY,6KAAD,OAA+KslB,EAA/K,SAQnB,OACE,uBAAKt3B,UAAWC,KAAO64B,SAAvB,UACE,eAAC,GAAD,CACEhjB,SAAU+U,EACV9U,QAAS,kBAAY+U,EAAgB,OAFvC,SAIE,gBAAC,GAAD,2BAAwBD,GAAxB,cACE,gBAAC,KAAD,CACErK,GAAG,8BACH6T,aAAa,OACb5T,EAAE,OACFsU,GAAG,OAJL,UAME,eAAC,KAAD,CAAMhb,eAAe,SAArB,SACE,eAAC,KAAD,CAAMqG,GAAG,IAAI9B,MAAM,sBAAnB,+BAIF,eAAC,KAAD,CAAMvE,eAAe,SAArB,SACE,eAAC,KAAD,CAAKyG,GAAG,UAAU6T,aAAa,MAAM5T,EAAE,OAAOsU,GAAG,MAAjD,SACE,eAAC,KAAD,CAAM3U,GAAG,KAAK9B,MAAM,QAApB,WACKqZ,GAAehvB,QAAQ,SAIhC,gBAAC,KAAD,CAAKosB,GAAG,OAAR,UACE,gBAAC,KAAD,CACEhb,eAAe,gBACfid,GAAG,OACH1iB,WAAW,SACXykB,SAAS,OAJX,UAME,gBAAC,KAAD,CAAMzkB,WAAW,SAAjB,UACE,eAAC,KAAD,CAAKE,MAAM,OAAX,SACE,sBAAK9B,IAAI,OAAOF,IAAKwmB,GAAUxkB,MAAM,WAEvC,eAAC,KAAD,CAAM4L,GAAG,IAAT,sBAEF,eAAC,KAAD,CAAMA,GAAG,IAAT,WAAgBoX,GAAa7uB,QAAQ,QAEtC6vB,GAAiBC,EAChB,gBAAC,KAAD,CACE1e,eAAe,gBACfzF,WAAW,SACXykB,SAAS,OAHX,UAKE,gBAAC,KAAD,CAAMzkB,WAAW,SAAjB,UACE,eAAC,KAAD,CAAKE,MAAM,OAAOykB,GAAG,MAArB,SACE,sBAAKvmB,IAAI,OAAOF,IAAK0mB,GAAe1kB,MAAM,WAE5C,gBAAC,KAAD,CAAM4L,GAAG,IAAT,UAAcqY,EAAd,UAEF,eAAC,KAAD,CAAMrY,GAAG,IAAT,SACGsX,IAAgBA,GAAa/uB,QAAQ,GAAK,WAG7C,YAGK,OAAZkiB,QAAY,IAAZA,OAAA,EAAAA,EAAcpvB,QAASmW,GAAUinB,QAChC,uBAAK74B,UAAWC,KAAOk5B,eAAvB,UACE,eAAC,KAAD,CACE1Y,EAAE,OACFhM,QAAQ,UACRN,QAAO,wBAAE,6BAAArG,EAAA,6DACP4qB,EAAY9mB,GAAUG,SADf,SAEesmB,IAFf,QAGP,QADMpJ,EAFC,cAGP,IAAIA,OAAJ,EAAIA,EAASpD,QACX6M,EAAY9mB,GAAUW,QAAS3S,EAAE,mBAEjC84B,EACE9mB,GAAUS,OACVzS,EAAE,kBAFO,OAGTqvB,QAHS,IAGTA,OAHS,EAGTA,EAASnD,iBATN,2CAHX,SAiBGlsB,EAAE,oBAEL,eAAC,KAAD,CACE6U,QAAQ,UACRN,QAAO,wBAAE,6BAAArG,EAAA,6DACP4qB,EAAY9mB,GAAUG,SADf,SAEeomB,IAFf,QAGP,QADMlJ,EAFC,cAGP,IAAIA,OAAJ,EAAIA,EAASpD,QACX6M,EAAY9mB,GAAUW,QAAS3S,EAAE,uBAEjC84B,EACE9mB,GAAUS,OACVzS,EAAE,sBAFO,OAGTqvB,QAHS,IAGTA,OAHS,EAGTA,EAASnD,iBATN,2CAFX,SAgBGlsB,EAAE,2BAGL,WAGR,eAAC,GAAD,2BAAcgV,GAAd,IAAqBwhB,YAAasC,KAClC,sBAAK14B,UAAWC,KAAOm5B,sBAAvB,SACE,eAAC,GAAD,CACEzf,sBACE,uCACE,eAAC,KAAD,CACEL,aAAW,kBACX7E,QAAQ,UACR2B,KAAK,KACL2C,UAAW4e,GAAiB,EAC5BxjB,QAAS,kBAAMukB,EAAY9mB,GAAUinB,UACrCxjC,KAAM,eAAC,KAAD,CAAQ+gB,KAAK,SACnBtE,MAAM,oBAER,eAAC,GAAD,CACE/Q,OAAQ42B,EACRj3B,WAAYi3B,EAAgB,EAAI,OAItCne,YAAa,CACX1H,MAAOlS,EAAE,WACT2Y,MAAO,CACL,CACE0B,UAAWgc,EACX5gC,KAAM8gC,EACN7tB,OAAQ+uB,KAId5d,WAAY,CACV3H,MAAOlS,EAAE,aACT2Y,MAAO,CACL,CACE0B,UAAWgc,EACX5gC,KAAM8gC,EACN7tB,OAAQgvB,KAId5d,MAAO,CACL,CACET,UAAW,MACXsB,UAAWge,GAEb,CACEtf,UAAW,MACXsB,WAAoB,OAAT8S,QAAS,IAATA,GAAA,UAAAA,EAAYvjB,UAAZ,eAAuByhB,KAAvB,YAEJA,EAAIzlB,MAAM,GAAI,OAAoB,OAAb0yB,QAAa,IAAbA,OAAA,EAAAA,EAAe1yB,MAAM,GAAI,KAAM,IACrDxE,WAHK,KAIP,IACJ6X,YACE,gBAAC,KAAD,CACE0Q,cAAc,SACdvL,MAAOc,aAAkB,UAAW,WAFtC,UAIE,gBAAC,KAAD,CAAMrF,eAAe,gBAArB,UACE,eAAC,KAAD,uBACA,eAAC,KAAD,UAAMwR,OAEPiN,GAAiBC,EAChB,gBAAC,KAAD,CAAM1e,eAAe,gBAArB,UACE,gBAAC,KAAD,WAAM0e,EAAN,UACA,eAAC,KAAD,UAAMD,OAEN,cAOhB,eAAC,GAAD,Q,qBI5RS,SAASa,GACtBjpB,EACAtG,GAEA,IAAQzF,EAAY+E,KAAZ/E,QAER,EAAgDoJ,oBAAoBnL,MAApE,oBAAOg3B,EAAP,KAAyBC,EAAzB,KACMlD,EAAexsB,GAAgBC,GAC7BqD,EAAyBH,cAC/B,SAAClK,GAAD,OAAqBA,EAAMmK,eADrBE,qBAGFE,EAAkBF,EAAqB7P,IACvCgQ,EAAmBH,EAAqB7P,IAgB9C,OAdAsQ,sBAAU,WAAM,8CACd,6BAAAE,EAAA,yDACOzJ,GAAYgyB,EADnB,uBAEIkD,EAAoBj3B,MAFxB,0CAM0B+zB,EAAa/lB,UAAUjM,GANjD,OAMQ6xB,EANR,OAQEqD,EAAoBrD,GAAa5zB,MARnC,4CADc,uBAAC,WAAD,wBAWTk3B,KACJ,CAACn1B,EAASgyB,EAAchpB,EAAiBC,EAAkB8C,IAEvDkpB,ECpBT,IAAMG,GAAgB,CACpBhoB,eAAgBnP,MAGH,SAASo3B,GACtB5vB,GAEA,MAAsCV,KAA9B/E,EAAR,EAAQA,QAASD,EAAjB,EAAiBA,QAASvF,EAA1B,EAA0BA,QAClBsO,EAAyBH,cAC/B,SAAClK,GAAD,OAAqBA,EAAMmK,eADrBE,qBAGFE,EAAkBF,EAAqB7P,IACvCgQ,EAAmBH,EAAqB7P,IAE9C,EAAgCmQ,oBAC9BgsB,IADF,oBAAOE,EAAP,KAAiBC,EAAjB,KAsCA,OAlCAhsB,sBAAU,WAAM,8CACd,+BAAAE,EAAA,yDACiB,MAAX1J,GAA8B,MAAXvF,EADzB,oDAKQqQ,EAAkBjL,GAFXjI,GAAU8N,GAGhBvO,QAAQvG,UAAU6J,GACvBsQ,GACA/K,EAHiC,OAIjCC,QAJiC,IAIjCA,SAAWwB,IAGTxB,GAAWA,GAAWC,MAA0B,MAAXD,EAZ3C,wBAaIuF,QAAQ4F,IAAR,0DAC8CnL,QAD9C,IAC8CA,OAD9C,EAC8CA,EAAS/C,aAd3D,kBAiBiC4N,EAAgBoB,UACzCjM,GAAWC,MAlBnB,OAiBMkM,EAjBN,yDAqBM5G,QAAQ4F,IAAR,MArBN,QAyBEoqB,GAAY,SAAC9gB,GAAD,mBAAC,eACRA,GADO,IAEVrH,eAAgBjB,OA3BpB,2DADc,uBAAC,WAAD,wBA+BTqpB,KACJ,CAACxsB,EAAiBC,EAAkBxD,EAAUzF,EAASD,EAASvF,IAE5D86B,ECxDT,IAwBeG,GAxBF,SAAC,GAAuC,IAArChwB,EAAoC,EAApCA,SACR6vB,EAAWD,GAAY5vB,GAC7B,EAA8B9N,GAAU8N,GAAhCvO,EAAR,EAAQA,QAASY,EAAjB,EAAiBA,SACX+5B,EAAYmD,GAAyB,OACzCM,QADyC,IACzCA,OADyC,EACzCA,EAAUloB,eACV3H,GAEF,OACE,uBAAK9J,UAAWC,KAAO8J,KAAvB,UACE,eAAC,GAAD,CAASmgB,UAAU,SACnB,sBAAKlqB,UAAWC,KAAO85B,UAAvB,SACE,eAAC,GAAD,CACEjwB,SAAUA,EACV3N,SAAUA,EACV85B,YAAa16B,EAAQnG,KACrB+gC,YAAa56B,EAAQlG,KACrB+a,SAAiB,OAARupB,QAAQ,IAARA,OAAA,EAAAA,EAAUloB,iBAAkBnP,KACrC4zB,UAAWA,U,4CCgPrB,SAAS8D,GAAQplB,GACf,IAAQ1Y,EAAwB0Y,EAAxB1Y,OAAW+9B,EAAnB,aAAgCrlB,EAAhC,IACA,OACE,mCACE5U,UAAWmS,KAAWlS,KAAOi6B,IAAR,eAAgBj6B,KAAOxD,KAAOP,KAC/C+9B,IAKKE,OAlPf,SAAuBvlB,GACrB,IACEwlB,EAQExlB,EARFwlB,UACAtwB,EAOE8K,EAPF9K,SACA3N,EAMEyY,EANFzY,SACAF,EAKE2Y,EALF3Y,QACAg6B,EAIErhB,EAJFqhB,YACAE,EAGEvhB,EAHFuhB,YACAj6B,EAEE0Y,EAFF1Y,OACAmxB,EACEzY,EADFyY,UAEMztB,EAAMsS,eAANtS,EACF24B,GAAwB,OAATlL,QAAS,IAATA,OAAA,EAAAA,EAAWW,KAAX,WACbppB,GAAsB7G,KAAUC,KAAKqvB,EAAUW,KAAM,KACzD,IACEqM,GAAwB,OAAThN,QAAS,IAATA,OAAA,EAAAA,EAAW9B,MAAO,IACjCiN,EAAa,OAAGnL,QAAH,IAAGA,OAAH,EAAGA,EAAW6K,WAAW3M,IACtCkN,EAAmB,OAAGpL,QAAH,IAAGA,OAAH,EAAGA,EAAW6K,WAAW/6B,MAC5Cw8B,EAAWD,GAAY5vB,GACvBosB,EAAYmD,GAAyB,OACzCM,QADyC,IACzCA,OADyC,EACzCA,EAAUloB,eACV3H,GAEIwwB,EAAY,QAAQngB,KAAKgc,GAAe,OAAS,OAEvD,OACE,sBAAKn2B,UAAWC,KAAOs6B,cAAvB,SACE,uBAAKv6B,UAAWC,KAAO85B,UAAvB,UACE,uBAAK/5B,UAAWC,KAAO+Z,IAAvB,UACE,uBAAKha,UAAWC,KAAOu6B,SAAvB,UACE,eAAC,KAAD,CAAKhmB,MAAO8lB,EAAWlgB,YAAY,MAAnC,SACE,sBAAK1H,IAAI,OAAOF,IAAK2jB,EAAa3hB,MAAM,WAEzCgkB,GAAiBC,EAChB,eAAC,KAAD,CACErjB,QAAQ,UACRgE,cAAc,EACdrF,MAAK,uGAAkG0kB,EAAlG,KAHP,SAKE,qBAAIz4B,UAAWmS,KAAWlS,KAAO6R,MAAO7R,KAAOoZ,WAA/C,SACGvP,MAIL,qBAAI9J,UAAWC,KAAO6R,MAAtB,SAA8BhI,OAGlC,sBAAK9J,UAAWC,KAAOyZ,MAAvB,SACE,sBAAK1Z,UAAWC,KAAO+Z,IAAvB,SACE,gBAAC,KAAD,CACE3F,QAAQ,OACR0kB,SAAS,SACThf,eAAe,gBACf0gB,SAAS,QAJX,WAMW,OAARd,QAAQ,IAARA,OAAA,EAAAA,EAAUloB,kBAAV,OAA4BkoB,QAA5B,IAA4BA,OAA5B,EAA4BA,EAAUloB,eAAelL,GAAGjE,QACvD,gBAAC,KAAD,WACE,eAAC,KAAD,UACE,uBAAMtC,UAAWC,KAAO8T,MAAxB,uBAEF,eAAC,KAAD,CACExT,SAAS,OACTupB,WAAW,MAFb,mBAGKllB,IACK,OAAR+0B,QAAQ,IAARA,OAAA,EAAAA,EAAUloB,iBAAkBnP,KAC5B,UAIL4zB,GAAaA,EAAU3vB,GAAGjE,OACzB,gBAAC,KAAD,CAAMo4B,GAAI,EAAV,UACE,eAAC,KAAD,UACE,uBAAM16B,UAAWC,KAAO8T,MAAxB,yBAEF,eAAC,KAAD,CACExT,SAAS,OACTupB,WAAW,MAFb,mBAGKllB,GAAsBsxB,EAAW,UAG1C,gBAAC,KAAD,CAAMwE,GAAI,EAAV,UACE,eAAC,KAAD,UACE,uBAAM16B,UAAWC,KAAO8T,MAAxB,mBAEF,eAAC,KAAD,CAAYxT,SAAS,OAAOupB,WAAW,MAAvC,SACGyO,OAGL,gBAAC,KAAD,CAAMmC,GAAI,EAAV,UACE,eAAC,KAAD,UACGlC,GAAiBC,EAChB,eAAC,KAAD,CACErjB,QAAQ,UACRgE,cAAc,EACdrF,MACE,gBAAC,KAAD,CACEM,QAAQ,OACR0kB,SAAS,SACThf,eAAe,gBACf0gB,SAAS,QAJX,UAME,gBAAC,KAAD,CAAMC,GAAI,EAAV,UACE,eAAC,KAAD,CAAWC,WAAW,SAAtB,SACE,uBAAM36B,UAAWC,KAAO8T,MAAxB,wBAEF,eAAC,KAAD,CAAYxT,SAAS,OAAOupB,WAAW,MAAvC,SACGuQ,OAGL,gBAAC,KAAD,CAAMK,GAAI,EAAV,UACE,eAAC,KAAD,CAAWC,WAAW,SAAtB,SACE,wBAAM36B,UAAWC,KAAO8T,MAAxB,UACG0kB,EADH,YAIF,eAAC,KAAD,CAAYl4B,SAAS,OAAOupB,WAAW,MAAvC,SACG0O,UAzBX,SA+BE,uBACEx4B,UAAWmS,KAAWlS,KAAO8T,MAAO9T,KAAOoZ,WAD7C,mBAOF,uBAAMrZ,UAAWC,KAAO8T,MAAxB,mBAGJ,eAAC,KAAD,CAAYxT,SAAS,OAAOupB,WAAW,MAAvC,UACY,OAATuD,QAAS,IAATA,OAAA,EAAAA,EAAW9B,KAAX,YAEM8O,EAAav0B,MAAM,GAAI,OACT,OAAb0yB,QAAa,IAAbA,OAAA,EAAAA,EAAe1yB,MAAM,GAAI,KAAM,IACjCxE,WAJL,KAKG,mBAOhB,gBAAC,KAAD,CACEyzB,GAAG,OACHiC,GAAG,MACHrW,QAAQ,OACR5G,eAAgB,CAAE2P,KAAM,SAAUkR,GAAI,SAJxC,UAME,gBAAC,KAAD,CACEtc,MAAM,sBACN/d,SAAU,CAAEmpB,KAAM,OAAQkR,GAAI,QAFhC,UAIGnC,EAAsB,eAAiB,UAJ1C,OAMA,eAAC,KAAD,CACEriB,KAAK,KACLie,aAAa,OACb5f,QAAQ,UACR6J,MAAM,cACN/I,UAAU,4BACVkL,EAAE,MANJ,SAQE,gBAAC,KAAD,CAAMnM,WAAW,SAAjB,UACE,eAAC,KAAD,CAAKE,MAAM,OAAOykB,GAAG,MAAMyB,GAAG,MAA9B,SACE,sBAAKhoB,IAAI,OAAOF,IAAKwmB,GAAUxkB,MAAM,WAEvC,uBAAMX,MAAO,CAAEtT,SAAU,OAAQ6Z,YAAa,OAA9C,uBAGHqe,EACC,eAAC,KAAD,CACEriB,KAAK,KACLie,aAAa,OACb5f,QAAQ,UACR6J,MAAM,cACN/I,UAAU,4BACVkL,EAAE,MANJ,SAQE,gBAAC,KAAD,CAAMnM,WAAW,SAAS2kB,GAAG,KAA7B,UACE,eAAC,KAAD,CAAKzkB,MAAM,OAAOykB,GAAG,MAAMyB,GAAG,MAA9B,SACE,sBAAKhoB,IAAI,OAAOF,IAAK0mB,GAAe1kB,MAAM,WAE5C,uBAAMX,MAAO,CAAEtT,SAAU,OAAQ6Z,YAAa,OAA9C,SACGqe,SAIL,QAEN,uBAAKz4B,UAAWC,KAAO46B,gBAAvB,UACE,6BACG3+B,EACC,gBAACsvB,GAAA,EAAD,CAAO5rB,EAAGA,EAAG6rB,QAAQ,kBAArB,UACG,CAAExR,UAAWgc,GACd,oBACE71B,KAAMnE,EACN+D,UAAWmS,KAAWlS,KAAOi6B,IAAR,eAAgBj6B,KAAOxD,KAAOP,IAFrD,SAIE,eAAC89B,GAAD,CAAS99B,QAAQ,EAAjB,SAAwB,CAAEC,SAAUA,UAIxC,gBAACqvB,GAAA,EAAD,CAAO5rB,EAAGA,EAAG6rB,QAAQ,kBAArB,UACG,CAAExR,UAAWgc,GACd,qBACE71B,KAAMnE,EACNoE,OAAO,SACPC,IAAI,aACJN,UAAWmS,KAAWlS,KAAOi6B,IAAR,eAAgBj6B,KAAOxD,KAAOP,IAJrD,UAMG,CAAEC,SAAUA,GACb,+BAAM,CAAE+6B,iBAAkB,oBAKlC,sBAAKl3B,UAAWC,KAAO66B,WAAvB,SACE,eAAC,KAAD,CAAM/lB,GAAE,gBAAWqlB,GAAnB,SACE,eAAC,KAAD,CAAQ3lB,QAAQ,UAAUsE,UAAU,EAAOvE,MAAM,QAAjD,SACG5U,EAAE,uB,qBChOJm7B,ICicVC,GDjcUD,GA5Bf,WACE,IAAQ1N,EAAcrgB,cAAY,SAAClK,GAAD,OAAqBA,EAAMmK,eAArDogB,UACR,OACE,uBAAKrtB,UAAWC,KAAOg7B,MAAvB,UACE,eAAC,GAAD,CAAS/Q,UAAU,UACnB,sBAAKlqB,UAAWC,KAAO85B,UAAvB,SACGn9B,OAAOsL,OAAOlM,IACZ6pB,MAAK,SAAC/X,GAAO,IAAD,EACX,OAAgB,OAATuf,QAAS,IAATA,GAAA,UAAAA,EAAYvf,EAAE1Y,aAAd,eAAqB8iC,WAAW/6B,QAAS,EAAI,KAErDoR,KAAI,SAACxE,GAAD,OACH,eAAC,GAAD,CAEEsjB,UAAS,OAAEA,QAAF,IAAEA,OAAF,EAAEA,EAAYtjB,EAAK3U,MAC5B0U,SAAUC,EAAK3U,KACfglC,UAAWrwB,EAAKpO,MAChBQ,SAAU4N,EAAK5N,SACfF,QAAS8N,EAAK9N,QACdg6B,YAAalsB,EAAKxO,QAAQnG,KAC1B+gC,YAAapsB,EAAKxO,QAAQlG,KAC1B6G,OAAQ6N,EAAK7N,QARR6N,EAAK3U,eC4DlB8lC,GAAsB,CAC1B,eACA,eACA,gB,SAwOaC,G,2FAAf,WACEC,EACAC,EACAh3B,EACAxF,EACAy8B,GALF,oBAAAxtB,EAAA,6DAQQytB,EAAeL,GAAoB3sB,KAAI,SAACitB,GAC5C,OAAOJ,EAAeK,QAAQD,GAAOn3B,EAAS,KAAM,KAAM,KAAM,KAAM,SAT1E,SAaiBgM,QAAQJ,IACrBsrB,EAAahtB,KAAI,SAACxG,GAAD,OACfqzB,EAAeM,YAAY3zB,EAAQuzB,EAAY,cAfrD,cAkBEK,GALAA,EAbF,QAkBkBC,OAlBlB,SAqBkCvrB,QAAQJ,IACtC0rB,EAAOptB,KAAI,SAAC6W,GAAD,OAAWyW,GAAqBT,EAAgBhW,EAAOvmB,OAtBtE,UAyBqC,KADnCi9B,GAHIA,EArBN,QAwB4C/zB,OAAO+D,UACzB7G,OAzB1B,mDA4BEo2B,GAAS,SAACviB,GACR,OAAO,2BACFA,GADL,IAEEijB,aAAcD,OA/BpB,6C,+BAmCeE,G,2FAAf,WACEZ,EACAC,EACAh3B,EACAxF,EACAy8B,GALF,oBAAAxtB,EAAA,6DAQQmuB,EAAcb,EAAeK,QAAf,SAClBp3B,EACA,KACA,KACA,KACA,MAbJ,SAiBuB+2B,EAAeM,YAClCO,EACAX,EACA,UApBJ,cAiBQK,EAjBR,gBAuB0BtrB,QAAQJ,IAC9B0rB,EAAOptB,KAAI,SAAC6W,GAAD,OAAW8W,GAAuB9W,EAAOvmB,OAxBxD,UA4B2B,KALnBs9B,EAvBR,QA4BgBl3B,OA5BhB,iDA6BEo2B,GAAS,SAACviB,GACR,IAAM2W,EAAQ,eAAQ3W,GAQtB,OAPAqjB,EAAUj/B,SAAQ,SAACu5B,GACjB,GAAgB,MAAZA,EAAJ,CACA,IAAM2F,EAAoB3M,EAAS0M,UAAU1F,EAAS4F,QACtD5M,EAAS0M,UAAU1F,EAAS4F,SAAWD,GAAqB,IAAI/+B,OAC9Do5B,OAGGhH,KAtCX,6C,+BAyCe6M,G,2FAAf,WACElB,EACAC,EACAh3B,EACAxF,EACAy8B,GALF,oBAAAxtB,EAAA,6DAQQmuB,EAAcb,EAAeK,QAAf,OAClBp3B,EACA,KACA,KACA,KACA,KACA,KACA,MAfJ,SAmBuB+2B,EAAeM,YAClCO,EACAX,EACA,UAtBJ,cAmBQK,EAnBR,gBAyB4BtrB,QAAQJ,IAChC0rB,EAAOptB,KAAI,SAAC6W,GAAD,OAAWmX,GAAyBnX,EAAOvmB,OA1B1D,UA8B6B,KALrB29B,EAzBR,QA8BkBv3B,OA9BlB,iDA+BEo2B,GAAS,SAACviB,GACR,IAAM2W,EAAQ,eAAQ3W,GAQtB,OAPA0jB,EAAYt/B,SAAQ,SAACu/B,GACnB,GAAkB,MAAdA,EAAJ,CACA,IAAMC,EAAsBjN,EAAS+M,YAAYC,EAAWJ,QAC5D5M,EAAS+M,YAAYC,EAAWJ,SAC9BK,GAAuB,IACvBr/B,OAAOo/B,OAEJhN,KAxCX,6C,+BA4Ce8M,G,qFAAf,WACEnX,EACAvmB,GAFF,oBAAAiP,EAAA,yDAMoB,OADZ2uB,EAAcrX,EAAMuX,MAL5B,yCAMiC,MANjC,UAOQC,EAAY30B,GAAkBw0B,EAAWI,WAAYh+B,GACrDi+B,EAAU70B,GAAkBw0B,EAAWM,SAAUl+B,GACtC,MAAb+9B,GAAgC,MAAXE,EAT3B,yCASmD,MATnD,gCAUS1X,EACJ4X,WACA7uB,MAAK,YAAoB,IAAjB0V,EAAgB,EAAhBA,UACP,MAAO,CACLoZ,WAAYR,EAAWS,iBACvBN,YACAP,OAAQI,EAAWJ,OAAO/6B,WAC1BuiB,YACAsZ,SAAUV,EAAWW,eACrBN,UACAhR,gBAAiB1G,EAAM0G,gBACvBrwB,KAAM,iBAGTqqB,OAAM,kBAAM,SAxBjB,4C,+BA2BeoW,G,qFAAf,WACE9W,EACAvmB,GAFF,kBAAAiP,EAAA,yDAKkB,OADV2oB,EAAYrR,EAAMuX,MAJ1B,yCAK+B,MAL/B,UAOoB,OADZU,EAAap1B,GAAkBwuB,EAAS6G,MAAOz+B,IANvD,yCAOiC,MAPjC,gCAQSumB,EACJ4X,WACA7uB,MAAK,YAAoB,IAAjB0V,EAAgB,EAAhBA,UACP,MAAO,CACLvb,OAAQmuB,EAAS8G,YACjBlB,OAAQ5F,EAAS4F,OAAO/6B,WACxB+7B,aACAxZ,YACAiI,gBAAiB1G,EAAM0G,gBACvBrwB,KAAM,eAGTqqB,OAAM,kBAAM,SApBjB,4C,+BA6Be+V,G,uFAAf,WACET,EACAhW,EACAvmB,GAHF,wCAAAiP,EAAA,yDAKMkX,EAAS,KALf,SAWuB,OADbwY,EAAepY,EAAMuX,MAV/B,yCAWoC,MAXpC,cAYUN,EAASmB,EAAYnB,OAAO/6B,WAZtC,SAagD+O,QAAQJ,IAAI,CACtDmrB,EAAeqC,mBAAmBpB,GAClCjX,EAAM4X,aAfZ,oCAaWU,EAbX,KAa4BC,EAb5B,KAiBUC,EAAkBF,EAAgBlgC,SAGtCA,EADEogC,IAAoB5C,GAAuB6C,aAClCthC,GAAWoB,eACbigC,IAAoB5C,GAAuB8C,aACzCvhC,GAAWmB,eACbkgC,IAAoB5C,GAAuB+C,aACzCxhC,GAAWqB,eAEXrB,GAAWuB,QAElBkgC,EAAiB/1B,GACrBy1B,EAAgBJ,MAChBz+B,GAEIo/B,EAAUh2B,GAAkBy1B,EAAgBO,QAASp/B,GACrDq/B,EAEJ,KADCP,EAAW9Z,UAAY9wB,SAAS2qC,EAAgBS,SAAS78B,aAExD88B,EAAmBj5B,KAAKk5B,MACzBH,EAAwBna,KAAKc,OAAS,KAEzCuZ,EAAmBj5B,KAAK0V,IAAIujB,EAAkB,GAC9CpZ,EAAS,CACPxnB,WACA0gC,wBACAE,mBACAE,aAAcZ,EAAgBY,aAC9BjC,SACA2B,eAAgBA,EAChBC,QAASA,EACTnS,gBAAiB1G,EAAM0G,gBACvBjI,UAAW8Z,EAAW9Z,WAjD5B,mFAsDSmB,GAtDT,2D,sBAyDA,SAASuZ,GAAoBz7B,EAAcu5B,GACzC,MAAO,CACLG,YAAagC,gBAAK17B,EAAM05B,YAAaH,GACrCF,UAAWqC,gBAAK17B,EAAMq5B,UAAWE,GACjCN,aAAcj5B,EAAMi5B,aAAah0B,QAAO,gBAAGs0B,EAAH,EAAGA,OAAH,OAAgBA,IAAWA,O,SAnElErB,O,eAAAA,I,+BAAAA,I,+BAAAA,I,gCAAAA,Q,KAuEUyD,OApdY,WACzB,MAAsCr1B,KAA9B/E,EAAR,EAAQA,QAASxF,EAAjB,EAAiBA,QAASuF,EAA1B,EAA0BA,QACpBg3B,EAAiB5wB,KACvB,EAA0BiD,oBAAgB,CACxCsuB,aAAc,GACdS,YAAa,GACbL,UAAW,KAHb,oBAAOr5B,EAAP,KAAcu4B,EAAd,KAKMqD,EACJ7/B,IAAYzL,GAAQyC,QAChB,GACC,EAAIsP,KAAK2J,MAAO,mBAGvBlB,sBAAU,WACR,IAAM+nB,EAAQpP,aAAY,WACxB,OAAKniB,QAAL,IAAKA,KAAS44B,SAAS,UAAU7uB,MAAK,YAAoB,IAAjB0V,EAAgB,EAAhBA,UAEvCwX,GAAS,SAACviB,GAIR,OAH0BA,EAAUijB,aAAalwB,MAC/C,qBAAGuyB,iBAA0C,KAGxC,2BACFtlB,GADL,IAEEijB,aAAcjjB,EAAUijB,aAAaxtB,KAAI,SAAC8W,GACxC,IAAI+Y,EAAmBj5B,KAAKC,MAC1BigB,EAAK6Y,sBAAwB,IAAOra,GAGtC,OADAua,EAAmBj5B,KAAK0V,IAAIujB,EAAkB,GACvC,2BAAK/Y,GAAZ,IAAkB+Y,0BARStlB,UAalC,MACH,OAAO,WACL0N,cAAcmP,MAEf,CAACvxB,IACJ,IAAMu6B,EAA2Brf,wBAC/B,WAAsB,IAAD,IACb8F,GAAK,EAAgB,UAAangB,OAAS,GAAtC,2CACL25B,EAAS,UAAGxZ,EAAMuX,YAAT,aAAG,EAAYN,OAC9B,GAAiB,MAAbuC,GAAuC,MAAlBxD,GAAqC,MAAXv8B,EAAnD,CACA,IAAMw9B,EAASuC,EAAUt9B,WACpBu6B,GAAqBT,EAAgBhW,EAAOvmB,GAASsP,MACxD,SAAC0wB,GAC2B,MAAtBA,GACJxD,GAAS,SAACviB,GACR,OAAO,2BACFA,GADL,IAEEijB,aAAa,GAAD,mBACPjjB,EAAUijB,aAAah0B,QACxB,gBAAW+2B,EAAX,EAAGzC,OAAH,OAAgCA,IAAWyC,MAFnC,CAIVD,eAOZ,CAACzD,EAAgBv8B,EAASw8B,IAEtB0D,EAAsBzf,wBAC1B,WAAsB,IAAD,EACb8F,GAAK,EAAgB,UAAangB,OAAS,GAAtC,2CACI,MAAXpG,GACC09B,GAAyBnX,EAAOvmB,GAASsP,MAAK,SAACsuB,GAChC,MAAdA,GACJpB,GAAS,SAACviB,GACR,IAAM0kB,EAAc1kB,EAAUijB,aAAa5zB,MACzC,qBAAGk0B,SAAwBI,EAAWJ,UAElC2C,EAAwBxB,EAC1BA,EAAYc,aAAajnB,IAAIolB,EAAWQ,YACxC36B,KACE28B,EAAkBnmB,EAAU0jB,YAAYC,EAAWJ,SAAW,GAC9D6C,EAAU,IAAI7iC,IAClB4iC,EAAgB1wB,KAAI,qBAAGud,oBAEzB,OAAIkT,EAAsBpnB,IAAItV,MAErBi8B,GAAoBzlB,EAAW2jB,EAAWJ,QACvC6C,EAAQ5iC,IAAImgC,EAAW3Q,iBAS1BhT,EARA,2BACFA,GADL,IAEE0jB,YAAY,2BACP1jB,EAAU0jB,aADJ,kBAERC,EAAWJ,OAAS4C,EAAgB5hC,OAAOo/B,eASxD,CAAC59B,EAASw8B,IAEN8D,EAAwB7f,wBAC5B,WAAsB,IAAD,EACb8F,GAAK,EAAgB,UAAangB,OAAS,GAAtC,2CACI,MAAXpG,GACCq9B,GAAuB9W,EAAOvmB,GAASsP,MAAK,SAACsoB,GAChC,MAAZA,GACJ4E,GAAS,SAACviB,GACR,IAAM0kB,EAAc1kB,EAAUijB,aAAa5zB,MACzC,qBAAGk0B,SAAwB5F,EAAS4F,UAEhC2C,EAAwBxB,EAC1BA,EAAYc,aAAajnB,IAAIof,EAASnuB,QACtChG,KACE88B,EAAgBtmB,EAAUqjB,UAAU1F,EAAS4F,SAAW,GACxD6C,EAAU,IAAI7iC,IAClB+iC,EAAc7wB,KAAI,qBAAGud,oBAEvB,OAAIkT,EAAsBpnB,IAAItV,MAErBi8B,GAAoBzlB,EAAW2d,EAAS4F,QACrC6C,EAAQ5iC,IAAIm6B,EAAS3K,iBASxBhT,EARA,2BACFA,GADL,IAEEqjB,UAAU,2BACLrjB,EAAUqjB,WADN,kBAEN1F,EAAS4F,OAAS+C,EAAc/hC,OAAOo5B,eASpD,CAAC53B,EAASw8B,IAgFZ,OA7EAztB,sBAAU,YACR,WACE,GAAsB,MAAlBwtB,GAAqC,MAAX/2B,EAA9B,CACA,IAAMg7B,EAA0BnE,GAAoB3sB,KAAI,SAACitB,GAAD,OACtDJ,EAAeK,QAAQD,GAAOn3B,EAAS,KAAM,KAAM,KAAM,KAAM,SAE3Di7B,EAAelE,EAAeK,QAAf,OACnBp3B,EACA,KACA,KACA,KACA,KACA,KACA,MAEIk7B,EAAiBnE,EAAeK,QAAf,SACrBp3B,EACA,KACA,KACA,KACA,MAGFg7B,EAAwBniC,SAAQ,SAAC6K,GAC1BqzB,EAAe37B,GAAGsI,EAAQ42B,MAEjCvD,EAAe37B,GAAG6/B,EAAcP,GAChC3D,EAAe37B,GAAG8/B,EAAgBJ,IAS/BK,KACJ,CACDpE,EACA/2B,EACA06B,EACAI,EACAR,IAGF/wB,sBAAU,WAAM,8CACd,uBAAAE,EAAA,yDACkCzJ,GAAY+2B,GAAmBv8B,EADjE,iEAIQwR,QAAQJ,IAAI,CAChBkrB,GACEC,EACAC,EACAh3B,EACAxF,EACA6/B,GAEF1C,GACEZ,EACAC,EACAh3B,EACAxF,EACA6/B,GAEFpC,GACElB,EACAC,EACAh3B,EACAxF,EACA6/B,KAxBN,4CADc,uBAAC,WAAD,wBA6BTe,KACJ,CAACrE,EAAgBC,EAAUh3B,EAASxF,EAAS6/B,IAEzC57B,EAAMi5B,aAAaxtB,KAAI,SAAC8W,GAE7B,OAAO,2BACFA,GADL,IAEEsW,OAAQ,sBACF74B,EAAM05B,YAAYnX,EAAKgX,SAAW,IADhC,YAEFv5B,EAAMq5B,UAAU9W,EAAKgX,SAAW,KACpCxW,MAAK,SAAC/X,EAAGU,GAAJ,OAAUV,EAAE+V,UAAYrV,EAAEqV,mBCnT1B6b,GAAsBpQ,KAAMqQ,cAA6B,IAEvD,SAASC,GAAT,GAEqC,IADlD3tB,EACiD,EADjDA,SAEM8pB,EAAe0C,KAErB,OACE,eAACiB,GAAoBrwB,SAArB,CAA8BtO,MAAOg7B,EAArC,SACG9pB,I,uBCYQ,SAAS4tB,GAAT,GAKiB,IAJ9BnyB,EAI6B,EAJ7BA,SACAoyB,EAG6B,EAH7BA,UACA3Q,EAE6B,EAF7BA,cACA4Q,EAC6B,EAD7BA,eAEQngC,EAAMsS,eAANtS,EACR,EAAuCtE,GAAUoS,EAAStY,MAA5C4qC,EAAd,EAAQvkC,KAAgBG,EAAxB,EAAwBA,WAClBqkC,EAAoBD,IAAa3sC,GAAUqI,IAAM,EAAI,EACrDwkC,IAAkBH,EAClBzjB,EAAgB,CACpBlnB,KAAMsY,EAAStY,KACfgX,QAASsB,EAAStB,QACdxH,GAAsB8I,EAAStB,QAAS,IACxC,IACJO,KAAM/P,OAAOC,KAAK6Q,EAASf,MAAM7P,QAAO,SAACC,EAAK0rB,GAAS,IAAD,EAC9C8C,EAAG,UAAG7d,EAASf,KAAK8b,UAAjB,aAAG,EAAgC8C,IAC5C,OAAOA,EAAG,2BAEDxuB,GAFC,kBAGH0rB,EAAM1iB,GAAwBwlB,EAAK,MAEtCxuB,IACH,IACHoP,IAAKuB,EAASvB,IAAT,UAAkBpG,GAAwB2H,EAASvB,IAAK,GAAI,IAAO,IACxEO,OAAQgB,EAAShB,OAAT,WACA9H,GAAsB8I,EAAShB,OAAQ,KAC3C,IACJyzB,eAAgBv7B,IACD,OAAbuqB,QAAa,IAAbA,OAAA,EAAAA,EAAe3d,aAAclP,KAC7B,IAEFgK,OAAQoB,EAASpB,OAAOiC,KAAI,SAAC6c,GAC3B,IAAMjuB,EAAQR,GAAWyuB,EAAKl2B,QAC9B,MAAO,CACLA,OAAQiI,EAAMjI,OACdE,KAAM+H,EAAM/H,KACZC,KAAM8H,EAAM9H,KACZ0L,MAAOwE,GAAiB6lB,EAAKrqB,MAAO5D,EAAMlI,SAAUgrC,QAIpDG,KAAY,OAACjR,QAAD,IAACA,OAAD,EAACA,EAAe3d,WAAWjL,GAAG,MAC1C85B,EAAajkC,GAAWkgB,EAAclnB,MAE5C,OACE,sBAAK4K,UAAU,cAAf,SACE,uBACEA,UAAWmS,KAAW,eAAgB,CACpCmuB,SAAU1kC,GAAcskC,IAF5B,UAKE,uBAAKlgC,UAAU,OAAf,UACE,uBAAKA,UAAU,cAAf,UACGqgC,EACC,eAAC,KAAD,CAASjrB,QAAQ,UAAUrB,MAAOnU,EAAE,YAAa2gC,OAAQ,GAAzD,SACE,sBAAK1sB,MAAO,CAAEQ,QAAS,gBAAvB,SACE,qBAAIrU,UAAU,kBAAd,SAAiCsc,EAAclnB,WAInD,qBAAI4K,UAAU,QAAd,SAAuBsc,EAAclnB,QAErC8qC,GAAiBtkC,IACjB,eAAC4kC,GAAD,CAAKrqB,KAAK,UAAV,sBAEDzI,EAASb,UAAY,eAAC2zB,GAAD,CAAKrqB,KAAK,QAAV,uBAExB,sBAAKnW,UAAU,SAAf,SACGsc,EAAchQ,OAAOiC,KAAI,gBAAGrZ,EAAH,EAAGA,OAAQG,EAAX,EAAWA,KAAX,OACxB,uBAAK2K,UAAU,QAAf,UACE,sBAAK0S,IAAI,OAAOF,IAAKnd,IACrB,gCAAOH,MAFmBA,WAQlC,uBAAK8K,UAAU,QAAf,UACE,uBAAKA,UAAU,WAAf,UAOGpD,OAAOC,KAAK6Q,EAASf,MAAM4B,KAAI,SAACka,GAAS,IAAD,IACjCvzB,EAAM,UAAGwY,EAASf,KAAK8b,UAAjB,aAAG,EAAgCvzB,OAC/C,OAAO,UAAAwY,EAASf,KAAK8b,UAAd,eAAgC8C,IAAIhlB,GAAGjE,OAC5C,uBAAKtC,UAAU,aAAf,UACG9K,EAAOurC,SAAS,KACf,uBAAMzgC,UAAU,kBAAhB,SACE,eAAC,GAAD,CAASsT,QAASpe,EAAOwrC,WAAW,IAAK,MAAzC,0BAKF,wBAAM1gC,UAAU,QAAhB,UAAyB9K,EAAzB,UAEF,uBAAM8K,UAAU,OAAhB,SACGsc,EAAc3P,KAAK8b,OAXSvzB,GAc/B,QAELkrC,GACC,uBAAKpgC,UAAU,SAAf,UACE,uBAAMA,UAAU,QAAhB,qBACA,2CAAWsc,EAAc6jB,qBAG7B,uBAAKngC,UAAU,SAAf,UACE,uBAAMA,UAAU,QAAhB,iBACA,2CAAWsc,EAAclQ,cAE1BkQ,EAAc5P,QACb,iCACE,uBAAM1M,UAAU,QAAhB,mBAA4BJ,EAAE,iBAC9B,gCAAO0c,EAAc5P,eAI3B,uBAAK1M,UAAU,UAAf,UACE,eAAC,KAAD,CAAM+U,GAAE,UAAK+qB,EAAL,aAAR,SACE,eAAC,KAAD,CAAQrrB,QAAQ,UAAhB,SAA2B7U,EAAE,uBAE9BsgC,EACC,eAAC,KAAD,CACEzrB,QAAQ,YACRN,QAAS4rB,EACThnB,UAAWqnB,EAHb,SAKGxgC,EAAE,aAGL,eAAC,KAAD,CAAMmV,GAAE,UAAK+qB,EAAL,YAAR,SACE,eAAC,KAAD,CACErrB,QAAQ,UACR+J,QAAQ,OACRhK,MAAM,QACN4B,KAAK,KACL2C,UAAkB,OAARrL,QAAQ,IAARA,OAAA,EAAAA,EAAUb,WAAYjR,EALlC,SAOGgE,EAAE,+BAWrB,SAAS4gC,GAAI5rB,GAIX,MAA0CA,EAAlCuB,YAAR,MAAe,UAAf,EAA6B8jB,EAA7B,aAA0CrlB,EAA1C,IACA,OAAO,mCAAM5U,UAAWmS,KAAW,MAAOgE,IAAW8jB,I,yBC/CxC0G,OArHf,WACE,MAA4C7zB,GAC1C/Y,IADF,oBAAO6sC,EAAP,KAAsBC,EAAtB,KAGA,EAAwD/zB,GACtD1Y,IADF,oBAAO0sC,EAAP,KAA4BC,EAA5B,KAGA,EAAsDj0B,GACpDzY,IADF,oBAAO2sC,EAAP,KAAyBC,EAAzB,KAGA,EAAoDn0B,GAClDvY,IADF,oBAAO2sC,EAAP,KAAwBC,EAAxB,KAGA,EAAsDr0B,GACpDtY,IADF,oBAAO4sC,EAAP,KAAyBC,EAAzB,KAMA,EAAiB5zB,oBAAyC,OAAnD1F,EAAP,qBAEA,SAASu5B,EAAgBnlC,GACvB,OAAQA,GACN,KAAK/H,GACH,MAAO,CACLgB,KAAM+G,EACNuR,SAAUozB,EACV3R,cAAe4R,EACfjB,UAAU,SAAD,OAAWxkC,GAAUa,GAAUR,QAS5C,KAAKtH,GACH,MAAO,CACLe,KAAM+G,EACNuR,SAAUszB,EACV7R,cAAe8R,EACfnB,UAAU,SAAD,OAAWxkC,GAAUa,GAAUR,QAE5C,KAAKpH,GACH,MAAO,CACLa,KAAM+G,EACNuR,SAAUwzB,EACV/R,cAAegS,EACfrB,UAAU,SAAD,OAAWxkC,GAAUa,GAAUR,QAE5C,KAAKnH,GACH,MAAO,CACLY,KAAM+G,EACNuR,SAAU0zB,EACVjS,cAAekS,EACfvB,UAAU,SAAD,OAAWxkC,GAAUa,GAAUR,QAE5C,QACE,MAAO,CACLvG,KAAM+G,EACNuR,SAAUkzB,EACVzR,cAAe0R,EACff,UAAU,SAAD,OAAWxkC,GAAUa,GAAUR,SAIhD,OACE,uBAAKqE,UAAWC,KAAOshC,UAAvB,UACE,eAAC,GAAD,CAASrX,UAAU,UACnB,sBAAKlqB,UAAWC,KAAOqT,QAAvB,SACG1W,OAAOsL,OAAO5M,IAEZyM,QAAO,qBAAG3S,OAAoBhB,MAC9B2T,QACC,gBAAGtM,EAAH,EAAGA,KAAM+lC,EAAT,EAASA,UAAW5lC,EAApB,EAAoBA,WAApB,MACa,QAAXmM,GACAtM,IAASsM,GACG,aAAXA,IAA0By5B,GAAa5lC,MAE3C2S,KACC,gBAAGnZ,EAAH,EAAGA,KAAMosC,EAAT,EAASA,UAAW5lC,EAApB,EAAoBA,WAApB,MACE,CAAC0lC,EAAgBlsC,GAAOosC,EAAW5lC,MAEtCiqB,MACC,cAAiE,IAAD,IAS5D,IAMK,IAfuD,oBAA9D/X,EAA8D,KAA3D2zB,EAA2D,KAA/CC,EAA+C,yBAAhClzB,EAAgC,KAA7BmzB,EAA6B,KAAjBC,EAAiB,KAI9D,OAAIH,GAAcE,GAAcD,GAAeE,EACtCH,GAAcC,EAAc,GAAK,IAEvC,UAAA5zB,EAAEqhB,qBAAF,eAAiB3d,aAAclP,MAAMiE,GAAGjE,SACxC,UAAAkM,EAAE2gB,qBAAF,eAAiB3d,aAAclP,MAAMiE,GAAGjE,QAEjC,UAAAwL,EAAEqhB,qBAAF,eAAiB3d,aAAclP,MAAMiE,IAC3C,UAAAiI,EAAE2gB,qBAAF,eAAiB3d,aAAclP,OAE5B,EACD,IAEI,UAAAwL,EAAEJ,gBAAF,eAAYtB,UAAW9J,MAAMiE,IACnC,UAAAiI,EAAEd,gBAAF,eAAYtB,UAAW9J,OAEpB,EACD,KAITiM,KAAI,gBAAEszB,EAAF,4BACH,eAAC,GAAD,eAAuCA,GAApBA,EAAUzsC,e,oBC+O1B0sC,OAlUf,SAAmBltB,GACjB,IAAQhV,EAAMsS,eAANtS,EAENwQ,EAOEwE,EAPFxE,QACA2xB,EAMEntB,EANFmtB,OACAC,EAKEptB,EALFotB,cACAC,EAIErtB,EAJFqtB,gBACAC,EAGEttB,EAHFstB,SACAC,EAEEvtB,EAFFutB,aACAC,EACExtB,EADFwtB,eAGMvgC,EAAiBmL,cAAY,SAAClK,GAAD,OAAqBA,EAAM4Q,QAAxD7R,aACAge,EAAe7S,cAAY,SAAClK,GAAD,OAAqBA,EAAMmK,eAAtD4S,WACR,iBACKA,GADGwiB,EAAR,EAAQA,WAAYrU,EAApB,EAAoBA,IAAKsU,EAAzB,EAAyBA,gBAAiBviB,EAA1C,EAA0CA,YAAawL,EAAvD,EAAuDA,IAIvD,EAGI9d,oBAAyC,MAH7C,oBACEod,EADF,KAEEC,EAFF,KAQA,EAA+CuK,GAH1BjrB,KACEE,MAEvB,oBAAOirB,EAAP,KAAiBE,EAAjB,KAA0B8M,EAA1B,KAyBM1L,EAAiB,SAACvuB,GAEtB,OAAKA,EADgB,0BAIH6R,KAAK7R,GAGnBxH,aAAWwH,EAAQ,IAAIsP,IAAItV,MACtB1C,EAAE,4BAEJ,KALEA,EAAE,mBAHFA,EAAE,4BAWP84B,EAAc,SAClBC,EACAC,EACA7N,GAEA,OAAQ4N,GACN,KAAK/mB,GAAUG,QACb+Y,EAAgB,CAAErvB,KAAMmW,GAAUG,UAClC,MACF,KAAKH,GAAUW,QACbuY,EAAgB,CACdrvB,KAAMmW,GAAUW,QAChBT,MAAOlS,EAAE,gBACToS,YAAapS,EAAE,cAAe,CAAEmsB,GAAI6M,MAEtC,MACF,KAAKhnB,GAAUS,OACbyY,EAAgB,CACdrvB,KAAMmW,GAAUS,OAChBP,MAAOlS,EAAE,eACToS,YAAc+Y,OAEVllB,EADAjG,EAAE,oBAAqB,CAAEmsB,GAAI6M,IAEjC3mB,SAAU8Y,EACR,gBAACS,GAAA,EAAD,CAAOC,QAAQ,WAAW7rB,EAAGA,EAA7B,UACG,CAAEmsB,GAAI6M,GACP,oBACEx4B,KAAM1B,GAAiBqsB,EAAS,MAChC1qB,OAAO,SACPC,IAAI,aACJuT,MAAO,CAAE6X,eAAgB,YAAa9J,OAAQ,GAJhD,4BASA,SAwBZ,OACE,uBAAK5hB,UAAWC,KAAOuiC,UAAvB,UACE,uBAAKxiC,UAAWC,KAAOwiC,UAAvB,UACE,eAAC,GAAD,CACE3sB,SAAU+U,EACV9U,QAAS,kBAAY+U,EAAgB,OAFvC,SAIE,eAAC,GAAD,eAAwBD,MAE1B,gBAAC,KAAD,CACEkM,UAAQ,EACRtiB,QAAQ,UACRW,QACEvT,EAAe,wBAA0B,2BAE3CwyB,aAAa,OACb5b,OAAO,OAPT,UASE,gBAAC,KAAD,CAASue,GAAG,MAAZ,UACE,eAAC,KAAD,oBAASp3B,EAAE,SAAX,WACA,eAAC,KAAD,oBAASA,EAAE,WAAX,gBAEF,gBAAC,KAAD,WACE,gBAAC,KAAD,WACE,sBAAKI,UAAWC,KAAOyiC,aAAvB,SACE,uBAAK1iC,UAAWC,KAAO+Z,IAAvB,UACE,qBAAIha,UAAWC,KAAO0iC,WAAtB,mBAAsC/iC,EAAE,SAAxC,WACA,sBACEI,UAAWmS,KACTlS,KAAO2iC,KADY,eAEhB3iC,KAAO4iC,SAAWhhC,GAFF,eAGhB5B,KAAO6iC,WAAajhC,IAJ3B,SAOE,oDACcwgC,IAAeA,GAAY15B,QAAQ,GAAK,IAAK,IAD3D,iBAON,eAAC,GAAD,CACEyqB,UAAW,QACXj2B,MAAO,OACPk2B,UAAW2O,EACXzO,kBACEgC,EACI31B,EAAE,SACFA,EAAE,aAAc,CAAEmD,OAAQnD,EAAE,WAElC0zB,UAAWmC,EACXjC,gBAAiB5zB,EAAE,eACnBib,IAAKtV,GACH6K,EAAQ9H,QAAUhG,KAClB8N,EAAQnb,UAAY,EACpBmb,EAAQnb,UAEV0+B,gBAAiB,kBAAM+E,EAAY9mB,GAAUG,UAC7C2hB,mBAAoB6O,EACpB9O,aAAc0O,EACdvO,iBA5EI,SAAC3E,IACjB,OAAIA,QAAJ,IAAIA,OAAJ,EAAIA,EAASpD,QACX6M,EAAY9mB,GAAUW,QAAS3S,EAAE,UAEjC84B,EAAY9mB,GAAUS,OAAQzS,EAAE,SAArB,OAA+BqvB,QAA/B,IAA+BA,OAA/B,EAA+BA,EAASnD,kBAyEzC+H,UA1JU,SAACvrB,GACvB,IAAM6uB,EAAoBN,EAAevuB,GACzC,OAAI6uB,IAGAr2B,aAAWwH,EAAQ,IAAI/B,GAAG6J,EAAQ9H,QAC7B1I,EAAE,4BADX,SAwJQ,gBAAC,KAAD,WACE,sBAAKI,UAAWC,KAAOyiC,aAAvB,SACE,uBAAK1iC,UAAWC,KAAO+Z,IAAvB,UACE,qBAAIha,UAAWC,KAAO0iC,WAAtB,SAAmC/iC,EAAE,aACrC,sBACEI,UAAWmS,KACTlS,KAAO2iC,KADY,eAEhB3iC,KAAO4iC,SAAWhhC,GAFF,eAGhB5B,KAAO6iC,WAAajhC,IAJ3B,SAOE,mDACa,IACVwgC,IAAeA,GAAY15B,QAAQ,GAAK,OAF3C,kBAON,eAAC,GAAD,CACEyqB,UAAW,UACXj2B,MAAO,SACPk2B,UAAW4O,EACX3O,WAAW,EACXC,kBAAmB3zB,EAAE,WACrB4zB,gBAAiB5zB,EAAE,eACnBib,IAAKtV,GACHw8B,EAAOz5B,QAAUhG,KACjBy/B,EAAO9sC,UAAY,EACnB8sC,EAAO9sC,UAET0+B,gBAAiB,kBAAM+E,EAAY9mB,GAAUG,UAC7C0hB,aAAc2O,EACdxO,iBAxGM,SAAC3E,IACnB,OAAIA,QAAJ,IAAIA,OAAJ,EAAIA,EAASpD,QACX6M,EAAY9mB,GAAUW,QAAS3S,EAAE,YAEjC84B,EAAY9mB,GAAUS,OAAQzS,EAAE,WAArB,OAAiCqvB,QAAjC,IAAiCA,OAAjC,EAAiCA,EAASnD,kBAqG3C+H,UApLS,SAACvrB,GACtB,IAAM6uB,EAAoBN,EAAevuB,GACzC,OAAI6uB,IAGAr2B,aAAWwH,EAAQ,IAAI/B,GAAGw7B,EAAOz5B,QAC5B1I,EAAE,4BADX,kBAqLE,sBAAKI,UAAWC,KAAOm5B,sBAAvB,SACE,eAAC,GAAD,CACEzf,sBACE,uCACGuoB,GAAYA,EAAW,EACtB,eAAC,KAAD,CACE9rB,KAAK,OACLkI,MAAM,UACNxM,MAAM,2BAGR,eAAC,KAAD,CACEsE,KAAK,OACLkI,MAAM,UACNxM,MAAM,6BAGV,eAAC,KAAD,CACEsD,QAAQ,UACRgE,cAAc,EACdrF,MAAM,qGAHR,SAKE,qBACE/T,UAAWmS,KAAWlS,KAAO8iC,cAAe9iC,KAAOoZ,WADrD,SAGG,IAAI0K,KAAMme,EAAW,IAAQ,KAC3Bc,cACA19B,OAAO,GAAI,UAKtBkU,YAAa,CACX1H,MAAOlS,EAAE,WACT2Y,MAAO,CACL,CACE0B,UAAW,OACX5kB,KAAM2sC,EACN15B,OAAQvB,GACNxB,GACE6K,EAAQ9H,QAAUhG,KAClB8N,EAAQnb,UAAY,EACpB,OAMVwkB,WAAY,CACV3H,MAAOlS,EAAE,UACT2Y,MAAO,CACL,CACE0B,UAAW,SACX5kB,KAAM4sC,EACN35B,OAAQvB,GACNxB,GACEw8B,EAAOz5B,QAAUhG,KACjBy/B,EAAO9sC,UAAY,EACnB,OAMVykB,MAAO,CACL,CACET,UAAW,oBACXsB,UAAW+nB,EAAe,UACnB19B,GACD7G,KAAUC,KAAKskC,GACf,KAEF,KAEN,CACErpB,UAAW,gBACXsB,UAAU,IAAD,OAAMgG,OAAOR,GAAapX,QAAQ,KAE7C,CACEsQ,UAAW,MACXsB,UAAWyT,EAAG,WACNppB,GAAsB7G,KAAUC,KAAKgwB,GAAM,KAC/C,KAEN,CACE/U,UAAW,MACXsB,UAAS,OAAEgR,QAAF,IAAEA,IAAO,c,uDCnU1B0X,GAAe,SACnBC,EACAC,EACAhkC,GAHmB,iCAKCA,EALD,gEAKkE+jC,EALlE,2BAKmGC,IAUlHC,GAAc,yCAAG,WACrBF,EACA/jC,GAFqB,8BAAA2O,EAAA,6DAGrBu1B,EAHqB,+BAGR,GAEPjwB,EAAI,IAAI2Q,MACZuf,QAAQlwB,EAAEmwB,UAAYF,GANH,kBAOdn1B,MACL+0B,GACEC,EACA9vB,EAAEowB,UAAUliC,WAAWwE,MAAM,EAAG,IAChC3G,IAGDgP,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBF,MAAK,SAACG,GACL,OAAOA,EAAK0W,WAhBK,2CAAH,wDAoBdye,GAAsB,SAC1BnI,EACAoI,EACAR,EACA/jC,GAJ0B,OAM1B+O,MAlC2B,SAC3BotB,EACAoI,EACAR,EACA/jC,GAJ2B,iCAMPA,EANO,iEAM2D+jC,EAN3D,4BAM6FQ,EAN7F,uBAM2HpI,GA6BpJqI,CACErI,EACAoI,EACAR,EACA/jC,IAGDgP,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBF,MAAK,SAACG,GACL,OAAOA,EAAK0W,W,gDAGH,WACbke,EACArkC,GAFa,8BAAAiP,EAAA,6DAKP3O,EAAYN,IAAYzL,GAAQ0C,eAAiB,UAAY,UALtD,SAMS8tC,MAAM,kBAAMR,GAAeF,EAAgB/jC,KAAY,CAC3E0kC,QAAS,IAPE,UAMPC,EANO,OAWPC,EAAgBzpC,GAAMtF,UAAU6J,GAQP,KAPzBmlC,EAAkBF,EAAQ/7B,QAC9B,gBAAGgN,EAAH,EAAGA,GAAI/W,EAAP,EAAOA,KAAP,OACE+W,IAAOgvB,EAAc37B,eACrBpK,IAASklC,EAAe96B,kBAIRnD,OAnBP,kEAsBmB2+B,MAC9B,kBACEH,GACEO,EAAgBA,EAAgB/+B,OAAS,GAAGg/B,YAC5CF,EACAb,EACA/jC,KAEJ,CAAE0kC,QAAS,IA9BA,QAsBPK,EAtBO,kBAkCJ18B,GACP,GACEw8B,EAAgB77B,MACd,qBAAG5I,OACQ2kC,EAAkB18B,GAAGjI,MAC9B2kC,EAAkB18B,GAAGuN,KAAOmuB,EAAe96B,iBAG/C,MAAM,CAAN,EAAO87B,EAAkB18B,GAAG28B,YARvB38B,EAAI,EAlCA,aAkCGA,EAAI08B,EAAkBj/B,QAlCzB,0CAkCJuC,IAlCI,uDAkCiCA,GAAK,EAlCtC,6D,sBCnFA,SAAS48B,KACtB,MAA6Bh7B,KAArB/E,EAAR,EAAQA,QAASxF,EAAjB,EAAiBA,QAEjB,EAA4C4O,yBAC1C5H,GADF,oBAAOw+B,EAAP,KAAuBC,EAAvB,KAOMC,EAH2Bv3B,cAC/B,SAAClK,GAAD,OAAqBA,EAAMmK,eADrBE,qBAGkC7P,IAW1C,OATAsQ,sBAAU,WACHvJ,GAAYxF,GDsEN,SAAf,qCCrEI2lC,CAAoBngC,EAASxF,GAC1BsP,MAAK,SAACs2B,GACLH,EAAkBG,MAEnB3e,OAAM,SAAC4e,GAAD,OAAS96B,QAAQ4F,IAAIk1B,QAC7B,CAACrgC,EAASxF,EAAS0lC,IAEfF,ECJT,IA2DeM,GA3DD,WACZ,IAAMx0B,EAAgBgX,KAChBoP,ECdD,WAGL,IAAM9qB,EAAerB,KACfw6B,EAAiBt6B,KACfjG,EAAY+E,KAAZ/E,QACFmP,EAAWC,eACjB,gDAAO,WACLnL,GADK,sBAAAwF,EAAA,kEAIEzJ,EAJF,sBAIiB,IAAIE,MAAM,4BAJ3B,UAKEkH,GAAiBm5B,EALnB,sBAMK,IAAIrgC,MAAM,+BANf,cAOGoS,EAAWrU,KACXg0B,EAAgBv4B,KAAUC,KAAKsK,GARlC,SASG0jB,GACJvgB,EACAm5B,EAAe1gC,QACfG,EACAiyB,GACA,EACA3f,EACA,CACEkW,mBAAoB,SAACljB,GAEnB,MADAC,QAAQD,MAAMA,GACR,IAAIpF,MAAM,8CAnBnB,wBAuBcqgC,EAAeC,KAAKvO,GAvBlC,eAuBGvK,EAvBH,iBAwBmBA,EAAGW,OAxBtB,eAwBGuC,EAxBH,OAyBHzb,EACEia,GAA2B,eACxBnwB,GAA0BymB,KAAKc,SA3BjC,kBA8BIoK,GA9BJ,kCAgCHrlB,QAAQD,MAAR,MAhCG,0DAAP,sDDOcm7B,GACRC,EErBD,WAGL,IAAMH,EAAiBt6B,KACfjG,EAAY+E,KAAZ/E,QACR,gDAAO,WACLiE,GADK,kBAAAwF,EAAA,kEAIEzJ,EAJF,sBAIiB,IAAIE,MAAM,4BAJ3B,UAKEqgC,EALF,sBAKwB,IAAIrgC,MAAM,4BALlC,YAMGygC,EAAkBjnC,KAAUC,KAAKsK,IACnB2F,SAPjB,kEAQc22B,EAAeK,KAAK5gC,EAAS2gC,GAR3C,eAQGjZ,EARH,iBASUA,EAAGW,OATb,2EAWH9iB,QAAQD,MAAR,MAXG,0DAAP,sDFgBgBu7B,GAEhB,EAAwBz3B,oBAAS,GAAjC,oBAAO03B,EAAP,KAAaC,EAAb,KACMC,EAAajB,KACnBx2B,sBAAU,WACR,IAAMwF,EAAI,IAAI2Q,KAAKshB,EAA2B,KAAbA,EAAoB,GACrDjyB,EAAEkwB,QAAQlwB,EAAEmwB,UAAY,GACxB6B,GAAsC,GAA7BrhB,KAAKc,MAAQzR,EAAEowB,cACvB,CAAC6B,IAEJ,MAA4BC,aAAaH,EAAM,KAA/C,oBAAOjD,EAAP,KAAiBp+B,EAAjB,KAEMyhC,EAAsB77B,oBAAQ,WAClC,MAAiC9M,OAAOsL,OAAO1L,IAAiB+R,KAC9D,YAA2B,IAAxBrZ,EAAuB,EAAvBA,OAED,MAAO,CACLD,SAHsB,EAAfA,SAIPqT,QAH0B,OAAb6H,QAAa,IAAbA,OAAA,EAAAA,EAAgBjb,KAAWoN,SAF9C,oBAAOkjC,EAAP,KAAkBC,EAAlB,KASA,MAAO,CACLr1B,QAAS,CACP9H,OAAQk9B,EAAUl9B,OAClBrT,SAAUuwC,EAAUvwC,UAEtB8sC,OAAQ,CACNz5B,OAAQm9B,EAAYn9B,OACpBrT,SAAUwwC,EAAYxwC,aAGzB,CAACkb,IAMJ,OAJAvC,sBAAU,WACR9J,EAAQ4hC,MAAMP,KACb,CAACrhC,EAASqhC,EAAME,IAGjB,uBAAKrlC,UAAWC,KAAOs2B,MAAvB,UACE,eAAC,GAAD,CAASrM,UAAU,UACnB,sBAAKlqB,UAAWC,KAAO85B,UAAvB,SACE,eAAC,GAAD,CACE3pB,QAASm1B,EAAoBn1B,QAC7B2xB,OAAQwD,EAAoBxD,OAC5BC,cAAexlC,GAAgBC,KAAKpH,KACpC4sC,gBAAiBzlC,GAAgBE,OAAOrH,KACxC6sC,SAAUA,EACVC,aAAc5L,EACd6L,eAAgB2C,UG5D1B,IAAMY,GAAyB,CAC7BppC,GAAWuB,QACXvB,GAAWqB,eACXrB,GAAWoB,eACXpB,GAAWmB,eACXnB,GAAWkB,eACXlB,GAAW0B,QAQN,SAAS2nC,KACd,MAAkCn4B,oBAA6B,IAA/D,oBAAOo4B,EAAP,KAAkBC,EAAlB,KACMC,ECnBO,WACb,MAA6B38B,KAArBvK,EAAR,EAAQA,QAASuF,EAAjB,EAAiBA,QACT8I,EAAmBF,cAAY,SAAClK,GAAD,OAAqBA,EAAMmK,eAA1DC,eACR,EAAgCO,oBAE9B,IAFF,oBAAOu4B,EAAP,KAAiBC,EAAjB,KA6DA,OAzDAr4B,sBAAU,WAAM,8CAOd,qCAAAE,EAAA,yDACO1J,GAAYvF,EADnB,wDAEQuQ,EAAkB,IAAIC,YAF9B,SAIQD,EAAgBtd,KAAKsS,GAJ7B,cAMMvF,GAAWzL,GAAQ0C,eACrBsZ,EAAgBE,iBACd,6CACOzQ,GAAWzL,GAAQ2C,iBAC5BqZ,EAAgBE,iBACd,8CAGE42B,EAAQtpC,OAAOsL,OAAO5M,IACtB6qC,EAAcD,EACjB33B,KAAI,SAACkS,GACJ,OAAO,IAAIjc,YACTic,EAAEllB,QAAQvG,UAAU6J,GACpBsQ,OAGHZ,KAAI,SAACsY,GAAD,OAAOA,EAAEtW,iBAtBlB,UAuBqBnB,EAAgBa,IAAIk2B,EAAa,UAvBtD,QAuBQC,EAvBR,OAwBQC,EAAUH,EAAM33B,KAAI,SAACvR,EAAMwK,GAC/B,IAAM8+B,EAAYF,EAAK5+B,GACnB++B,EAAa,EAQjB,OANEA,EADEvpC,EAAKvB,OAASpI,GAAUmzC,KACC,OAAdt5B,QAAc,IAAdA,OAAA,EAAAA,EAAgBs5B,MAAO,EAC3BxpC,EAAKvB,OAASpI,GAAU2zB,KACN,OAAd9Z,QAAc,IAAdA,OAAA,EAAAA,EAAgB8Z,MAAO,EAEvB,EAERlmB,aAAWylC,EAAW59B,QAAQ,GAAI,GACtClG,IAAI6jC,GACJphC,IAAInH,KAAUC,KAAK,IAAIwE,IAAI,OAEhCyjC,GAAY,SAACntB,GACX,OAAOotB,EAAMppC,QACX,SAACC,EAAKC,EAAMwK,GAAZ,mBAAC,eACIzK,GADL,kBAEGC,EAAK5H,KAAOixC,EAAQ7+B,OAEvBsR,MA5CN,6CAPc,sBAEZlc,OAAOC,KAAKmpC,GAAU/gC,OAAS,IAA/B,OACAiI,QADA,IACAA,OADA,EACAA,EAAgBs5B,OADhB,OAEAt5B,QAFA,IAEAA,OAFA,EAEAA,EAAgB8Z,MAJJ,mCAuDTyf,KACJ,CAAC5nC,EAASuF,EAAS8I,EAAgB84B,IAC/BA,ED7CUU,GACjB,EAAkDh9B,oBAAQ,WACxD,IAAMi9B,EAAc/pC,OAAOsL,OAAO5M,IAAWuqB,MAAK,SAAC/X,EAAGU,GACpD,IAAMo4B,EAAOb,EAASj4B,EAAE1Y,MAClByxC,EAAOd,EAASv3B,EAAEpZ,MACxB,OAAIwxC,GAAQC,EACHD,EAAKrgC,GAAGsgC,IAAS,EAAI,EAEvBD,GAAQ,EAAI,KAEfE,EAAeH,EAAY7pC,QAAO,SAACC,EAAD,GAA8B,IAAhBZ,EAAe,EAArB/G,KACxC4H,EAAO1B,GAAUa,GACjBc,EAAM,eAAQF,GAIpB,OAHAC,EAAKxB,WAAW0B,SAAQ,SAACC,GACvBF,EAAOE,EAAMjI,SAAW+H,EAAOE,EAAMjI,SAAW,IAAImI,OAAOlB,MAEtDc,IACN,IACH,MAAO,CAAC0pC,EAAaG,KACpB,CAACf,IAlBJ,oBAAOgB,EAAP,KAAyBC,EAAzB,KAoBA,OAAO,SAA4B7pC,GACjC,IAAKA,EAAO,MAAO,GACnB,IAAM8pC,EAAWpB,EAAU1oC,EAAMjI,QACjC,GAAI+xC,EAAU,OAAOA,EACrB,IAAMC,EAAYC,GAChBxqC,GACArB,GACAyrC,EACAC,EACA7pC,GAGF,OADA2oC,GAAa,SAAChtB,GAAD,mBAAC,eAAoBA,GAArB,kBAAiC3b,EAAMjI,OAASgyC,OACtDA,GAMX,SAASE,GACPjqC,EACAH,GACgC,IAAD,EAC/B,MAAO,CACL9H,OAAQiI,EAAMjI,OACdiH,SAAQ,OAAEa,QAAF,IAAEA,OAAF,EAAEA,EAAM5H,KAChBiyC,YACM,OAAJrqC,QAAI,IAAJA,GAAA,UAAAA,EAAMnB,4BAAN,eAA4ByrC,WAAU,SAAC1nC,GAAD,OAAOA,IAAMzC,QAAnD,OACAH,QADA,IACAA,OADA,EACAA,EAAMxB,WAAW8rC,WAAU,SAAC1nC,GAAD,OAAOA,IAAMzC,OAwB9C,SAASgqC,GACPI,EACAC,EACAT,EACAU,EACAC,GAEA,IAAMtY,EAAYxyB,OAAOsL,OAAOq/B,GAAWx/B,QACzC,qBAAGxS,aAECoyC,EAAgB,IAAItrC,IACxB0qC,EAAiBh/B,QAAO,qBAAGzS,gBAEvBsyC,EAAsB,IAAIvrC,IAC9BorC,EAAgBC,EAAYxyC,QAAQqZ,KAAI,SAACpS,GAAD,OAAcqrC,EAASrrC,OAE3D0rC,EAAsBjgC,GAAa+/B,EAAeC,GAClDE,EAAqD,GA6J3D,OA3JA1Y,EAAUlyB,SAAQ,SAACC,GAEjB,IAAI4qC,EAAqB,CACvB/pC,KAAMopC,GAAkBM,GACxB3yB,GAAIqyB,GAAkBjqC,GACtB1B,KAAMc,GAAWuB,QACjBnC,MAAO,IAEHqsC,EAAgB,IAAI3rC,IACxBorC,EAAgBtqC,EAAMjI,QAAQqZ,KAAI,SAACpS,GAAD,OAAcqrC,EAASrrC,OAErD8rC,EAAqBrgC,GAAa+/B,EAAeK,GACjDE,EAAiBtgC,GAAaggC,EAAqBI,GASzD,GAAIN,IAAgBvqC,QAIf,GAAI+qC,EAAe9xB,KAAO,EAAG,CAChC,IAAM+xB,EAAY,YAAID,GAAgB,GACtCH,EAAW,CACTtsC,KAAMc,GAAW0B,OACjBD,KAAMopC,GAAkBM,EAAaS,GACrCpzB,GAAIqyB,GAAkBjqC,EAAOgrC,GAC7BxsC,MAAO,CAAC+rC,EAAYxyC,OAAQiI,EAAMjI,cAKjC,GAAIwyC,EAAYpyC,aAAe6H,EAAM7H,YAAa,CACrD,IAAM8yC,EAAa,YAAIR,GAAqB,GACtCS,EAAkB,YAAIL,GAAe,GAC3CD,EAAW,CACTtsC,KAAMc,GAAWkB,eACjBO,KAAMopC,GAAkBM,EAAaU,GACrCrzB,GAAIqyB,GAAkBjqC,EAAOkrC,GAC7B1sC,MAAO,CAAC+rC,EAAYxyC,OAAQiI,EAAMjI,cAKjC,GACHwyC,EAAYpyC,cACX6H,EAAM7H,aACP2yC,EAAmB7xB,KAAO,EAC1B,CACA,IAAMgyB,EAAa,YAAIR,GAAqB,GACtCS,EAAkB,YAAIJ,GAAoB,GAC1CK,EAAcD,EAAgB7sC,WAAW2M,MAC7C,qBAAG7S,eAEDgzC,IACFP,EAAW,CACTtsC,KAAMc,GAAWmB,eACjBM,KAAMopC,GAAkBM,EAAaU,GACrCrzB,GAAIqyB,GAAkBjqC,EAAOkrC,GAC7B1sC,MAAO,CAAC+rC,EAAYxyC,OAAQozC,EAAYpzC,OAAQiI,EAAMjI,eAMvD,IACFwyC,EAAYpyC,aACbuyC,EAAoBzxB,KAAO,IAC1BjZ,EAAM7H,aACP2yC,EAAmB7xB,KAAO,EAC1B,CACA,IAAMgyB,EAAa,YAAIP,GAAqB,GACtCQ,EAAkB,YAAIJ,GAAoB,GAC1CM,EAAcH,EAAW5sC,WAAW2M,MACxC,qBAAG7S,eAECkzC,EAAmBH,EAAgB7sC,WAAW2M,MAClD,qBAAG7S,eAEDizC,GAAeC,IACjBT,EAAW,CACTtsC,KAAMc,GAAWqB,eACjBI,KAAMopC,GAAkBM,EAAaU,GACrCrzB,GAAIqyB,GAAkBjqC,EAAOkrC,GAC7B1sC,MAAO,CACL+rC,EAAYxyC,OACZqzC,EAAYrzC,OACZszC,EAAiBtzC,OACjBiI,EAAMjI,eAOT,IACFwyC,EAAYpyC,aACbuyC,EAAoBzxB,KAAO,GAC3BjZ,EAAM7H,YACN,CACA,IAAM8yC,EAAa,YAAIP,GAAqB,GACtCQ,EAAkB,YAAIL,GAAe,GACrCM,EAAcF,EAAW5sC,WAAW2M,MACxC,qBAAG7S,eAEDgzC,IACFP,EAAW,CACTtsC,KAAMc,GAAWoB,eACjBK,KAAMopC,GAAkBM,EAAaU,GACrCrzB,GAAIqyB,GAAkBjqC,EAAOkrC,GAC7B1sC,MAAO,CAAC+rC,EAAYxyC,OAAQozC,EAAYpzC,OAAQiI,EAAMjI,eAOvD,GAA4B,IAAxBgzC,EAAe9xB,KAAY,CAClC,IAAMgyB,EAAa,YAAIR,GAAqBz/B,MAC1C,qBAAGvM,cAECysC,EAAkB,YAAIL,GAAe7/B,MACzC,qBAAGvM,cAEC6sC,GAAyB,OAAVL,QAAU,IAAVA,OAAA,EAAAA,EAAYrsC,mBAC7BqsC,EACAC,GAEU,OAAVD,QAAU,IAAVA,OAAA,EAAAA,EAAYrsC,qBAAZ,OAAiCssC,QAAjC,IAAiCA,OAAjC,EAAiCA,EAAiBtsC,qBAEpDgsC,EAAW,CACTtsC,KAAMc,GAAW0B,OACjBD,KAAMopC,GAAkBM,EAAae,GACrC1zB,GAAIqyB,GAAkBjqC,EAAOsrC,GAC7B9sC,MAAO,CAAC+rC,EAAYxyC,OAAQiI,EAAMjI,UAMxC,IAAMwzC,EACJZ,EAAmB3qC,EAAMjI,QACrByzC,EAAkBhD,GAAuB//B,QAAvB,OACtB8iC,QADsB,IACtBA,OADsB,EACtBA,EAAuBjtC,MAEnBmtC,EAAajD,GAAuB//B,QAAQmiC,EAAStsC,QACtDitC,GAAyBE,EAAaD,KACzCb,EAAmB3qC,EAAMjI,QAAU6yC,MAIhCnrC,OAAOsL,OAAO4/B,G,OAGhB,IEzRH,GAAY,CAAC,QAAS,WAE1B,SAASe,KAA2Q,OAA9PA,GAAWjsC,OAAOksC,QAAU,SAAUzoC,GAAU,IAAK,IAAImH,EAAI,EAAGA,EAAIuhC,UAAU9jC,OAAQuC,IAAK,CAAE,IAAIwhC,EAASD,UAAUvhC,GAAI,IAAK,IAAIihB,KAAOugB,EAAcpsC,OAAOqsC,UAAUC,eAAe1c,KAAKwc,EAAQvgB,KAAQpoB,EAAOooB,GAAOugB,EAAOvgB,IAAY,OAAOpoB,IAA2B8oC,MAAM3zC,KAAMuzC,WAEhT,SAASK,GAAyBJ,EAAQK,GAAY,GAAc,MAAVL,EAAgB,MAAO,GAAI,IAAkEvgB,EAAKjhB,EAAnEnH,EAEzF,SAAuC2oC,EAAQK,GAAY,GAAc,MAAVL,EAAgB,MAAO,GAAI,IAA2DvgB,EAAKjhB,EAA5DnH,EAAS,GAAQipC,EAAa1sC,OAAOC,KAAKmsC,GAAqB,IAAKxhC,EAAI,EAAGA,EAAI8hC,EAAWrkC,OAAQuC,IAAOihB,EAAM6gB,EAAW9hC,GAAQ6hC,EAASzjC,QAAQ6iB,IAAQ,IAAapoB,EAAOooB,GAAOugB,EAAOvgB,IAAQ,OAAOpoB,EAFxMkpC,CAA8BP,EAAQK,GAAuB,GAAIzsC,OAAO4sC,sBAAuB,CAAE,IAAIC,EAAmB7sC,OAAO4sC,sBAAsBR,GAAS,IAAKxhC,EAAI,EAAGA,EAAIiiC,EAAiBxkC,OAAQuC,IAAOihB,EAAMghB,EAAiBjiC,GAAQ6hC,EAASzjC,QAAQ6iB,IAAQ,GAAkB7rB,OAAOqsC,UAAUS,qBAAqBld,KAAKwc,EAAQvgB,KAAgBpoB,EAAOooB,GAAOugB,EAAOvgB,IAAU,OAAOpoB,EAMne,IAAI,GAAqB,iBAAoB,OAAQ,CACnD+S,EAAG,kTAGD,GAAqB,iBAAoB,OAAQ,CACnDA,EAAG,mrBAGD,GAAqB,iBAAoB,OAAQ,CACnDA,EAAG,84FAGD,GAAqB,iBAAoB,OAAQ,CACnDA,EAAG,0rGAGL,SAASu2B,GAAQC,EAAMC,GACrB,IAAI/3B,EAAQ83B,EAAK93B,MACbg4B,EAAUF,EAAKE,QACfl1B,EAAQw0B,GAAyBQ,EAAM,IAE3C,OAAoB,iBAAoB,MAAOf,GAAS,CACtDr0B,MAAO,GACPiE,OAAQ,GACR1F,QAAS,YACTG,KAAM,OACNJ,MAAO,6BACPwQ,IAAKumB,EACL,kBAAmBC,GAClBl1B,GAAQ9C,EAAqB,iBAAoB,QAAS,CAC3DmJ,GAAI6uB,GACHh4B,GAAS,KAAM,GAAO,GAAO,GAAO,IAGzC,IAAIi4B,GAA0B,cAAiBJ,I,IAChC,I,mBCvCAK,GAFC,kBAAoB,sBAAKhqC,UAAWC,KAAOgqC,W,oBCmB5C,SAASC,GAAT,GAGU,IAFvBC,EAEsB,EAFtBA,WACAC,EACsB,EADtBA,SAEA,EAAoC38B,oBAAS,IAA7C,oBAAO48B,EAAP,KAAmBC,EAAnB,KACA,EAAsC78B,oBAAwB,MAA9D,oBAAO88B,EAAP,KAAoBC,EAApB,KACMC,EAAWlnB,kBAAyB,MACpCmnB,EAAiBnnB,kBAAsB,MACrC3jB,EAAMsS,eAANtS,EAERgO,sBAAU,WACiB,OAAb,OAAR68B,QAAQ,IAARA,OAAA,EAAAA,EAAUjnB,UACZinB,EAASjnB,QAAQmnB,UAElB,CAACF,IACJ78B,sBAAU,WAEuB,OAAb,OAAd88B,QAAc,IAAdA,OAAA,EAAAA,EAAgBlnB,UAClBknB,EAAelnB,QAAQonB,mBAExB,CAACF,EAAgBH,IACpB,IAAMM,EAAiBnhC,oBAAQ,WAE7B,OAAOygC,EAAWpiC,QAAO,YAAuB,IAApB7S,EAAmB,EAAnBA,OAAQE,EAAW,EAAXA,KAC5BiL,EAASgqC,EAAWjiC,cAC1B,OACElT,EAAOkT,cAAcq4B,SAASpgC,IAC9BjL,EAAKgT,cAAcq4B,SAASpgC,QAG/B,CAAC8pC,EAAYE,IACVS,EAAsBphC,oBAAQ,WAElC,IAAMqhC,EACJF,EAAevD,WAAU,mBAAqC,IAArC,EAAG0D,eAA2C,EACzE,OAAOD,EAAqB,EACxBF,EAAe5lC,OAAS,EACxB8lC,IACH,CAACF,IAEJ,OACE,uBAAK7qC,UAAWC,KAAOgrC,aAAvB,UACE,uBAAKjrC,UAAWC,KAAO6zB,eAAvB,UACE,sBACEtf,MAAM,KACNiE,OAAO,KACP1F,QAAQ,YACRG,KAAK,OACLJ,MAAM,6BALR,SAOE,uBACEM,EAAE,sSACFF,KAAK,cAIT,wBACEnS,MAAOspC,EACPx3B,SAAU,SAAC6B,GACT,IAAMzT,EAAayT,EAAErU,OAAOU,MACtBmqC,EAAiC,KAAfjqC,EAAoB,KAAO,EACnDspC,IAAgBW,GAAmBV,EAAeU,GAClDZ,EAAcrpC,IAEhBqiB,IAAKmnB,EACLxuB,QAAS,kBAAqB,MAAfsuB,GAAuBC,EAAe,OACrDW,UAAW,SAACz2B,GACV,GAAc,UAAVA,EAAE+T,KAAkC,MAAf8hB,EAAqB,CAC5C,IAAMptC,EAAQ0tC,EAAeN,GAC7BptC,EAAM6tC,aAAeZ,EAASjtC,EAAMjI,YACjB,YAAVwf,EAAE+T,IACX+hB,GAAe,SAACY,GAAD,OACJ,OAATA,GAA0B,IAATA,EAAa,KAAOjmC,KAAK0V,IAAI,EAAGuwB,EAAO,MAEvC,cAAV12B,EAAE+T,KACX+hB,GAAe,SAACY,GAAD,OACJ,OAATA,EAAgB,EAAIjmC,KAAKkmC,IAAIP,EAAqBM,EAAO,YAMnE,sBAAIprC,UAAWC,KAAOqrC,cAAtB,UACGT,EAAet8B,KAAI,SAACvG,EAAMR,GACzB,OACE,sBAEE2M,QAAS,kBAAMnM,EAAKgjC,aAAeZ,EAASpiC,EAAK9S,SACjDouB,IAAK9b,IAAM+iC,EAAcG,EAAiB,KAH5C,UAKE,eAAC,GAAD,IACA,eAACa,GAAD,2BAAcvjC,GAAd,IAAoBoiB,SAAU5iB,IAAM+iC,OAL/BviC,EAAK9S,WASW,IAA1B21C,EAAe5lC,OACd,qBAAIjF,UAAWC,KAAOurC,SAAtB,SAAiC5rC,EAAE,mBACjC,WAMZ,SAAS2rC,GAAT,GAUyC,IAAD,EATtCjjC,EASsC,EATtCA,OACAsQ,EAQsC,EARtCA,SACAxjB,EAOsC,EAPtCA,KACAC,EAMsC,EANtCA,KACAH,EAKsC,EALtCA,OACAD,EAIsC,EAJtCA,SACAm1B,EAGsC,EAHtCA,SACA4gB,EAEsC,EAFtCA,YACAxtC,EACsC,EADtCA,SAEQoC,EAAMsS,eAANtS,EACF6rC,EAAiB,CACrBlvC,GAAWkB,eACXlB,GAAWmB,eACXnB,GAAWoB,eACXpB,GAAWqB,gBACkB6iC,SAASjjC,GACxC,OACE,uBACEwC,UAAW0rC,KAAWzrC,KAAOurC,UAAR,mBAClBvrC,KAAOmqB,SAAWA,GADA,cAElBnqB,KAAO0rC,eAAiBX,GAFN,cAGlB/qC,KAAO+qC,YAAcA,GAHH,IADvB,UAOE,sBAAKx4B,IAAKnd,EAAMojB,OAAO,OAAOjE,MAAM,SACpC,iCACE,uBAAKxU,UAAWC,KAAO2rC,WAAvB,UACE,6BAAI12C,KACF81C,GACA,uBAAMhrC,UAAWC,KAAO4rC,eAAxB,SAAyCjsC,EAAE,iBAE5CorC,GAAeS,GACd,uBAAMzrC,UAAWC,KAAO6rC,eAAxB,SAAyClsC,EAAE,oBAG/C,oBAAGI,UAAWC,KAAO8rC,UAArB,SAAiC32C,OAEnC,iCACE,6BAAI2R,GAAQxB,GAAiB+C,EAAQrT,MACrC,qBAAG+K,UAAWC,KAAO8rC,UAArB,oBACKhlC,GAAQxB,GAAiBqT,EAAU,GAAI,a,wBClJrC,SAASozB,GAAT,GAQU,IC3BvBC,EACAptB,EACAtV,EDkBA+C,EAOsB,EAPtBA,OACA4H,EAMsB,EANtBA,SACAk2B,EAKsB,EALtBA,SACAnpC,EAIsB,EAJtBA,WACAirC,EAGsB,EAHtBA,cACAC,EAEsB,EAFtBA,WACAC,EACsB,EADtBA,eAEA,EAA4C3+B,qBAAS,GAArD,oBAAO4+B,EAAP,KAAuBC,EAAvB,KACMC,EAAahpB,kBAAO,MACpBknB,EAAWlnB,kBAAyB,MAClC3jB,EAAMsS,eAANtS,EC/BRqsC,EDiCEM,EChCF1tB,EDiCE,kBAAMytB,GAAkB,IChC1B/iC,EDiCE8iC,EC/BFz+B,sBAAU,WACR,IAAM4+B,EAAc,SAACpnB,GAEjB7b,IAAM,OACN0iC,QADM,IACNA,OADM,EACNA,EAAYzoB,YACZ,OAACyoB,QAAD,IAACA,OAAD,EAACA,EAAYzoB,QAAQipB,SAASrnB,EAAM/kB,WAEpC+kB,EAAMsnB,iBACNtnB,EAAMnP,kBACN4I,MAGE8tB,EAAiB,SAACvnB,GACJ,WAAdA,EAAMqD,KACR5J,KASJ,OALItV,IACF2Y,SAASgQ,iBAAiB,UAAWya,GAAgB,GACrDzqB,SAASgQ,iBAAiB,QAASsa,GAAa,IAG3C,WACLtqB,SAASgQ,iBAAiB,UAAWya,GAAgB,GACrDzqB,SAASiQ,oBAAoB,QAASqa,GAAa,MAEpD,CAACjjC,EAAQsV,EAAUotB,IDMtB,IAAMW,EAAettB,wBACnB,SAACve,GACS,OAARqpC,QAAQ,IAARA,KAAWrpC,GACXurC,GAAkB,KAEpB,CAAClC,IAGGyC,EAAgBlwC,GAAWuX,GAmBjC,OACE,uBAAKlU,UAAWC,KAAO6sC,mBAAvB,UACE,uBACE9sC,UAAW0rC,KACTzrC,KAAO8sC,YACP3C,GAAYnqC,KAAO+sC,cAErB74B,QAAS,kBAAMi2B,GAAYkC,GAAkB,SAAClB,GAAD,OAAWA,MACxD6B,SAAU,EACV9B,UAAW,SAACz2B,IACN01B,GAAuB,UAAV11B,EAAE+T,KAA6B,MAAV/T,EAAE+T,KACtC6jB,GAAkB,SAAClB,GAAD,OAAWA,MATnC,UAaGyB,GAAiB,sBAAKr6B,IAAKq6B,EAAcx3C,OAC1C,uBAAK2K,UAAWC,KAAOitC,mBAAvB,UACE,uBAAKltC,UAAWC,KAAOktC,qBAAvB,UACE,oBAAGntC,UAAWC,KAAOmtC,eAArB,SACGP,EAAgBA,EAAc33C,OAAS0K,EAAE,iBAF9C,OAKGwqC,GACC,sBACE51B,MAAM,KACNiE,OAAO,KACP1F,QAAQ,YACRG,KAAK,OACLJ,MAAM,6BALR,SAOE,uBAAMM,EAAE,qFAIby5B,GACC,oBAAG7sC,UAAWC,KAAO8rC,UAArB,SAAiCc,EAAcz3C,aAIrD,uBACE4K,UAAW0rC,KAAW,eACjBzrC,KAAOgT,UAAYk5B,GACtBlsC,KAAO+T,YAETG,QAAS,WAAO,IAAD,EACb,UAAAs2B,EAASjnB,eAAT,SAAkBmnB,SANtB,UASE,wBACErnB,IAAKmnB,EACLpvB,aAAa,MACbC,YAAY,MACZ7f,KAAK,OACL8f,YAAY,MACZC,WAAW,QACXza,MAAOorC,EAAalrC,EAAa8F,GAAQ9F,GACzC4R,SAzEc,SAAC6B,GACrB,IAAMzf,EAAW43C,EAAgBA,EAAc53C,SAAW,GAEpDymB,EAAWhH,EAAErU,OAAOU,MAAM4a,QAAQ,WAAY,IAEpD,GAAID,EAAS9V,QAAQ,OAAS8V,EAASE,YAAY,KAAnD,CACA,IAAMC,EAAc9M,WAAW,IAAM2M,GAC/BI,EAAcJ,EAAS9V,QAAQ,KAC/BmW,EAA4B,KAAbL,IAAoBlT,MAAMqT,GACzCG,GACa,IAAjBF,GAAsBJ,EAASzW,OAAS,EAAI6W,GAAe7mB,EACzD8mB,GAAgBC,IAEJ,OAAdowB,QAAc,IAAdA,KAAiB1wB,MA6DbO,QAAS,SAACvH,GACJy3B,GACFz3B,EAAErU,OAAO6b,UAGbT,UAAW0wB,EACXc,SAAUd,EAAa,GAAK,IAE9B,qBAAGnsC,UAAWC,KAAO8rC,UAArB,oBACKhlC,GAAQxB,GAAiB2mC,EAAe,GAAI,UAGlDG,GACC,sBAAKrsC,UAAWC,KAAOotC,kBAAmB/pB,IAAKipB,EAA/C,SACE,eAACrC,GAAD,CAAcC,WAAY79B,EAAQ89B,SAAUwC,S,yBEMvCU,GAhIa,SAAC,GASR,IARnB9P,EAQkB,EARlBA,YACA+P,EAOkB,EAPlBA,wBAQQrgC,EAAmBF,cAAY,SAAClK,GAAD,OAAqBA,EAAMmK,eAA1DC,eACR,EAAoCO,oBAKjC,CACD1M,MAAO,GACPysC,QAASlrC,KACTsW,SAAUtW,KACVqH,MAAO,OATT,oBAAO8jC,EAAP,KAAmBC,EAAnB,KAWQ9tC,EAAMsS,eAANtS,EACAo+B,EAAoDR,EAApDQ,eAAgBC,EAAoCT,EAApCS,QAASK,EAA2Bd,EAA3Bc,aAAc9gC,EAAaggC,EAAbhgC,SACzCmwC,EAAwB5mC,GAC5BxB,GAAiB+4B,EAAcN,EAAe/oC,SAAU,IAEpDwhC,EAAWnX,wBAAY,WAC3B,IAAMhX,EAASmlC,EAAW1sC,MACtBD,aAAW2sC,EAAW1sC,MAAOi9B,EAAe/oC,UAC5CqN,KACJirC,EAAwB,WAAYjlC,KACnC,CAACmlC,EAAW1sC,MAAOi9B,EAAe/oC,SAAUs4C,IACzCK,EAAStuB,wBAAY,WACzB,IAAMhX,EAASmlC,EAAW1sC,MACtBD,aAAW2sC,EAAW1sC,MAAOi9B,EAAe/oC,UAC5CqN,KACJirC,EAAwB,SAAUjlC,KACjC,CAACmlC,EAAW1sC,MAAOi9B,EAAe/oC,SAAUs4C,IAC/C,OACE,uBAAKvtC,UAAWC,KAAO4tC,gBAAvB,UACE,sBAAK7tC,UAAWC,KAAO6tC,YAAvB,SACE,8BAAKluC,EAAE,uBAET,sBAAKI,UAAWC,KAAO8tC,eAAvB,SACE,+BACGnuC,EAAE,WADL,IACkB,IAChB,oBACEI,UAAWC,KAAOmQ,QAClB+D,QAAS,kBACPu5B,GAAc,SAAC50B,GAAD,mBAAC,eACVA,GADS,IAEZ00B,QAASlP,EACT1lB,SAAUvQ,GACRi2B,EADsB,OAEtBpxB,QAFsB,IAEtBA,OAFsB,EAEtBA,EAAiB8wB,EAAe9oC,QAChC8oC,EAAe/oC,UAEjB8L,MAAOwE,GAAiB+4B,EAAcN,EAAe/oC,UACrD0U,MAAO,WAZb,SAgBGgkC,SAIP,eAAC3B,GAAD,CACE1/B,OAAQ,GACR8/B,eAAgB,SAAC1wB,GAAD,OACdgyB,GAAc,SAAC50B,GACb,IAAMk1B,EAAetyB,EAASC,QAAQ,QAAS,IACzCsyB,IAAkBzlC,OAAOwlC,IAAkC,KAAjBA,GAGhD,IADGC,GAAkC,KAAjBD,GAAwC,MAAjBA,EAEzC,OAAOl1B,EAET,IAAM00B,EAAUS,EACZntC,aAAWktC,EAAchQ,EAAe/oC,UACxCqN,KACJ,MAAO,CACLvB,MAAO2a,EACP8xB,UACA50B,SAAUvQ,GACRmlC,EADsB,OAEtBtgC,QAFsB,IAEtBA,OAFsB,EAEtBA,EAAiB8wB,EAAe9oC,QAChC8oC,EAAe/oC,UAEjB0U,MAAO6jC,EAAQjnC,GAAG+3B,GAAgB1+B,EAAE,uBAAyB,UAInEsU,SAAU8pB,EAAe9oC,OACzB+L,WAAYwsC,EAAW1sC,MACvBmrC,cAAeuB,EAAW70B,SAC1BuzB,YAAY,IAEbsB,EAAW9jC,OACV,sBAAK3J,UAAWC,KAAO0J,MAAvB,SAA+B8jC,EAAW9jC,QAE5C,uBAAK3J,UAAWC,KAAOiuC,YAAvB,UACE,eAAC,GAAD,CACE/5B,QAASy5B,EACT70B,SACGvb,IAAajB,GAAWoB,iBAAmB8vC,EAAW1sC,SACrD0sC,EAAW9jC,MAJjB,SAOE,gBAAC6hB,GAAA,EAAD,CAAO5rB,EAAGA,EAAG6rB,QAAQ,gBAArB,uBACY,sBAAKjZ,IAAKyrB,EAAQ5oC,OAD9B,IACwC,CAAED,KAAM6oC,EAAQ/oC,aAG1D,eAAC,GAAD,CACEif,QAASsiB,EACT1d,UAAW00B,EAAW1sC,SAAW0sC,EAAW9jC,MAF9C,SAIE,gBAAC6hB,GAAA,EAAD,CAAO5rB,EAAGA,EAAG6rB,QAAQ,gBAArB,sBACW,sBAAKjZ,IAAKwrB,EAAe3oC,OAAS,IAC1C,CAAED,KAAM4oC,EAAe9oC,gBAI9B,eAACqe,GAAD,QC3IF,GAAY,CAAC,QAAS,WAE1B,SAAS,KAA2Q,OAA9P,GAAW3W,OAAOksC,QAAU,SAAUzoC,GAAU,IAAK,IAAImH,EAAI,EAAGA,EAAIuhC,UAAU9jC,OAAQuC,IAAK,CAAE,IAAIwhC,EAASD,UAAUvhC,GAAI,IAAK,IAAIihB,KAAOugB,EAAcpsC,OAAOqsC,UAAUC,eAAe1c,KAAKwc,EAAQvgB,KAAQpoB,EAAOooB,GAAOugB,EAAOvgB,IAAY,OAAOpoB,IAA2B8oC,MAAM3zC,KAAMuzC,WAEhT,SAAS,GAAyBC,EAAQK,GAAY,GAAc,MAAVL,EAAgB,MAAO,GAAI,IAAkEvgB,EAAKjhB,EAAnEnH,EAEzF,SAAuC2oC,EAAQK,GAAY,GAAc,MAAVL,EAAgB,MAAO,GAAI,IAA2DvgB,EAAKjhB,EAA5DnH,EAAS,GAAQipC,EAAa1sC,OAAOC,KAAKmsC,GAAqB,IAAKxhC,EAAI,EAAGA,EAAI8hC,EAAWrkC,OAAQuC,IAAOihB,EAAM6gB,EAAW9hC,GAAQ6hC,EAASzjC,QAAQ6iB,IAAQ,IAAapoB,EAAOooB,GAAOugB,EAAOvgB,IAAQ,OAAOpoB,EAFxM,CAA8B2oC,EAAQK,GAAuB,GAAIzsC,OAAO4sC,sBAAuB,CAAE,IAAIC,EAAmB7sC,OAAO4sC,sBAAsBR,GAAS,IAAKxhC,EAAI,EAAGA,EAAIiiC,EAAiBxkC,OAAQuC,IAAOihB,EAAMghB,EAAiBjiC,GAAQ6hC,EAASzjC,QAAQ6iB,IAAQ,GAAkB7rB,OAAOqsC,UAAUS,qBAAqBld,KAAKwc,EAAQvgB,KAAgBpoB,EAAOooB,GAAOugB,EAAOvgB,IAAU,OAAOpoB,EAMne,IAAI,GAAqB,iBAAoB,OAAQ,CACnD+S,EAAG,kBACHD,YAAa,MAGX,GAAqB,iBAAoB,OAAQ,CACnDC,EAAG,WACHD,YAAa,MAGf,SAASg7B,GAAavE,EAAMC,GAC1B,IAAI/3B,EAAQ83B,EAAK93B,MACbg4B,EAAUF,EAAKE,QACfl1B,EAAQ,GAAyBg1B,EAAM,IAE3C,OAAoB,iBAAoB,MAAO,GAAS,CACtDp1B,MAAO,GACPiE,OAAQ,GACR1F,QAAS,YACTG,KAAM,OACNJ,MAAO,6BACPwQ,IAAKumB,EACL,kBAAmBC,GAClBl1B,GAAQ9C,EAAqB,iBAAoB,QAAS,CAC3DmJ,GAAI6uB,GACHh4B,GAAS,KAAM,GAAO,IAG3B,IAAI,GAA0B,cAAiBq8B,ICtC3C,IDuCW,ICvCC,CAAC,QAAS,YAE1B,SAAS,KAA2Q,OAA9P,GAAWvxC,OAAOksC,QAAU,SAAUzoC,GAAU,IAAK,IAAImH,EAAI,EAAGA,EAAIuhC,UAAU9jC,OAAQuC,IAAK,CAAE,IAAIwhC,EAASD,UAAUvhC,GAAI,IAAK,IAAIihB,KAAOugB,EAAcpsC,OAAOqsC,UAAUC,eAAe1c,KAAKwc,EAAQvgB,KAAQpoB,EAAOooB,GAAOugB,EAAOvgB,IAAY,OAAOpoB,IAA2B8oC,MAAM3zC,KAAMuzC,WAEhT,SAAS,GAAyBC,EAAQK,GAAY,GAAc,MAAVL,EAAgB,MAAO,GAAI,IAAkEvgB,EAAKjhB,EAAnEnH,EAEzF,SAAuC2oC,EAAQK,GAAY,GAAc,MAAVL,EAAgB,MAAO,GAAI,IAA2DvgB,EAAKjhB,EAA5DnH,EAAS,GAAQipC,EAAa1sC,OAAOC,KAAKmsC,GAAqB,IAAKxhC,EAAI,EAAGA,EAAI8hC,EAAWrkC,OAAQuC,IAAOihB,EAAM6gB,EAAW9hC,GAAQ6hC,EAASzjC,QAAQ6iB,IAAQ,IAAapoB,EAAOooB,GAAOugB,EAAOvgB,IAAQ,OAAOpoB,EAFxM,CAA8B2oC,EAAQK,GAAuB,GAAIzsC,OAAO4sC,sBAAuB,CAAE,IAAIC,EAAmB7sC,OAAO4sC,sBAAsBR,GAAS,IAAKxhC,EAAI,EAAGA,EAAIiiC,EAAiBxkC,OAAQuC,IAAOihB,EAAMghB,EAAiBjiC,GAAQ6hC,EAASzjC,QAAQ6iB,IAAQ,GAAkB7rB,OAAOqsC,UAAUS,qBAAqBld,KAAKwc,EAAQvgB,KAAgBpoB,EAAOooB,GAAOugB,EAAOvgB,IAAU,OAAOpoB,EAMne,IAAI,GAAqB,iBAAoB,OAAQ,CACnD+S,EAAG,wHAGL,SAASg7B,GAASxE,EAAMC,GACtB,IAAI/3B,EAAQ83B,EAAK93B,MACbg4B,EAAUF,EAAKE,QACfl1B,EAAQ,GAAyBg1B,EAAM,IAE3C,OAAoB,iBAAoB,MAAO,GAAS,CACtDp1B,MAAO,GACPiE,OAAQ,EACR1F,QAAS,WACTD,MAAO,6BACPwQ,IAAKumB,EACL,kBAAmBC,GAClBl1B,GAAQ9C,EAAqB,iBAAoB,QAAS,CAC3DmJ,GAAI6uB,GACHh4B,GAAS,KAAM,IAGpB,IAAI,GAA0B,cAAiBs8B,IC/B3C,IDgCW,IChCC,CAAC,QAAS,YAE1B,SAAS,KAA2Q,OAA9P,GAAWxxC,OAAOksC,QAAU,SAAUzoC,GAAU,IAAK,IAAImH,EAAI,EAAGA,EAAIuhC,UAAU9jC,OAAQuC,IAAK,CAAE,IAAIwhC,EAASD,UAAUvhC,GAAI,IAAK,IAAIihB,KAAOugB,EAAcpsC,OAAOqsC,UAAUC,eAAe1c,KAAKwc,EAAQvgB,KAAQpoB,EAAOooB,GAAOugB,EAAOvgB,IAAY,OAAOpoB,IAA2B8oC,MAAM3zC,KAAMuzC,WAEhT,SAAS,GAAyBC,EAAQK,GAAY,GAAc,MAAVL,EAAgB,MAAO,GAAI,IAAkEvgB,EAAKjhB,EAAnEnH,EAEzF,SAAuC2oC,EAAQK,GAAY,GAAc,MAAVL,EAAgB,MAAO,GAAI,IAA2DvgB,EAAKjhB,EAA5DnH,EAAS,GAAQipC,EAAa1sC,OAAOC,KAAKmsC,GAAqB,IAAKxhC,EAAI,EAAGA,EAAI8hC,EAAWrkC,OAAQuC,IAAOihB,EAAM6gB,EAAW9hC,GAAQ6hC,EAASzjC,QAAQ6iB,IAAQ,IAAapoB,EAAOooB,GAAOugB,EAAOvgB,IAAQ,OAAOpoB,EAFxM,CAA8B2oC,EAAQK,GAAuB,GAAIzsC,OAAO4sC,sBAAuB,CAAE,IAAIC,EAAmB7sC,OAAO4sC,sBAAsBR,GAAS,IAAKxhC,EAAI,EAAGA,EAAIiiC,EAAiBxkC,OAAQuC,IAAOihB,EAAMghB,EAAiBjiC,GAAQ6hC,EAASzjC,QAAQ6iB,IAAQ,GAAkB7rB,OAAOqsC,UAAUS,qBAAqBld,KAAKwc,EAAQvgB,KAAgBpoB,EAAOooB,GAAOugB,EAAOvgB,IAAU,OAAOpoB,EAMne,IAAI,GAAqB,iBAAoB,OAAQ,CACnD2gB,SAAU,UACVC,SAAU,UACV7N,EAAG,oXACHD,YAAa,GACbk7B,iBAAkB,KAGhB,GAAqB,iBAAoB,OAAQ,CACnDj7B,EAAG,wKAGL,SAASk7B,GAAS1E,EAAMC,GACtB,IAAI/3B,EAAQ83B,EAAK93B,MACbg4B,EAAUF,EAAKE,QACfl1B,EAAQ,GAAyBg1B,EAAM,IAE3C,OAAoB,iBAAoB,MAAO,GAAS,CACtDp1B,MAAO,GACPiE,OAAQ,GACR1F,QAAS,YACTG,KAAM,OACNJ,MAAO,6BACPwQ,IAAKumB,EACL,kBAAmBC,GAClBl1B,GAAQ9C,EAAqB,iBAAoB,QAAS,CAC3DmJ,GAAI6uB,GACHh4B,GAAS,KAAM,GAAO,IAG3B,IAAI,GAA0B,cAAiBw8B,I,IAChC,I,mBCyFAC,GArHa,SAAC,GAIR,IAHnB/Q,EAGkB,EAHlBA,YAIQ59B,EAAMsS,eAANtS,EAENw+B,EAOEZ,EAPFY,iBACAH,EAMET,EANFS,QACAK,EAKEd,EALFc,aACAN,EAIER,EAJFQ,eACAna,EAGE2Z,EAHF3Z,UACAiI,EAEE0R,EAFF1R,gBACA6P,EACE6B,EADF7B,OAEI6S,EAAmBrpC,KAAK0V,IAAI1V,KAAKk5B,KAAKD,EAAmB,IAAK,GAC9D/G,EAAmBtwB,GACvBxB,GAAiB+4B,EAAcN,EAAe/oC,SAAU,IAEpDw5C,EAAY9S,EAAO12B,OAAS,EAElC,OACE,uBAAKjF,UAAWC,KAAOyuC,SAAvB,UACE,gBAAC,GAAD,CACEtkB,UAAU,EACV/0B,KAAK,QACLs5C,UAAU,EACVC,OAAO,+BAJT,UAMGhrB,GAAsBC,GANzB,IAMsCjkB,EAAE,WAAY,CAAEkO,EAAG,EAAGU,EAAG,IAAM,IAClE5O,EAAE,kBAAmB,IACtB,oBACEQ,KAAI,kCAA6B0rB,GACjCzrB,OAAO,SACPC,IAAI,aAHN,SAKGwrB,EAAgBhmB,MAAM,EAAG,QAG7B0oC,EAAmB,EAClB,eAAC,GAAD,CACEpkB,UAAU,EACV/0B,KAAK,QACLu5C,OAAO,kCAHT,SAKGhvC,EAAE,cAAe,CAAEivC,MAAOL,MAG7B,gBAAC,GAAD,CACEpkB,UAAWqkB,EACXp5C,KAAK,QACLu5C,OAAO,uCAHT,UAKGhrB,GAAsBC,GAAY,IAClCjkB,EAAE,mBAAoB,CAAE0I,OAAQ+uB,IAAqB,IACrD2G,EAAe9oC,UAGlBu5C,EASE,KARF,gBAAC,GAAD,CACErkB,UAAU,EACV/0B,KAAK,QACLu5C,OAAO,+BAHT,UAKGhvC,EAAE,WAAY,CAAEkO,EAAG,EAAGU,EAAG,IAAM,IAC/B5O,EAAE,cAAe,CAAExK,KAAM6oC,EAAQ/oC,SAAW,OAGhDymC,EAAOptB,KAAI,SAAC6W,EAAO5d,GAClB,GAAmB,eAAf4d,EAAM3pB,KACR,OACE,gBAAC,GAAD,CACE2uB,UAAU,EACV/0B,KAAK,QAELu5C,OAAM,oCAA+BpnC,EAAI,GAJ3C,UAMGoc,GAAsBwB,EAAMvB,WAAY,IACxCjkB,EAAE,yBAA0B,CAC3BuG,WAAYY,GACVxB,GACE6f,EAAM6X,WACN7X,EAAMwX,UAAU3nC,SAChB,IAGJ65C,SAAU1pB,EAAMwX,UAAU1nC,OAC1BmR,SAAUU,GACRxB,GAAiB6f,EAAM+X,SAAU/X,EAAM0X,QAAQ7nC,SAAU,IAE3D85C,OAAQ3pB,EAAM0X,QAAQ5nC,WAhBnBkwB,EAAM0G,iBAoBV,GAAmB,aAAf1G,EAAM3pB,KAAqB,CACpC,IAAMuzC,EAAkBjoC,GACtBxB,GAAiB6f,EAAM9c,OAAQ8c,EAAMiY,WAAWpoC,SAAU,IAE5D,OACE,gBAAC,GAAD,CACEm1B,UAAU,EACV/0B,KAAK,QAELu5C,OAAM,oCAA+BpnC,EAAI,GAJ3C,UAMGoc,GAAsBwB,EAAMvB,WAAY,IACxCjkB,EAAE,iBAAkB,CACnB0I,OAAQ0mC,EACR55C,KAAMgwB,EAAMiY,WAAWnoC,WANpBsS,WAiBbynC,GAAe,SAAC,GAWd,IAVN7kB,EAUK,EAVLA,SACA/0B,EASK,EATLA,KACA4c,EAQK,EARLA,SACA28B,EAOK,EAPLA,OAOK,IANLD,gBAMK,SACDO,EAAS,KAQb,MAPa,UAAT75C,EACF65C,EAAS,eAAC,GAAD,IACS,UAAT75C,EACT65C,EAAS,eAAC,GAAD,IACS,UAAT75C,IACT65C,EAAS,eAAC,GAAD,KAGT,uBACElvC,UAAWmS,KACTlS,KAAOkvC,aACP/kB,EAAWnqB,KAAOsJ,OAAStJ,KAAOmvC,UAEpCC,cAAaT,GAAU,KALzB,UAOGD,EAAW,eAAC,GAAD,IAAW,KACtBO,EARH,IAQYj9B,MAKVq9B,GAAO,kBAAM,sBAAKtvC,UAAWC,KAAOsvC,gBCtKtC,I,OAAY,CAAC,QAAS,YAE1B,SAAS,KAA2Q,OAA9P,GAAW3yC,OAAOksC,QAAU,SAAUzoC,GAAU,IAAK,IAAImH,EAAI,EAAGA,EAAIuhC,UAAU9jC,OAAQuC,IAAK,CAAE,IAAIwhC,EAASD,UAAUvhC,GAAI,IAAK,IAAIihB,KAAOugB,EAAcpsC,OAAOqsC,UAAUC,eAAe1c,KAAKwc,EAAQvgB,KAAQpoB,EAAOooB,GAAOugB,EAAOvgB,IAAY,OAAOpoB,IAA2B8oC,MAAM3zC,KAAMuzC,WAEhT,SAAS,GAAyBC,EAAQK,GAAY,GAAc,MAAVL,EAAgB,MAAO,GAAI,IAAkEvgB,EAAKjhB,EAAnEnH,EAEzF,SAAuC2oC,EAAQK,GAAY,GAAc,MAAVL,EAAgB,MAAO,GAAI,IAA2DvgB,EAAKjhB,EAA5DnH,EAAS,GAAQipC,EAAa1sC,OAAOC,KAAKmsC,GAAqB,IAAKxhC,EAAI,EAAGA,EAAI8hC,EAAWrkC,OAAQuC,IAAOihB,EAAM6gB,EAAW9hC,GAAQ6hC,EAASzjC,QAAQ6iB,IAAQ,IAAapoB,EAAOooB,GAAOugB,EAAOvgB,IAAQ,OAAOpoB,EAFxM,CAA8B2oC,EAAQK,GAAuB,GAAIzsC,OAAO4sC,sBAAuB,CAAE,IAAIC,EAAmB7sC,OAAO4sC,sBAAsBR,GAAS,IAAKxhC,EAAI,EAAGA,EAAIiiC,EAAiBxkC,OAAQuC,IAAOihB,EAAMghB,EAAiBjiC,GAAQ6hC,EAASzjC,QAAQ6iB,IAAQ,GAAkB7rB,OAAOqsC,UAAUS,qBAAqBld,KAAKwc,EAAQvgB,KAAgBpoB,EAAOooB,GAAOugB,EAAOvgB,IAAU,OAAOpoB,EAMne,IAAI,GAAqB,iBAAoB,OAAQ,CACnD+S,EAAG,mBAGD,GAAqB,iBAAoB,OAAQ,CACnDA,EAAG,cAGL,SAASo8B,GAAiB5F,EAAMC,GAC9B,IAAI/3B,EAAQ83B,EAAK93B,MACbg4B,EAAUF,EAAKE,QACfl1B,EAAQ,GAAyBg1B,EAAM,IAE3C,OAAoB,iBAAoB,MAAO,GAAS,CACtDp1B,MAAO,GACPiE,OAAQ,GACR1F,QAAS,YACTG,KAAM,OACNJ,MAAO,6BACP9S,UAAW,YACXsjB,IAAKumB,EACL,kBAAmBC,GAClBl1B,GAAQ9C,EAAqB,iBAAoB,QAAS,CAC3DmJ,GAAI6uB,GACHh4B,GAAS,KAAM,GAAO,IAG3B,IAAI,GAA0B,cAAiB09B,IAChC,ICnCR,SAASC,GACdC,GAEA,OAAO7xC,GAAgC6xC,GC+K1BC,OAnJf,YAIyB,IAAD,EAHtB55B,EAGsB,EAHtBA,QACAmC,EAEsB,EAFtBA,UACAvZ,EACsB,EADtBA,KAEQiB,EAAMsS,eAANtS,EACR,EAOIoN,cAAY,SAAClK,GAAD,OAAqBA,EAAM4Q,QANzClQ,EADF,EACEA,eACAxB,EAFF,EAEEA,iBACAF,EAHF,EAGEA,iBACAsB,EAJF,EAIEA,UACAjB,EALF,EAKEA,4BACAyB,EANF,EAMEA,0BAEF,EAA6DoJ,cAC3D,SAAClK,GAAD,OAAqBA,EAAMmK,eADrBC,EAAR,EAAQA,eAAgB0J,EAAxB,EAAwBA,YAAaC,EAArC,EAAqCA,QAASC,EAA9C,EAA8CA,WAG9C,EAGIrJ,qBAAS,GAHb,oBACE2K,EADF,KAEEC,EAFF,KAIMukB,EAAYjgC,GAAWgC,EAAKX,KAAK9I,QACjC4nC,EAAUn+B,EAAKoW,GAAKpY,GAAWgC,EAAKoW,GAAG7f,QAAU,KACjDojB,EAAuBxM,SAC3B,UAAAnN,EAAKoW,UAAL,eAAShU,QACPpC,EAAKixC,kBACLn4B,GAAkB9Y,EAAKixC,iBAAiBl4B,cAEtC/Q,EAAWH,GACfrE,EACAyB,GAEI+S,EAAWH,GACf,CAAEI,cAAaC,UAASC,cACxBhV,EACAsB,GAEI2tB,EAAY0e,GAAqB,+BAA+BhtC,IACpEkU,GAEIk5B,GAA4B,OAAd3iC,QAAc,IAAdA,OAAA,EAAAA,EAAgB8Z,KAChClmB,aAAWoM,EAAe8Z,IAAIre,QAAQ,GAAI,IACvClG,IAAIsuB,GACJ7rB,IAAInH,KAAUC,KAAK,IAAIwE,IAAI,KAC9B,KACEstC,GAAoBnxC,EAAKX,KAC/B,OACE,uBAAKgC,UAAU,aAAf,UACE,8BACsBJ,EAAnBkwC,EAAqB,kBAAuB,uBAE/C,uBAAK9vC,UAAU,YAAf,UACE,uBAAKA,UAAU,OAAf,UACE,sBAAKA,UAAU,YAAYwS,IAAKoqB,EAAUvnC,KAAMqd,IAAI,SACpD,uBAAM1S,UAAU,YAAhB,SAA6BrB,EAAKX,KAAK9I,SACvC,sBAAK8K,UAAU,aAAf,SACE,gCAAO+G,GAAQpI,EAAKX,KAAK+C,cAI5BpC,EAAKoW,IACJ,uCACE,eAAC,GAAD,CAAe/U,UAAU,cACzB,uBAAKA,UAAU,KAAf,UACE,sBAAKA,UAAU,YAAYwS,IAAG,OAAEsqB,QAAF,IAAEA,OAAF,EAAEA,EAASznC,KAAMqd,IAAI,SACnD,uBAAM1S,UAAU,YAAhB,SAA6BrB,EAAKoW,GAAG7f,SACrC,sBAAK8K,UAAU,aAAf,SACE,gCAAO+G,GAAQpI,EAAKoW,GAAGhU,iBAM/B,sBAAKf,UAAU,UAAU6T,MAAO,CAAE4E,OAAQ,MAAOjE,MAAO,UACxD,uBAAKxU,UAAU,WAAf,UACGrB,EAAKixC,kBACJ,uBAAK5vC,UAAU,aAAf,UACE,uBAAMA,UAAU,QAAhB,SAAyBJ,EAAE,kBAAwB,IACnD,uBAAMI,UAAU,OAAhB,SAAwBrB,EAAKixC,iBAAiBG,OAC9C,uBAAM/vC,UAAU,mBAAhB,SACGuF,GAAiB5G,EAAKixC,iBAAiBI,aAAc,GAAI,QAKhE,uBAAKhwC,UAAU,MAAf,UACE,uBAAMA,UAAU,QAAhB,SAAyBJ,EAAE,SAC3B,wBAAMI,UAAU,mBAAhB,UACGiX,GACC,CAAEL,cAAaC,UAASC,cACxBhV,EACAsB,GACC,IALL,aASDysC,GACC,uBAAK7vC,UAAU,MAAf,UACE,uBAAMA,UAAU,QAAhB,SAAyBJ,EAAE,qBAC3B,uBAAMI,UAAU,mBAAhB,0BACQ+G,GAAQxB,GAAiBsqC,EAAa,EAAG,UAIrD,uBAAK7vC,UAAU,MAAf,UACE,uBAAMA,UAAU,QAAhB,SAAyBJ,EAAE,iBAC3B,wBAAMI,UAAU,mBAAhB,UACGwX,GAAuBxV,EAAkBwB,GAD5C,UAIF,uBAAKxD,UAAU,MAAf,UACE,uBAAMA,UAAU,QAAhB,SAAyBJ,EAAE,cAC3B,wBAAMI,UAAU,mBAAhB,UACG2G,EADH,IACc/G,EAAE,iBAGjB0Y,GACC,sBAAKtY,UAAU,MAAf,SACE,eAAC,GAAD,CACE4S,QAASwF,EACT7B,QAAS,kBACP8B,GAA+B,SAACS,GAAD,OAAgBA,gBAO3D,uBAAK9Y,UAAU,SAAf,UACE,6BAAIJ,EAAE,qBACN,uBAAKI,UAAU,gBAAf,UACE,eAAC,GAAD,CACEmU,QAAS+D,EACT/B,KAAK,UACL4C,SAAUT,IAAyBF,EAHrC,SAKGxY,EAAE,iBAEL,eAAC,GAAD,CAAQuU,QAAS4B,EAASI,KAAK,SAA/B,SACGvW,EAAE,sB,qBCiHAqwC,GA/PU,SAAC,GAML,IALnBzS,EAKkB,EALlBA,YACAznB,EAIkB,EAJlBA,QAMEqoB,EAMEZ,EANFY,iBACAH,EAKET,EALFS,QACAK,EAIEd,EAJFc,aACAN,EAGER,EAHFQ,eACA3B,EAEEmB,EAFFnB,OACA7+B,EACEggC,EADFhgC,SAEMoC,EAAMsS,eAANtS,EACR,EAOIoN,cAAY,SAAClK,GAAD,OAAqBA,EAAM4Q,QANzClQ,EADF,EACEA,eACAxB,EAFF,EAEEA,iBACAF,EAHF,EAGEA,iBACAsB,EAJF,EAIEA,UACAjB,EALF,EAKEA,4BACAyB,EANF,EAMEA,0BAEF,EAA6DoJ,cAC3D,SAAClK,GAAD,OAAqBA,EAAMmK,eADrBC,EAAR,EAAQA,eAAgB0J,EAAxB,EAAwBA,YAAaC,EAArC,EAAqCA,QAASC,EAA9C,EAA8CA,WAGxCskB,EAAiB5wB,KACvB,EAA8CiD,oBAG3C,CACD1K,OAAQ,KACRuF,OAAQhG,OALV,oBAAO4tC,EAAP,KAAwBC,EAAxB,KAOA,EAGI1iC,oBAA2B,MAH/B,oBACE2iC,EADF,KAEEC,EAFF,KAIA,EAAsC5iC,oBACf,IAArB2wB,EAAyB,WAAa,SADxC,oBAAOkS,EAAP,KAAoBC,EAApB,KAGA3iC,sBAAU,WAEY,UAAhB0iC,GAAgD,IAArBlS,GAC7BmS,EAAe,cAEhB,CAACnS,EAAkBkS,IACtB1iC,sBAAU,WAAM,8CACd,6BAAAE,EAAA,yDAEKstB,IACD8U,EAAgB5nC,OAAO2F,WACtBzQ,IAAajB,GAAWmB,gBACvBF,IAAajB,GAAWqB,gBAL9B,wEAQiCw9B,QARjC,IAQiCA,OARjC,EAQiCA,EAAgBoV,oBAC7CnU,EACA6T,EAAgB5nC,QAVpB,OAQQmoC,EARR,OAYEJ,EAAyBI,GAZ3B,4CADc,uBAAC,WAAD,wBAeTC,KACJ,CAACtV,EAAgB8U,EAAiB7T,EAAQ7+B,IAE7C,IAAMmZ,EAAWH,GACf,CAAEI,cAAaC,UAASC,cACxBhV,EACAsB,GACAX,IAAI1E,KAAUC,KAAK,IAAIwE,IAAI,IACvBmuC,EAA8BrxB,wBAClC,SAACvc,EAA+BuF,GAC9B6nC,EAAmB,CACjBptC,SACAuF,WAEFioC,EAAe,YAEjB,CAACJ,IAGGS,EAA0BtxB,uBAAW,wBAAC,mCAAAxR,EAAA,kEAExCyiC,EAAe,gBACTM,EAAU,CAAEl6B,YAEa,aAA3Bu5B,EAAgBntC,OALoB,uCAMlBq4B,QANkB,IAMlBA,OANkB,EAMlBA,EAAgB3E,SAClC4F,EACA6T,EAAgB5nC,OAChBuoC,GAToC,OAMtCnxC,EANsC,iCAYX,WAA3BwwC,EAAgBntC,QACfvF,IAAajB,GAAWmB,gBACvBF,IAAajB,GAAWqB,gBACD,MAAzBwyC,EAfsC,wBAiBhCzpC,EAAWxB,KAAK2J,OACpB,IAAIiV,MAAOyf,UAAY,IACrB,GACEh9B,GACErE,EACAyB,IAtB8B,iBAyBlBw3B,QAzBkB,IAyBlBA,OAzBkB,EAyBlBA,EAAgB0V,gBAClCzU,EACA6T,EAAgB5nC,OAChBiP,GACE64B,EACApuC,EACAwB,GAEFmD,EACAkqC,GAlCoC,QAyBtCnxC,EAzBsC,kCAqCX,WAA3BwwC,EAAgBntC,QAChBvF,IAAajB,GAAWoB,eAtCc,yCAwClBy9B,QAxCkB,IAwClBA,OAxCkB,EAwClBA,EAAgB2V,gBAAgB1U,EAAQwU,GAxCtB,QAwCtCnxC,EAxCsC,sCA0CtCkK,QAAQD,MAAM,gCACdC,QAAQonC,MAAM,CACZ,CAAC,SAAUd,EAAgBntC,QAC3B,CAAC,YAAavF,GACd,CAAC,cAAe0yC,EAAgB5nC,OAAOhH,cA9CH,kCAkDxC5B,GAAeJ,GAAcI,EAAYH,KAAM,QAlDP,oBAmDlCG,SAnDkC,aAmDlC,EAAagtB,OAnDqB,QAoDxC3W,IApDwC,kDAsDxCnM,QAAQD,MAAR,MAtDwC,0DAwDzC,CACDumC,EACA9U,EACAiB,EACA+T,EACAz5B,EACAZ,EACAvS,EACAxB,EACAxE,EACAoG,EACAzB,IAGIqsC,EAAmBrpC,KAAK0V,IAAI1V,KAAKk5B,KAAKD,EAAmB,IAAK,GAC9DnB,EACuB,WAA3BiT,EAAgBntC,QAChBvF,IAAajB,GAAWoB,eACpB2gC,EACA4R,EAAgB5nC,OAChBqlC,EAAwB5mC,GAC5BxB,GAAiB+4B,EAAcN,EAAe/oC,SAAU,IAG1D,OACE,wCACoB,UAAhBq7C,GAA2C,aAAhBA,IAC3B,uBAAKtwC,UAAWC,KAAOgxC,iBAAvB,UACE,sBAAKjxC,UAAWC,KAAOixC,cAAvB,SACE,qBAAGlxC,UAAWC,KAAO6R,MAArB,UACG67B,EADH,IAC2B3P,EAAe9oC,OAD1C,IACmD,KAAM,IACtD+oC,EAAQ/oC,YAGb,uBAAK8K,UAAWC,KAAOkxC,cAAvB,UACmB,UAAhBb,GACC,sBAAKtwC,UAAWC,KAAO01B,MAAvB,SACE,gCACG6Y,EADH,IACsB5uC,EAAE,qBAIX,aAAhB0wC,GACC,eAAC,GAAD,CACE9S,YAAaA,EACb+P,wBAAyBoD,OAI/B,uBAAK3wC,UAAWC,KAAOmxC,cAAvB,UACE,oBAAGpxC,UAAWC,KAAO6R,MAArB,SAA6BlS,EAAE,kBAC/B,eAAC,GAAD,CAAqB49B,YAAaA,IAClC,uBAAKx9B,UAAWC,KAAOoxC,MAAvB,UACE,eAAC,GAAD,IACA,oBACEjxC,KAAK,8DACLC,OAAO,SACPC,IAAI,aAHN,SAKGV,EAAE,+BAMI,WAAhB0wC,GACC,eAAC,GAAD,CACEv6B,QAASA,EACTmC,UAAW04B,EACXjyC,KAAI,aACFX,KAAM,CACJ9I,OAAQ8oC,EAAe9oC,OACvB6L,MAAOM,aAAY47B,EAAYe,EAAe/oC,WAEhDuI,YAC+B,WAA3B0yC,EAAgBntC,OAChB,CACEgS,GAAI,CACF7f,OAAQ+oC,EAAQ/oC,OAChB6L,MAAOM,aACL+uC,GAAyB9tC,KACzB27B,EAAQhpC,WAGZ26C,iBAAkB,CAChBG,KAAK,GAAD,OAAK/R,EAAe9oC,OAApB,YAA8B+oC,EAAQ/oC,QAC1CwiB,YAAa04B,EACTv4B,GACExP,GACE40B,EADY,OAEZ/vB,QAFY,IAEZA,OAFY,EAEZA,EAAiB8wB,EAAe9oC,QAChC8oC,EAAe/oC,UAEjBoT,GACE+nC,GAAyB9tC,KADb,OAEZ4K,QAFY,IAEZA,OAFY,EAEZA,EAAiB+wB,EAAQ/oC,QACzB+oC,EAAQhpC,WAGZqN,KACJ0tC,aAAc9pC,GACZgqC,EAAgB5nC,OAChB01B,EAAe/oC,SACfm7C,GAAyB9tC,KACzB27B,EAAQhpC,YAId,MAIO,iBAAhBq7C,GAAkC,eAAC,GAAD,QCzR1B,OAA0B,sCCmKzC,SAASgB,GAAT,GAA8D,IAAlC3yC,EAAiC,EAAjCA,KACpBi+B,EAAYjgC,GAAWgC,EAAKX,KAAK9I,QACjC4nC,EAAUngC,GAAWgC,EAAKoW,GAAG7f,QACnC,OACE,uCACE,uBAAK8K,UAAU,MAAf,UACE,uBAAK6T,MAAO,CAAEQ,QAAS,QAAvB,UACE,sBAAKrU,UAAU,YAAYwS,IAAKoqB,EAAUvnC,KAAMqd,IAAI,SACpD,uBAAM1S,UAAU,YAAhB,SAA6BrB,EAAKX,KAAK9I,YAEzC,+BACE,gCAAOyJ,EAAKX,KAAK+C,aAGrB,sBAAKyR,IAAK++B,GAAU7+B,IAAI,KAAK1S,UAAU,cACvC,uBAAKA,UAAU,MAAf,UACE,uBAAK6T,MAAO,CAAEQ,QAAS,QAAvB,UACE,sBAAKrU,UAAU,YAAYwS,IAAKsqB,EAAQznC,KAAMqd,IAAI,SAClD,uBAAM1S,UAAU,YAAhB,SAA6BrB,EAAKoW,GAAG7f,YAGvC,+BACE,gCAAOyJ,EAAKoW,GAAGhU,gBAOzB,SAASywC,GAAT,GAA+D,IAAlC7yC,EAAiC,EAAjCA,KACnBiB,EAAMsS,eAANtS,EAER,OACE,qCACGjB,EAAKixC,iBAAiBj0C,MAAM4S,KAAI,SAACrZ,EAAQsS,GACxC,IAAMiqC,EAAgB,IAANjqC,EACVkqC,EAASlqC,IAAM7I,EAAKixC,iBAAiBj0C,MAAMsJ,OAAS,EACpD9H,EAAQR,GAAWzH,GACzB,OACE,uBAAK8K,UAAU,MAAf,UACE,kCACIyxC,IAAYC,GAAU,eAAC,GAAD,CAAe1xC,UAAU,cACjD,sBAAKA,UAAU,YAAYwS,IAAKrV,EAAM9H,KAAMqd,IAAI,SAChD,uBAAM1S,UAAW0rC,KAAW,YAAa,CAAEiG,KAAMD,IAAjD,SACGv0C,EAAMjI,UAGPu8C,GAAWC,IACX,wBAAM1xC,UAAU,QAAhB,UACG,IADH,IAGGJ,EAAE,QAAS,CACVgyC,KAAMH,EAAU,EAAI,IAJxB,UAUJ,iCACGA,GAAW,gCAAO9yC,EAAKX,KAAK+C,QAC5B2wC,GAAU,uBAAM1xC,UAAU,OAAhB,SAAwBrB,EAAKoW,GAAGhU,aArBrB7L,QA8BrB28C,OAjMf,YAAwE,IAAD,EAAjD97B,EAAiD,EAAjDA,QAASmC,EAAwC,EAAxCA,UAAWvZ,EAA6B,EAA7BA,KAChCiB,EAAMsS,eAANtS,EACR,EAKIoN,cAAY,SAAClK,GAAD,OAAqBA,EAAM4Q,QAJzClQ,EADF,EACEA,eACAxB,EAFF,EAEEA,iBACAF,EAHF,EAGEA,iBACAsB,EAJF,EAIEA,UAEF,EAA6C4J,cAC3C,SAAClK,GAAD,OAAqBA,EAAMmK,eADrB2J,EAAR,EAAQA,YAAaC,EAArB,EAAqBA,QAASC,EAA9B,EAA8BA,WAG9B,EAGIrJ,qBAAS,GAHb,oBACE2K,EADF,KAEEC,EAFF,KAIMC,EAAuBb,GAC3B9Y,EAAKixC,iBAAiBl4B,aAElB+zB,EAAgBluC,GAAiBoB,EAAKnB,UAE5C,OACE,uBAAKwC,UAAU,aAAf,UACE,8BAAKJ,EAAE,gBACP,uBAAKI,UAAU,YAAf,UACGyrC,EACC,eAAC+F,GAAD,CAAmB7yC,KAAMA,IAEzB,eAAC2yC,GAAD,CAAkB3yC,KAAMA,IAEzBA,EAAKnB,WAAajB,GAAWkB,gBAC5B,sBAAKuC,UAAU,MAAf,SACE,wBAAMA,UAAU,QAAhB,UACGJ,EAAE,+BAAgC,IACnC,oBAAGQ,KAAK,8DAAR,SACGR,EAAE,oBAKX,sBAAKI,UAAU,UAAU6T,MAAO,CAAE4E,OAAQ,MAAOjE,MAAO,UACxD,uBAAKxU,UAAU,WAAf,UACE,uBAAKA,UAAU,aAAf,UACE,wBAAMA,UAAU,QAAhB,UAAyBJ,EAAE,SAA3B,OACA,uBAAMI,UAAU,OAAhB,SAAwBrB,EAAKixC,iBAAiBG,OAC9C,yBAAQ/vC,UAAU,WAAlB,SACE,uBACEwU,MAAM,KACNiE,OAAO,KACP1F,QAAQ,YACRG,KAAK,OACLJ,MAAM,6BALR,UAOE,uBACEM,EAAE,kUACFF,KAAK,YAEP,uBACEE,EAAE,mUACFF,KAAK,iBAIX,uBAAMlT,UAAU,mBAAhB,SACGuF,GAAiB5G,EAAKixC,iBAAiBI,aAAc,GAAI,QAG9D,uBAAKhwC,UAAU,MAAf,UACE,uBAAMA,UAAU,QAAhB,SAAyBJ,EAAE,SAC3B,wBAAMI,UAAU,mBAAhB,UACGiX,GACC,CAAEL,cAAaC,UAASC,cACxBhV,EACAsB,GACC,IALL,cASD,UAAAzE,EAAKga,kBAAL,eAAiBC,WAChB,uBAAK5Y,UAAU,MAAf,UACE,uBAAMA,UAAU,QAAhB,SAAyBJ,EAAE,qBAC3B,uBAAMI,UAAU,mBAAhB,0BACQ+G,GACJxB,GAAiB5G,EAAKga,WAAWC,SAAU,EAAG,UAKtD,uBAAK5Y,UAAU,MAAf,UACE,uBAAMA,UAAU,QAAhB,SAAyBJ,EAAE,iBAC3B,wBAAMI,UAAU,mBAAhB,UACGwX,GAAuBxV,EAAkBwB,GAD5C,UAID8U,GACC,sBAAKtY,UAAU,MAAf,SACE,eAAC,GAAD,CACE4S,QAASwF,EACT7B,QAAS,kBACP8B,GAA+B,SAACS,GAAD,OAAgBA,gBAO3D,uBAAK9Y,UAAU,SAAf,UACE,6BAAIJ,EAAE,qBACN,uBAAKI,UAAU,gBAAf,UACE,eAAC,GAAD,CACEmU,QAAS+D,EACT/B,KAAK,UACL4C,SAAUT,IAAyBF,EAHrC,SAKGxY,EAAE,iBAEL,eAAC,GAAD,CAAQuU,QAAS4B,EAASI,KAAK,SAA/B,SACGvW,EAAE,sBC8QAkyC,GA3WE,SAACl9B,GAChB,IAAQhV,EAAMsS,eAANtS,EACAyE,EAAY+E,KAAZ/E,QAEN0tC,EAaEn9B,EAbFm9B,aACAnC,EAYEh7B,EAZFg7B,iBACAj3B,EAWE/D,EAXF+D,WACAhP,EAUEiL,EAVFjL,MACAqoC,EASEp9B,EATFo9B,UACAC,EAQEr9B,EARFq9B,QACAlW,EAOEnnB,EAPFmnB,aACAv+B,EAMEoX,EANFpX,SACA00C,EAKEt9B,EALFs9B,kBACAC,EAIEv9B,EAJFu9B,mBACAC,EAGEx9B,EAHFw9B,gBACAxnB,EAEEhW,EAFFgW,qBACAynB,EACEz9B,EADFy9B,gCAGF,EAAwC5kC,oBAAwB,MAAhE,oBAAOod,EAAP,KAAqBC,EAArB,KACA,EAA8Brd,yBAA6B5H,GAA3D,oBAAOklB,EAAP,KAAgBC,EAAhB,KACA,EAAkDvd,oBAChD,MADF,oBAAO6kC,EAAP,KAA0BC,EAA1B,KAGA,EAA6CvlC,cAC3C,SAAClK,GAAD,OAAqBA,EAAM4Q,QADrBlQ,EAAR,EAAQA,eAAgBxB,EAAxB,EAAwBA,iBAIlB46B,EAAYlzB,oBAAQ,WACxB,OAAOqoC,EAAa/zC,KAAKmK,MAAK,qBAAGjT,SAAwB88C,EAAU98C,YAClE,CAAC68C,EAAa/zC,KAAMg0C,EAAU98C,SAE3Bs9C,EAAuBzrC,GAC3BhB,GAAwB6pC,EAAiBl4B,YAAa,KAElD+6B,EAAwB1rC,GAC5BxB,GAAiBqqC,EAAiBI,aAAc,GAAI,IAEhD0C,EAAiB9C,EAAiBj0C,MAAMgM,KAAK,OAC7C0vB,EAAmBtwB,GACvBxB,IAA0B,OAATq3B,QAAS,IAATA,OAAA,EAAAA,EAAWt0B,SAAUhG,MAAe,OAATs6B,QAAS,IAATA,OAAA,EAAAA,EAAW3nC,WAAY,EAAG,IAElEw2C,EAAgBluC,GAAiBC,GACjCm1C,EACJ3wC,IAAqBR,GAAUS,UAC9BD,IAAqBR,GAAU8B,QAC9ByL,YAAyB,OAAdvL,QAAc,IAAdA,OAAA,EAAAA,EAAgB/C,WAAY,KAAO,GAElD,OACE,uBAAKT,UAAU,WAAf,UACE,eAAC,GAAD,CAASkqB,UAAW,SACpB,uBAAKlqB,UAAU,UAAf,UACE,uBAAKA,UAAU,aAAf,UACE,qBAAIA,UAAU,YAAd,SAA2BJ,EAAE,UAC7B,eAAC,GAAD,CACEsV,gBAAiB,CACf,aAAc,qBACdT,QAAS,UACT2B,KAAM,KACN/gB,KAAM,eAAC,KAAD,CAAW+gB,KAAK,SACtBtE,MAAO,sBAETqD,mBAAoB,eAAC5B,GAAD,SAGxB,uBAAKvT,UAAU,WAAf,UACE,uBAAKA,UAAU,MAAf,UACE,qBAAIA,UAAU,YAAd,SAA2BJ,EAAE,UAC7B,uBAAKI,UAAU,mBAAf,UACE,kCAAOJ,EAAE,WAAT,OADF,OAGE,oBACEuU,QAAS,WACP,GAAiB,MAAbyoB,EAAJ,CACA,IAAMgW,EAASrtC,GACbq3B,EAAUt0B,OACVs0B,EAAU3nC,UAAY,GAExBk9C,EAAmBS,KAPvB,SAUGvb,UAIP,sBAAKr3B,UAAU,MAAf,SACE,eAACgsC,GAAD,CACE1/B,OAAQylC,EAAa/zC,KAAK+J,QACxB,qBAAG7S,SAAwB+8C,EAAQ/8C,UAErCk1C,SAAU8H,EACV9F,eAAgB+F,EAChBj+B,SAAU89B,EAAU98C,OACpB+L,WAAY+wC,EAAUjxC,MACtBmrC,cAAe8F,EAAUp5B,SACzBuzB,YAAY,MAGhB,uBAAKnsC,UAAU,0BAAf,UACE,qBAAIA,UAAU,YAAd,SAA2BJ,EAAE,QAC7B,gBAAC,KAAD,CACE6U,QAAQ,QACRD,MAAM,OACN4B,KAAK,KACLjC,QAASk+B,EACTt5B,UAAWi5B,EAAU98C,SAAW+8C,EAAQ/8C,OAL1C,UAOE,eAAC,KAAD,CAAWkhB,KAAK,QAChB,eAAC,KAAD,CAAaA,KAAK,cAGtB,sBAAKpW,UAAU,MAAf,SACE,eAACgsC,GAAD,CACE1/B,OAAQylC,EAAah9B,GAAGhN,QACtB,qBAAG7S,SAAwB88C,EAAU98C,UAEvCk1C,SAAUgI,EACVl+B,SAAU+9B,EAAQ/8C,OAClB+L,WAAYgxC,EAAQlxC,MACpBmrC,cAAe+F,EAAQr5B,SACvBuzB,YAAY,MAGhB,sBAAKt4B,MAAO,CAAE4E,OAAQ,UACrBu5B,EAAU98C,QAAU+8C,EAAQ/8C,QAC3B,uBAAK8K,UAAU,MAAf,UACE,iCACE,gCAAOJ,EAAE,UADX,OAGE,gCAAOgwC,EAAiBG,OAH1B,UAwBA,uBAAM/vC,UAAU,WAAhB,SAA4ByyC,OAGhC,uBAAKzyC,UAAU,MAAf,UACE,gCAAOJ,EAAE,iBACT,gCAAO4yC,OAERE,GACC,uCACE,uBAAK1yC,UAAU,MAAf,UACE,gCAAOJ,EAAE,WACT,gCAAO8yC,OAERjH,GACC,uBAAKzrC,UAAU,MAAf,UACE,0BACA,gCACE,qBACEI,KAAK,8DACLyT,MAAO,CAAE6X,eAAgB,aACzBrrB,OAAO,SACPC,IAAI,aAJN,cAMIV,EAAE,eANN,YAWL6rC,GAAiBkH,GAChB,sBAAK3yC,UAAU,kBAAf,SACGJ,EAAE,yCAMZyE,GAAWoT,GAAkBm4B,EAAiBl4B,aAC7C,sBAAK1X,UAAU,kBAAf,SACGJ,EAAE,kBAAmB,CACpBizC,KAAML,MAGR,KACH/G,GACC,uBAAKzrC,UAAU,wBAAf,UACE,eAAC,GAAD,IACCJ,EAAE,kCAFL,IAEyC,IACvC,oBACEQ,KAAK,8DACLC,OAAO,SACPC,IAAI,aAHN,SAKGV,EAAE,eAEJ,OAIL,sBAAKI,UAAU,eAAf,SACG+7B,EAAaxtB,KAAI,SAACivB,GAAiB,IAAD,EAC3BmQ,EAAwB5mC,GAC5B1F,aACEm8B,EAAYc,aACZd,EAAYQ,eAAe/oC,WAG/B,OACE,uBACE+K,UAAU,kBAEVmU,QAAS,WACPo+B,EAAqB/U,EAAYnB,QACjCvR,EAAgB,gBALpB,UAQE,wBAAM9qB,UAAU,cAAhB,UACG2tC,EADH,IAC2BnQ,EAAYQ,eAAe9oC,OAAQ,IAC3D,KAFH,IAEUsoC,EAAYS,QAAQ/oC,UAE9B,uBAAK8K,UAAU,oBAAf,UACE,uBACEwU,MAAM,KACNiE,OAAO,KACP1F,QAAQ,YACRG,KAAK,OACLJ,MAAM,6BALR,UAOE,uBACEkO,SAAS,UACTC,SAAS,UACT7N,EAAE,oXACFF,KAAK,QACL0W,OAAO,QACPzW,YAAY,MACZk7B,iBAAiB,OAEnB,uBACEj7B,EAAE,kRACFF,KAAK,QACL0W,OAAO,QACPzW,YAAY,WAGhB,wBAAMnT,UAAU,WAAhB,UACGmF,KAAKk5B,KAAKb,EAAYY,iBAAmB,IAD5C,gBApCJ,UAEOZ,EAAYnB,cAFnB,aAEO,EAAoB/6B,iBA0CjC,eAAC,KAAD,CAAQkT,MAAM,OAAOxU,UAAU,sBAA/B,SACE,eAAC,KAAD,CACEyU,QAAQ,UACR2B,KAAK,KACL5B,MAAM,OACNL,QAAS,WACP2W,EAAgB,WAElB/R,WAAYpP,IAAUsoC,EAAQlxC,OAAS,EAPzC,SASGnB,EAAE,YAGP,sBAAKI,UAAWmS,KAAW,CAAE2gC,YAAanpC,GAAS,SAAnD,SACGA,IAEH,gBAAC,GAAD,CACEmM,SAAU+U,EACV9U,QAAS,kBAAY+U,EAAgB,OAFvC,UAIoB,WAAjBD,EACC,eAAC,GAAD,CACE9U,QAAS,kBAAY+U,EAAgB,OACrC5S,UAAW,WACT8S,OAAWnlB,GACXilB,EAAgBlZ,GAAUG,SAC1ByV,GAAS,OAAQ,CACfxpB,KAAMg0C,EAAU98C,OAChB6f,GAAIk9B,EAAQ/8C,SAEM,OAApB01B,QAAoB,IAApBA,OACGzc,MAAK,SAACC,IACL,OAAIA,QAAJ,IAAIA,OAAJ,EAAIA,EAAKyd,QACPf,EAAgBlZ,GAAUW,UAE1BuY,EAAgBlZ,GAAUS,QAC1B2Y,EAAU,OAAC5c,QAAD,IAACA,OAAD,EAACA,EAAK0d,qBAGnBhG,OAAM,WACLgF,EAAgBlZ,GAAUS,YAGhC1T,KAAM,CACJX,KAAMg0C,EACNj9B,GAAIk9B,EACJrC,mBACAj3B,aACAnb,cAGF,KACHqtB,IAAiBjZ,GAAUG,QAC1B,eAAC,GAAD,IACE8Y,IAAiBjZ,GAAUS,OAC7B,eAAC,GAAD,CACEP,MAAOlS,EAAE,eACTnE,KAAMmW,GAAUS,OAChBL,YACG+Y,OAAsDllB,EAA5CjG,EAAE,oBAAqB,CAAEmsB,GAAInsB,EAAE,UAJ9C,SAOGmrB,GACC,gBAACS,GAAA,EAAD,CAAOC,QAAQ,WAAW7rB,EAAGA,EAA7B,UACG,CAAEmsB,GAAInsB,EAAE,SACT,oBACEQ,KAAM1B,GAAiBqsB,EAAS,MAChC1qB,OAAO,SACPC,IAAI,aACJuT,MAAO,CAAE6X,eAAgB,YAAa9J,OAAQ,GAJhD,8BAWJiJ,IAAiBjZ,GAAUW,QAC7B,eAAC,GAAD,CACET,MAAOlS,EAAE,gBACToS,YAAapS,EAAE,oBACfnE,KAAMmW,GAAUW,UAEhB,KACc,gBAAjBsY,EACC,eAAC,GAAD,CACE2S,YACEzB,EAAa5zB,MACX,SAACsY,GAAD,OAAOA,EAAE4b,SAAWiW,KAGxBv8B,QAAS,WACP+U,EAAgB,MAChBynB,EAAqB,SAGvB,e,UClVd,IAAMQ,GAAmB,CACvBppC,MAAO,KACP3L,KAAM,CACJ9I,OAAQ,GACR6L,MAAO,MACP6X,SAAUtW,MAEZyS,GAAI,CACF7f,OAAQ,GACR6L,MAAOuB,KACPsW,SAAUtW,KACV0wC,WAAY1wC,MAEdoV,YAAapV,KACb0tC,aAAc1tC,KACd3G,MAAO,GACP6B,SAAUjB,GAAWuB,QACrBm1C,iBAAkB,IA4eLC,OAzef,WACE,IAAQtzC,EAAMsS,eAANtS,EACAf,EAAYuK,KAAZvK,QACFs0C,EC/DD,WAGL,IAAM3/B,EAAWC,eACX0a,EAAiBhjB,KACvB,EAA6B/B,KAArB/E,EAAR,EAAQA,QAASxF,EAAjB,EAAiBA,QACjB,EAA+DmO,cAC7D,SAAClK,GAAD,OAAqBA,EAAM4Q,QADrBlQ,EAAR,EAAQA,eAAgBxB,EAAxB,EAAwBA,iBAAkBE,EAA1C,EAA0CA,iBAG1C,gDAAO,WACLY,GADK,wDAAAgL,EAAA,kEAIEzJ,EAJF,sBAIiB,IAAIE,MAAM,4BAJ3B,UAKCzB,EAAMtF,WAAajB,GAAW0B,QAAW6E,EAAMiK,aALhD,sBAMK,IAAIxI,MAAM,+BANf,UAOCzB,EAAMtF,WAAajB,GAAW0B,QAAW6E,EAAMs4B,eAPhD,sBAQK,IAAI72B,MAAM,iCARf,eASasB,IAAZhH,EATD,sBAS8B,IAAI0F,MAAM,iBATxC,UAWGkqB,EAXH,OAWmBN,QAXnB,IAWmBA,OAXnB,EAWmBA,EAAiBrrB,EAAM9E,KAAK9I,QAC5CyhB,EAAWrU,KAWI,MAAjBmsB,EAvBD,0DAwBC2kB,EAAmB,GAErBA,EADEtwC,EAAMtF,WAAajB,GAAW0B,OAChB,UAAG6E,EAAMiK,oBAAT,aAAG,EAAoB7I,QAEvB,UAAGpB,EAAMs4B,sBAAT,aAAG,EAAsBl3B,QA5BxC,UA8BG8nB,GACJyC,EACA2kB,EACA/uC,EACAvB,EAAM9E,KAAKsK,OACXpG,EACAyU,EACA,CACEkW,mBAAoB,WAClB,MAAM,IAAItoB,MAAM,8CAvCnB,WA4CCzB,EAAMtF,WAAajB,GAAWqB,eA5C/B,wBA6CKwqC,EAAa9sC,GAAUwH,EAAM9E,KAAK7B,UAClCksC,EAAkB/sC,GAAUwH,EAAMiS,GAAG5Y,UACrCwgC,EAAO,CACX,CACEyL,EAAWpzC,UAAU6J,GACrBwpC,EAAgBrzC,UAAU6J,IAE5BiE,EAAM9E,KAAKqpC,WACXvkC,EAAMiS,GAAGsyB,WACTvkC,EAAM9E,KAAKsK,OACXiP,GACEzU,EAAMiS,GAAGs+B,kBACTrxC,EACAwB,GAEF,CAAEmT,aAEJ/M,QAAQ8d,MAAM,sBAAuBiV,GA9DpC,WA+DwB,EAAA75B,EAAMs4B,gBAA0BkY,aAAjC,QACnB3W,GAhEJ,QA+DD4W,EA/DC,kCAkEQzwC,EAAMtF,WAAajB,GAAWmB,eAlEtC,wBAmEK2qC,EAAkB/sC,GAAUwH,EAAMiS,GAAG5Y,UACrCwgC,EAAO,CACX0L,EAAgBrzC,UAAU6J,GAC1B20C,KAAMC,oBAAoB3wC,EAAM9E,KAAK9I,QACrC4N,EAAMiS,GAAGsyB,WACTvkC,EAAM9E,KAAKsK,OACXiP,GACEzU,EAAMiS,GAAGs+B,kBACTrxC,EACAwB,GAEF,CAAEmT,aAEJ/M,QAAQ8d,MAAM,sBAAuBiV,GAhFpC,WAiFwB,EAAA75B,EAAMs4B,gBAA0BsY,aAAjC,QACnB/W,GAlFJ,QAiFD4W,EAjFC,kCAoFQzwC,EAAMtF,WAAajB,GAAWoB,eApFtC,wBAqFKyqC,EAAa9sC,GAAUwH,EAAM9E,KAAK7B,UAClCwgC,EAAO,CACXyL,EAAWpzC,UAAU6J,GACrBiE,EAAM9E,KAAKqpC,WACXmM,KAAMC,oBAAoB3wC,EAAMiS,GAAG7f,QACnC4N,EAAM9E,KAAKsK,OACXiP,GAAiBzU,EAAMiS,GAAGzM,OAAQtG,EAAkBwB,GACpD,CAAEmT,aAEJ/M,QAAQ8d,MAAM,sBAAuBiV,GA9FpC,WA+FwB,EAAA75B,EAAMs4B,gBAA0BuY,aAAjC,QACnBhX,GAhGJ,QA+FD4W,EA/FC,kCAkGQzwC,EAAMtF,WAAajB,GAAW0B,OAlGtC,oBAoGuB,SAAtB6E,EAAM9E,KAAK9I,QACW,UAAtB4N,EAAM9E,KAAK9I,QACW,WAAtB4N,EAAM9E,KAAK9I,QACS,SAApB4N,EAAMiS,GAAG7f,QACW,UAApB4N,EAAMiS,GAAG7f,QACW,WAApB4N,EAAMiS,GAAG7f,OAzGV,wBA2GOynC,EAAO,CACX75B,EAAM9E,KAAKqpC,WACXvkC,EAAMiS,GAAGsyB,WACTvkC,EAAM9E,KAAKsK,OACXiP,GAAiBzU,EAAMiS,GAAGzM,OAAQtG,EAAkBwB,GACpD,CAAEmT,aAEJ/M,QAAQ8d,MAAM,+BAAgCiV,GAlH/C,WAmH0B,EAAA75B,EAAMiK,cAE5B6mC,oBAFqB,QAEEjX,GArH3B,QAmHC4W,EAnHD,sCAuHO5W,EAAO,CACX75B,EAAM9E,KAAKqpC,WACXvkC,EAAMiS,GAAGsyB,WACTvkC,EAAM9E,KAAKsK,OACXiP,GAAiBzU,EAAMiS,GAAGzM,OAAQtG,EAAkBwB,GACpD,CAAEmT,aAEJ/M,QAAQ8d,MAAM,oBAAqBiV,GA9HpC,WA+H0B,EAAA75B,EAAMiK,cAE5B8mC,SAFqB,QAETlX,GAjIhB,QA+HC4W,EA/HD,6CAoIK,IAAIhvC,MAAM,6CApIf,eAuIHiP,EACEia,GAA2B,eACxBnwB,GAAyBymB,KAAKc,SAzIhC,oBA4IU0uB,SA5IV,aA4IU,EAAiB7mB,OA5I3B,2EA8IH9iB,QAAQD,MAAR,MA9IG,0DAAP,sDDsDuBmqC,GACjB3jC,EAAgB+W,KAChBkU,EAAiB5wB,KACjBupC,E7F4GD,WACL,IAAQl1C,EAAYuK,KAAZvK,QAIR,OAAO2K,GAHiB3K,EACpBnJ,GAA4CmJ,QAC5CgH,EAGFmuC,I6FnH8BC,GAC1BC,EAAqBtO,KACrBuO,EAAkBC,sBAAW1U,IACnC,EAA6D1yB,cAC3D,SAAClK,GAAD,OAAqBA,EAAMmK,eADrBC,EAAR,EAAQA,eAAgB0J,EAAxB,EAAwBA,YAAaC,EAArC,EAAqCA,QAASC,EAA9C,EAA8CA,WAG9C,EAAwC9J,cACtC,SAAClK,GAAD,OAAqBA,EAAM4Q,QADrB5R,EAAR,EAAQA,iBAAkBsB,EAA1B,EAA0BA,UAI1B,EAAkCqK,oBAAoBslC,IAAtD,oBAAOsB,EAAP,KAAkBC,EAAlB,KACA,EAA0C7mC,oBACxCslC,IADF,oBAAOwB,EAAP,KAAsBC,EAAtB,KAIMC,EAAe9pC,GACnB0pC,EAAUt/B,GAAG5Y,UAGT41C,EAAeroC,oBAAQ,WAC3B,IAAM0lB,EAAYxyB,OAAOsL,OAAOvL,IAC7BoL,QAAO,qBAAGxS,aACVgZ,KAAI,YAAuC,IAApCrZ,EAAmC,EAAnCA,OAAQE,EAA2B,EAA3BA,KAAMC,EAAqB,EAArBA,KAAMJ,EAAe,EAAfA,SACpBqT,GAAsB,OAAb6H,QAAa,IAAbA,OAAA,EAAAA,EAAgBjb,KAAWoN,KAC1C,MAAO,CACLlN,OACAC,OACAH,SACAD,WACAqT,SACAsQ,SAAUvQ,GAAeC,EAAD,OAAS4E,QAAT,IAASA,OAAT,EAASA,EAAiBhY,GAASD,GAC3D+1C,aAAa,EACbxtC,SAAU,SAGbqoB,KAAK6uB,IA2BR,MAAO,CACL12C,KAAMoxB,EACNra,GA3BAs/B,EAAUpB,iBAAiBhuC,OAAS,EAChCovC,EAAUpB,iBACP1kC,KAAI,YAA6B,IAA1BwG,EAAyB,EAAzBA,GAAUvX,EAAe,EAArB/B,KACV,EAAyCkB,GAAWoY,EAAG7f,QAA/CA,EAAR,EAAQA,OAAQE,EAAhB,EAAgBA,KAAMC,EAAtB,EAAsBA,KAAMJ,EAA5B,EAA4BA,SACtBqT,GAAsB,OAAb6H,QAAa,IAAbA,OAAA,EAAAA,EAAgBjb,KAAWoN,KAC1C,MAAO,CACLlN,OACAC,OACAH,SACAD,WACAqT,SACAsQ,SAAUvQ,GACRC,EADsB,OAEtB4E,QAFsB,IAEtBA,OAFsB,EAEtBA,EAAiBhY,GACjBD,GAEFuI,WACAwtC,YACIxtC,IAAajB,GAAWuB,YAI/B+nB,KAAK6uB,IACRtlB,KAML,CAACliB,EAAgBiD,EAAekkC,EAAUpB,mBAEvC0B,EAAsBr1B,uBAC1Bs1B,oBAAQ,yCAAC,WAAOC,GAAP,wDAAA/mC,EAAA,yDACH+mC,EAAar3C,WAAajB,GAAWuB,QADlC,oDAEe,OAAlBqS,GAAqC,MAAXtR,EAFvB,yDAM4BgH,IAAjCgvC,EAAa72C,KAAKqpC,iBACaxhC,IAA/BgvC,EAAa72C,KAAK7B,eACa0J,IAA/BgvC,EAAa9/B,GAAGsyB,iBACaxhC,IAA7BgvC,EAAa9/B,GAAG5Y,SATX,oDAcoB,MAFrB24C,EAAuBD,EAAa72C,KAAK+C,MAAM4a,QAAQ,QAAS,OAGpEnT,OAAOssC,IACoB,KAA3BD,EAAa9/B,GAAG7f,OAhBX,wBAkBLo/C,GAAa,SAACx7B,GAAD,mBAAC,eACTA,GADQ,IAEX/D,GAAG,2BACE+D,EAAU/D,IADb,IAEAhU,MAAOuB,OAEToV,YAAapV,UAxBV,8BA4BDyyC,EAAej0C,aACnBg0C,EACAn4C,GAAWk4C,EAAa72C,KAAK9I,QAAQD,UAEjC+/C,EAAYr4C,GAAWk4C,EAAa72C,KAAK9I,QACzC+oC,EAAUthC,GAAWk4C,EAAa9/B,GAAG7f,QACvCyU,EAAuB,KACvBsrC,EAAkB3yC,KAClB+wC,EAAoB/wC,KACpByyC,EAAaxuC,GAAG4J,EAAc0kC,EAAa72C,KAAK9I,SAAWoN,QAC7DqH,EAAQ/J,EAAE,yBAERm1C,EAAa9mC,SAxCV,iBAyCLgnC,EAAkB3yC,KAzCb,2BA2CLuyC,EAAar3C,WAAajB,GAAWqB,gBACnB,MAAlBw9B,EA5CK,wBA8CCgN,EAAa9sC,GAAUu5C,EAAa72C,KAAK7B,UACzCksC,EAAkB/sC,GAAUu5C,EAAa9/B,GAAG5Y,UA/C7C,UAmDKi/B,EAAe8Z,iBACvB,CAAC9M,EAAWpzC,UAAU6J,GAAUwpC,EAAgBrzC,UAAU6J,IAC1Dg2C,EAAa72C,KAAKqpC,WAClBwN,EAAa9/B,GAAGsyB,WAChB0N,GAvDG,qCAiDHI,EAjDG,KAkDHC,EAlDG,KAyDLH,EAAkBG,EAClB/B,EAAoB8B,EA1Df,2BA4DLN,EAAar3C,WAAajB,GAAWmB,gBACnB,MAAlB09B,EA7DK,wBA+DCiN,EAAkB/sC,GAAUu5C,EAAa9/B,GAAG5Y,UA/D7C,UAmEKi/B,EAAeia,iBACvBhN,EAAgBrzC,UAAU6J,GAC1B20C,KAAMC,oBAAoBoB,EAAa72C,KAAK9I,QAC5C2/C,EAAa9/B,GAAGsyB,WAChB0N,GAvEG,qCAiEHI,EAjEG,KAkEHC,EAlEG,KAyELH,EAAkBG,EAClB/B,EAAoB8B,EA1Ef,2BA4ELN,EAAar3C,WAAajB,GAAWoB,gBACnB,MAAlBy9B,EA7EK,wBA+ECgN,EAAa9sC,GAAUu5C,EAAa72C,KAAK7B,UA/E1C,UAgFmBi/B,EAAeka,iBACrClN,EAAWpzC,UAAU6J,GACrBg2C,EAAa72C,KAAKqpC,WAClBmM,KAAMC,oBAAoBoB,EAAa9/B,GAAG7f,QAC1C6/C,GApFG,QAgFLE,EAhFK,kCAwFLJ,EAAar3C,WAAajB,GAAW0B,QACrB,MAAhBw2C,EAzFK,oBA4F0B,SAA7BI,EAAa72C,KAAK9I,QACW,UAA7B2/C,EAAa72C,KAAK9I,QACS,SAA3B2/C,EAAa9/B,GAAG7f,QACW,UAA3B2/C,EAAa9/B,GAAG7f,QACa,WAA7B2/C,EAAa72C,KAAK9I,QACS,WAA3B2/C,EAAa9/B,GAAG7f,OAjGb,kCAmGqBu/C,EAAac,kBACnCV,EAAa72C,KAAKqpC,WAClBwN,EAAa9/B,GAAGsyB,WAChB0N,GAtGC,QAmGHE,EAnGG,gDAyGqBR,EAAae,OACnCX,EAAa72C,KAAKqpC,WAClBwN,EAAa9/B,GAAGsyB,WAChB0N,GA5GC,QAyGHE,EAzGG,0CAgHLJ,EAAar3C,WAAajB,GAAWkB,gBACV,MAA3Bs2C,EAjHK,kCAmHmBA,EAAwB0B,eAC9CjC,KAAMC,oBAAoBoB,EAAa72C,KAAK9I,QAC5C6/C,EACAvB,KAAMC,oBAAoBoB,EAAa9/B,GAAG7f,SAtHvC,QAmHL+/C,EAnHK,eAyHDS,EAAartC,GACjB4sC,EAD+B,OAE/B/nC,QAF+B,IAE/BA,OAF+B,EAE/BA,EAAiB+wB,EAAQ/oC,QACzB+oC,EAAQhpC,UAEJyiB,EAAcG,GAClBg9B,EAAa72C,KAAK4a,SAClB88B,GAEFpB,GAAa,SAACx7B,GACZ,IAAM2W,EAAQ,2BACT3W,GADS,IAEZnP,QACAoL,GAAG,2BACE+D,EAAU/D,IADb,IAEAhU,MAAOk0C,EACPr8B,SAAU88B,EACV1C,WAAYK,IAEd37B,cACAs4B,aAAc9pC,GACZ6uC,EACAC,EAAU//C,SACVggD,EACAhX,EAAQhpC,YAIZ,OADAu/C,EAAiB/kB,GACVA,KArJF,4CAAD,sDAuJL,KACH,CAACtf,EAAeskC,EAAcrZ,EAAgBv8B,EAASqO,IA8BzD,SAASyoC,IACPrB,GAAa,SAACx7B,GACZ,IAAMouB,EAAYgN,EAAmBv3C,GAAWmc,EAAU/D,GAAG7f,SACvD0gD,EAAiB1O,EAAU/+B,MAC/B,SAAC4nC,GAAD,OAAUA,EAAKh7B,GAAG7f,SAAW4jB,EAAU9a,KAAK9I,UAgC9C,MA9BkB,CAChByU,MAAO,KACP3L,KAAM,CACJ9I,OAAQ4jB,EAAU/D,GAAG7f,OACrB6L,MAAOwE,GACLuT,EAAU/D,GAAGhU,MACbpE,GAAWmc,EAAU/D,GAAG7f,QAAQD,SAChC0H,GAAWmc,EAAU/D,GAAG7f,QAAQD,UAElC2jB,SAAUvQ,GACRyQ,EAAU9a,KAAK+C,MADO,OAEtBmM,QAFsB,IAEtBA,OAFsB,EAEtBA,EAAiB4L,EAAU/D,GAAG7f,SAEhCiH,SAAQ,OAAEy5C,QAAF,IAAEA,OAAF,EAAEA,EAAgB53C,KAAK7B,SAC/BkrC,WAAU,OAAEuO,QAAF,IAAEA,OAAF,EAAEA,EAAgB53C,KAAKqpC,YAEnCtyB,GAAI,CACF7f,OAAQ4jB,EAAU9a,KAAK9I,OACvB6L,MAAOuB,KACPsW,SAAUtW,KACV0wC,WAAY1wC,KACZnG,SAAQ,OAAEy5C,QAAF,IAAEA,OAAF,EAAEA,EAAgB7gC,GAAG5Y,SAC7BkrC,WAAU,OAAEuO,QAAF,IAAEA,OAAF,EAAEA,EAAgB7gC,GAAGsyB,YAEjC3vB,YAAapV,KACb0tC,aAAc1tC,KACd3G,OAAqB,OAAdi6C,QAAc,IAAdA,OAAA,EAAAA,EAAgBj6C,QAAS,GAChCs3C,iBAAkB/L,EAClB1pC,UAAwB,OAAdo4C,QAAc,IAAdA,OAAA,EAAAA,EAAgBn6C,OAAQc,GAAWuB,YAnSvB,8CAyX5B,+BAAAgQ,EAAA,yDACQ8uB,EAAYjgC,GAAW03C,EAAUr2C,KAAK9I,QAE1Cm/C,EAAU72C,WAAajB,GAAWuB,cACJ+H,IAA9BwuC,EAAUr2C,KAAKqpC,iBACaxhC,IAA5BwuC,EAAUr2C,KAAK7B,eACa0J,IAA5BwuC,EAAUt/B,GAAGsyB,iBACaxhC,IAA1BwuC,EAAUt/B,GAAG5Y,SAPjB,uBASIyN,QAAQ8d,MAAM,sBAAuB2sB,GACrCC,GAAa,SAACx7B,GAAD,mBAAC,eACTi6B,IADQ,IAEXppC,MAAO,sBACP3L,KAAK,2BACA8a,EAAU9a,MADX,IAEF+C,MAAO,MACP6X,SAAUtW,YAhBlB,0CAqBwB6wC,EAAe,CACnC/X,eAAgBA,EAChBruB,aAAc0nC,EACdz2C,KAAM,CACJsK,OAAQxH,aAAWuzC,EAAUr2C,KAAK+C,MAAO67B,EAAU3nC,UACnDC,OAAQm/C,EAAUr2C,KAAK9I,OACvBiH,SAAUk4C,EAAUr2C,KAAK7B,SACzBkrC,WAAYgN,EAAUr2C,KAAKqpC,YAE7BtyB,GAAI,CACFzM,OAAQ+rC,EAAUt/B,GAAGhU,MACrB7L,OAAQm/C,EAAUt/B,GAAG7f,OACrBiH,SAAUk4C,EAAUt/B,GAAG5Y,SACvBkrC,WAAYgN,EAAUt/B,GAAGsyB,WACzBgM,kBAAmBgB,EAAUt/B,GAAGi+B,YAElCx1C,SAAU62C,EAAU72C,WArCxB,cAqBQyxB,EArBR,OAwCEqlB,GAAa,SAACx7B,GAAD,MAAgB,CAC3BnP,MAAO,KACP3L,KAAK,2BACA8a,EAAU9a,MADX,IAEF+C,MAAO,MACP6X,SAAUtW,OAEZyS,GAAG,2BACE+D,EAAU/D,IADb,IAEAhU,MAAOuB,KACPsW,SAAUtW,OAEZoV,YAAapV,KACb0tC,aAAc1tC,KACd3G,MAAOmd,EAAUnd,MACjBs3C,iBAAkBn6B,EAAUm6B,iBAC5Bz1C,SAAUsb,EAAUtb,aAxDxB,kBA0DSyxB,GA1DT,6CAzX4B,sBAsO5BrhB,sBAAU,WAGN2mC,EAAcv2C,KAAK9I,SAAWm/C,EAAUr2C,KAAK9I,QAC7Cq/C,EAAcv2C,KAAK+C,QAAUszC,EAAUr2C,KAAK+C,OAC5CwzC,EAAcx/B,GAAG7f,SAAWm/C,EAAUt/B,GAAG7f,QAEpCy/C,EAAoBN,KAE1B,CAACE,EAAeF,EAAWM,IAuM9B,IAAMh+B,EAAW5Y,KAAUC,KACzBiZ,GACE,CAAEL,cAAaC,UAASC,cACxBhV,EACAsB,IAGE2tB,EAAY0e,GAAqB4E,EAAU72C,UAAUiF,IAAIkU,GAEzDgC,EAAa,CACjBrQ,OAAQyoB,EACRnY,UAAwB,OAAd1L,QAAc,IAAdA,OAAA,EAAAA,EAAgB8Z,KACtBlmB,aAAWoM,EAAe8Z,IAAIre,QAAQ,GAAI,IACvClG,IAAIsuB,GACJ7rB,IAAInH,KAAUC,KAAK,IAAIwE,IAAI,KAC9B,MAGN,OACE,eAAC,GAAD,CACEu5B,aAAcoY,EACdpC,aAAcA,EACdnC,iBAAkB,CAChBG,KAAK,GAAD,OAAKsE,EAAUr2C,KAAK9I,OAApB,YAA8Bm/C,EAAUt/B,GAAG7f,QAC/C86C,aAAcqE,EAAUrE,aACxBt4B,YAAa28B,EAAU38B,YACvB/b,MAAO04C,EAAU14C,OAEnBgd,WAAYA,EACZq5B,UAAWqC,EAAUr2C,KACrBi0C,QAAO,2BACFoC,EAAUt/B,IADR,IAELhU,MAC0B,KAAxBszC,EAAUt/B,GAAG7f,OACT,IACAmM,aACEgzC,EAAUt/B,GAAGhU,MACbpE,GAAW03C,EAAUt/B,GAAG7f,QAAQD,YAG1CuI,SAAU62C,EAAU72C,SACpB20C,mBA9OJ,SAAgCpxC,GAC9BuzC,GAAa,SAACx7B,GAYZ,OAXe,2BACVA,GADU,IAEb9a,KAAK,2BACA8a,EAAU9a,MADX,IAEF+C,QACA6X,SAAUvQ,GACRtH,EADsB,OAEtBmM,QAFsB,IAEtBA,OAFsB,EAEtBA,EAAiB4L,EAAU9a,KAAK9I,iBAsOtCg9C,kBAxLJ,SAA+Bh9C,GAC7B,GAAIA,IAAWm/C,EAAUt/B,GAAG7f,OAAQ,OAAOygD,IAC3CrB,GAAa,SAACx7B,GAAe,IAAD,IACpBouB,EAAYgN,EAAmBv3C,GAAWzH,IAC1C0gD,EAAiB1O,EAAU/+B,MAC/B,SAAC4nC,GAAD,OAAUA,EAAKh7B,GAAG7f,SAAW4jB,EAAU/D,GAAG7f,UAEtC2gD,EACsBD,EACtBA,EAAen6C,OAASc,GAAWuB,SACrB,OAAd83C,QAAc,IAAdA,OAAA,EAAAA,EAAgBn6C,QAASc,GAAW0B,OACpC63C,GAAe,UAAAn5C,GAAWmc,EAAU9a,KAAK9I,eAA1B,eAAmCD,WAAY,EAC9D8gD,GAAa,UAAAp5C,GAAWzH,UAAX,eAAoBD,WAAY,EAiCnD,OAhCe,2BACV6jB,GADU,IAEbnP,MAAO,KACP3L,KAAK,2BACA8a,EAAU9a,MADX,IAEF9I,SACA6L,MACE+0C,EAAeC,IACTj9B,EAAU9a,KAAK+C,OAAO4H,QAAQotC,GAChCj9B,EAAU9a,KAAK+C,MACrB6X,SAAUvQ,GACRyQ,EAAU9a,KAAK+C,MADO,OAEtBmM,QAFsB,IAEtBA,OAFsB,EAEtBA,EAAiBhY,IAEnBiH,SAAQ,OAAEy5C,QAAF,IAAEA,OAAF,EAAEA,EAAgB53C,KAAK7B,SAC/BkrC,WAAU,OAAEuO,QAAF,IAAEA,OAAF,EAAEA,EAAgB53C,KAAKqpC,aAEnCtyB,GAAG,2BACE+D,EAAU/D,IADb,IAEAhU,MAAOuB,KACP0wC,WAAY1wC,KACZsW,SAAUtW,KACVpN,OAAQ2gD,EAAc/8B,EAAU/D,GAAG7f,OAAS,GAC5CiH,SAAU05C,EAAW,OAAGD,QAAH,IAAGA,OAAH,EAAGA,EAAgB7gC,GAAG5Y,cAAW0J,EACtDwhC,WAAYwO,EAAW,OAAGD,QAAH,IAAGA,OAAH,EAAGA,EAAgB7gC,GAAGsyB,gBAAaxhC,IAE5D6R,YAAapV,KACb0tC,aAAc1tC,KACd3G,OAAqB,OAAdi6C,QAAc,IAAdA,OAAA,EAAAA,EAAgBj6C,QAAS,GAChCs3C,iBAAkB/L,EAClB1pC,UAAwB,OAAdo4C,QAAc,IAAdA,OAAA,EAAAA,EAAgBn6C,OAAQc,GAAWuB,cA8I/Cs0C,gBAxIJ,SAA6Bl9C,GAC3B,GAAIA,IAAWm/C,EAAUr2C,KAAK9I,OAC5B,OAAOygD,IACTrB,GAAa,SAACx7B,GACZ,IAAM88B,EAAiB98B,EAAUm6B,iBAAiB9qC,MAChD,SAAC4nC,GAAD,OAAUA,EAAKh7B,GAAG7f,SAAWA,KAuB/B,OArBe,2BACV4jB,GADU,IAEb9a,KAAK,2BACA8a,EAAU9a,OACK,OAAd43C,QAAc,IAAdA,OAAA,EAAAA,EAAgB53C,OAAQ,IAE9B2L,MAAO,KACPoL,GAAG,2BACE+D,EAAU/D,IADb,IAEAhU,MAAOuB,KACP0wC,WAAY1wC,KACZpN,SACA0jB,SAAUtW,KACVnG,SAAQ,OAAEy5C,QAAF,IAAEA,OAAF,EAAEA,EAAgB7gC,GAAG5Y,SAC7BkrC,WAAU,OAAEuO,QAAF,IAAEA,OAAF,EAAEA,EAAgB7gC,GAAGsyB,aAEjC3vB,YAAapV,KACb0tC,aAAc1tC,KACd3G,OAAqB,OAAdi6C,QAAc,IAAdA,OAAA,EAAAA,EAAgBj6C,QAAS,GAChC6B,UAAwB,OAAdo4C,QAAc,IAAdA,OAAA,EAAAA,EAAgBn6C,OAAQc,GAAWuB,cA+G/C6L,MAAO0qC,EAAU1qC,MACjBihB,qBAnewB,2CAoexBynB,gCAAiCsD,KAOjCjB,GAAmB,SAAC5mC,EAAgBU,GACxC,GAAIV,EAAEk9B,cAAgBx8B,EAAEw8B,YACtB,OAAOl9B,EAAEk9B,aAAe,EAAI,EAG9B,GAAIl9B,EAAEtQ,WAAajB,GAAWuB,SAAW0Q,EAAEhR,WAAajB,GAAWuB,QACjE,OAAOgQ,EAAEtQ,WAAajB,GAAWuB,QAAU,GAAK,EAElD,GAAIgQ,EAAE8K,SAASkU,GAAGte,EAAEoK,UAAW,CAC7B,IAAMo9B,EAAUhwC,GAAgB8H,EAAExF,OAAQ,GAAKwF,EAAE7Y,UAC3CghD,EAAUjwC,GAAgBwI,EAAElG,OAAQ,GAAKkG,EAAEvZ,UACjD,OAAO+gD,EAAQzvC,GAAG0vC,IAAY,EAAI,EAC7B,OAAInoC,EAAE8K,SAASrS,GAAGiI,EAAEoK,WACjB,EAEH,GEvlBM,SAASs9B,GAAT,GAIS,IAHtBjkC,EAGqB,EAHrBA,SAIQ1I,EAAWse,cAAXte,OACR,EAIIse,YAAa/zB,IAHPqiD,EADV,EACE5sC,OACO6sC,EAFT,EAEEzsC,MACU0sC,EAHZ,EAGEzuB,SAII0uB,EhGHD,WACL,MAA6BjtC,cAArBue,EAAR,EAAQA,SAAUre,EAAlB,EAAkBA,OAClB,EAA0BkE,qBAAS,GAAnC,oBAAO8oC,EAAP,KAAcC,EAAd,KA2BA,OAzBA5oC,sBAAU,WACHta,GAASg2B,eAAenb,MAAK,SAACmb,GAC7BA,GAKE9qB,aAAYyK,OAAOsW,SAJvBqI,EAASt0B,QAAUuS,GAAW,GAAMigB,OAAM,WACxC0wB,GAAS,MAQTA,GAAS,QAId,CAAC5uB,IAGJha,sBAAU,WACJrE,GACFitC,GAAS,KAEV,CAACjtC,IAEGgtC,EgG1BYE,GAGnB7oC,sBAAU,YACJ0oC,GAAeH,GAAkBC,GAAiB7sC,GAC/C8sC,EAAgBpjD,KAEtB,CAACqjD,EAAYH,EAAeC,EAAcC,EAAiB9sC,IhG2BzD,WAAsD,IAAzBmtC,EAAwB,wDAC1D,EAAoCrtC,cAA5BE,EAAR,EAAQA,OAAQI,EAAhB,EAAgBA,MAAOie,EAAvB,EAAuBA,SAEvBha,sBAAU,WACR,IAAQ2R,EAAatW,OAAbsW,SAER,GAAIA,GAAYA,EAAS9f,KAAO8J,IAAWI,IAAU+sC,EAAU,CAC7D,IAAMC,EAAqB,WAEzB/uB,EAASt0B,QAAUuS,GAAW,GAAMigB,OAAM,SAACnc,GACzCC,QAAQD,MAAM,yCAA0CA,OAItDitC,EAAwB,SAACC,GACzBA,EAAS5xC,OAAS,GAEpB2iB,EAASt0B,QAAUuS,GAAW,GAAMigB,OAAM,SAACnc,GACzCC,QAAQD,MAAM,4CAA6CA,OAQjE,OAHA4V,EAAS9f,GAAG,eAAgBk3C,GAC5Bp3B,EAAS9f,GAAG,kBAAmBm3C,GAExB,WACDr3B,EAASu3B,iBACXv3B,EAASu3B,eAAe,eAAgBH,GACxCp3B,EAASu3B,eAAe,kBAAmBF,QAKhD,CAACrtC,EAAQI,EAAO+sC,EAAU9uB,IgG1D7BmvB,EAAqBT,GAGrB,MAAoC7oC,qBAAS,GAA7C,oBAAOupC,EAAP,KAAmBC,EAAnB,KAYA,OAXArpC,sBAAU,WACR,IAAM0U,EAAUQ,YAAW,WACzBm0B,GAAc,KACb,KAEH,OAAO,WACLl0B,aAAaT,MAEd,IAGEg0B,GAKA/sC,GAAU6sC,EAGX,cADA,CACA,iCAKC7sC,GAAW4sC,EAKTlkC,EAHE+kC,EAAa,6CAAsB,KAdnC,K,sCCpCI,SAASE,GAAT,GAIU,IAHvBtkC,EAGsB,EAHtBA,QACAC,EAEsB,EAFtBA,SACAkB,EACsB,EADtBA,MAEA,OACE,sBAAK/T,UAAU,QAAf,SACE,yBAAOA,UAAU,gBAAjB,UACE,wBAAMA,UAAU,cAAhB,UACE,wBAAOvE,KAAK,QAAQmX,QAASA,EAASC,SAAUA,IAChD,uBAAM7S,UAAU,qBAElB,uBAAMA,UAAU,QAAhB,SAAyB+T,S,OCoGlBojC,OAnGf,YAA4E,IAAD,EAAjDphC,EAAiD,EAAjDA,QAASmC,EAAwC,EAAxCA,UAAWvZ,EAA6B,EAA7BA,KACpCiB,EAAMsS,eAANtS,EACR,EAKIoN,cAAY,SAAClK,GAAD,OAAqBA,EAAM4Q,QAJzClQ,EADF,EACEA,eACAxB,EAFF,EAEEA,iBACAF,EAHF,EAGEA,iBACAsB,EAJF,EAIEA,UAEF,EAA6C4J,cAC3C,SAAClK,GAAD,OAAqBA,EAAMmK,eADrB2J,EAAR,EAAQA,YAAaC,EAArB,EAAqBA,QAASC,EAA9B,EAA8BA,WAG9B,EAGIrJ,qBAAS,GAHb,oBACE2K,EADF,KAEEC,EAFF,KAIM++B,EAAoB3/B,GAAkB9Y,EAAK+Y,aACjD,OACE,uBAAK1X,UAAU,iBAAf,UACE,8BAAKJ,EAAE,oBACP,uBAAKI,UAAU,QAAf,UACE,+BACGrB,EAAK83B,SAASloB,KAAI,SAACpR,EAAO4S,GAAR,OACjB,uBAAK/P,UAAU,YAAf,UACE,sBAAKA,UAAU,QAAf,SACE,uBAAMA,UAAU,QAAhB,SAAyB7C,EAAM4D,UAEjC,uBAAKf,UAAU,QAAf,UACE,sBAAKwS,IAAKrV,EAAM9H,KAAMqd,IAAI,SAC1B,gCAAOvV,EAAM/H,YANe2a,QAWpC,sBAAK/P,UAAU,YACf,uBAAKA,UAAU,mBAAf,UACE,uBAAMA,UAAU,QAAhB,SAAyBJ,EAAE,SAC3B,wBAAMI,UAAU,QAAhB,UACGiX,GACC,CAAEL,cAAaC,UAASC,cACxBhV,EACAsB,GACC,IALL,cASD,UAAAzE,EAAKga,kBAAL,eAAiBC,WAChB,uBAAK5Y,UAAU,mBAAf,UACE,uBAAMA,UAAU,QAAhB,SAAyBJ,EAAE,qBAC3B,wBAAMI,UAAU,QAAhB,2BACQ+G,GAAQxB,GAAiB5G,EAAKga,WAAWC,SAAU,EAAG,KAAO,UAIzE,uBAAK5Y,UAAU,mBAAf,UACE,uBAAMA,UAAU,QAAhB,SAAyBJ,EAAE,iBAC3B,wBAAMI,UAAU,QAAhB,UACGwX,GAAuBxV,EAAkBwB,GAD5C,UAIF,uBAAKxD,UAAU,mBAAf,UACE,uBAAMA,UAAU,QAAhB,mBAA4BJ,EAAE,SAA9B,OACA,sBAAKI,UAAU,cAAf,SACGrB,EAAK04C,MAAM9oC,KAAI,SAACskC,EAAM9iC,GAAP,OACd,uCACK8iC,EAAKz9C,KADV,OACoBy9C,EAAKA,OADd9iC,cAOlBqnC,GACC,sBAAKp3C,UAAU,mBAAf,SACE,eAAC,GAAD,CACE4S,QAASwF,EACT7B,QAAS,kBACP8B,GAA+B,SAACS,GAAD,OAAgBA,UAKvD,uBAAK9Y,UAAU,SAAf,UACE,6BAAIJ,EAAE,qBACN,uBAAKI,UAAU,gBAAf,UACE,eAAC,GAAD,CACEmU,QAAS+D,EACT/B,KAAK,UACL4C,SAAUq+B,IAAsBh/B,EAHlC,SAKGxY,EAAE,qBAEL,eAAC,GAAD,CAAQuU,QAAS4B,EAASI,KAAK,SAA/B,SACGvW,EAAE,sBC8aA03C,GAtcM,SAAC1iC,GAAgC,IAAD,IAC3ChV,EAAMsS,eAANtS,EAENuqC,EAOEv1B,EAPFu1B,WACAz8B,EAMEkH,EANFlH,SACAgd,EAKE9V,EALF8V,YACA6sB,EAIE3iC,EAJF2iC,aACAC,EAGE5iC,EAHF4iC,cACAC,EAEE7iC,EAFF6iC,WACA7sB,EACEhW,EADFgW,qBAGM9oB,EAAqBkL,cAAY,SAAClK,GAAD,OAAqBA,EAAM4Q,QAA5D5R,iBACR,EAAwC2L,oBAAwB,MAAhE,oBAAOod,EAAP,KAAqBC,EAArB,KACA,EAAsCwE,KAAM7hB,SAAS,KAArD,oBAAOiqC,EAAP,KAAoBC,EAApB,KACA,EAAsCroB,KAAM7hB,UAAS,GAArD,oBAAOmqC,EAAP,KAAoBC,EAApB,KAEA,EAA4BpqC,qBAAS,GAArC,oBAAOqI,EAAP,KAAegiC,EAAf,KAKMC,GAAWrtB,GAAeA,EAAYjZ,eAAeqb,GAAGxqB,MAC9D,EAA8BmL,yBAA6B5H,GAA3D,oBAAOklB,EAAP,KAAgBC,EAAhB,KAEMG,GACO,OAAXT,QAAW,IAAXA,OAAA,EAAAA,EAAape,OAAOiC,KAAI,SAAC6c,GACvB,IAAMjuB,EAAQR,GAAWyuB,EAAKl2B,QAC9B,MAAO,CACL+kB,UAAW9c,EAAM/H,KACjBC,KAAM8H,EAAM9H,KACZiT,OAAQvB,aAAQxB,GAAiB6lB,EAAKrqB,MAAO,GAAI,UAE/C,GACFsqB,GACI,OAAR3d,QAAQ,IAARA,OAAA,EAAAA,EAAUpB,OAAOiC,KAAI,SAAC6c,GACpB,IAAMjuB,EAAQR,GAAWyuB,EAAKl2B,QAC9B,MAAO,CACLA,OAAQiI,EAAMjI,OACdE,KAAM+H,EAAM/H,KACZC,KAAM8H,EAAM9H,KACZ+b,QAASga,EAAKha,QACdrQ,MAAOgG,aAAQxB,GAAiB6lB,EAAKrqB,MAAO,GAAI,UAE9C,GAER,OACE,uBAAKf,UAAW,YAAcmS,KAAW,CAAE4lC,QAASA,IAApD,UACE,eAAC,GAAD,CAAS7tB,UAAW,aACpB,uBAAKlqB,UAAU,UAAf,UACE,uBAAKA,UAAU,OAAf,UACE,sBAAKA,UAAU,OAAf,SACE,gBAAC,KAAD,CACE+2B,UAAQ,EACRtiB,QAAQ,UACR5B,SAAU,WACR0kC,EAAa,CAAEnkB,UAAW,QAASryB,MAAO,UAC1C+2C,GAAU,IALd,UAQE,uBACEjkC,MAAO,CACLQ,QAAS,OACT0F,eAAgB,gBAChBzF,WAAY,YAJhB,UAOE,8BAAK1U,EAAE,cACP,eAAC,GAAD,CACEsV,gBAAiB,CACf,aAAc,qBACdT,QAAS,UACT2B,KAAM,KACN/gB,KAAM,eAAC,KAAD,CAAW+gB,KAAK,SACtBtE,MAAO,sBAETqD,mBAAoB,eAAC5B,GAAD,SAGxB,gBAAC,KAAD,WACE,eAAC,KAAD,2BACA,eAAC,KAAD,6BAEF,gBAAC,KAAD,WACE,gBAAC,KAAD,YACW,OAAR7F,QAAQ,IAARA,OAAA,EAAAA,EAAUtY,QAAShB,IAClB,qBAAG4L,UAAU,eAAb,sEAC4D,IAC1D,oBAAGI,KAAK,wBAAR,8CAKJ,uBAAKJ,UAAU,oBAAf,UACE,qDACA,+BACGmqC,EAAW57B,KAAI,SAAC3O,GACf,OACE,eAAC,GAAD,CAEEgT,QAAS4kC,EAAcQ,eAAiBp4C,EAAE1K,OAC1C2d,SAAU,WACR0kC,EAAa,CACXnkB,UAAW,eACXryB,MAAOnB,EAAE1K,SAEX4iD,GAAU,IAEZ/jC,MAAOnU,EAAExK,MATJwK,EAAE1K,gBAejB,gCACE,+DAEF,sBAAK8K,UAAU,aAAf,SACE,gBAAC,KAAD,CACEib,GAAG,SACHg9B,aAAc,IACd5M,IAAK,EACLxwB,IAAK,IACLka,GAAG,IACHliB,SAAU,SAACqlC,GACTP,EAAeO,GACfX,EAAa,CACXnkB,UAAW,aACXryB,MAAO8P,OAAOqnC,MAGlBC,aAAc,kBAAMN,GAAe,IACnCO,aAAc,kBAAMP,GAAe,IAdrC,UAgBE,eAAC,KAAD,CAAY92C,MAAO,EAAGg0B,GAAG,IAAI2F,GAAG,OAAOn6B,SAAS,KAAhD,gBAGA,eAAC,KAAD,CAAYQ,MAAO,GAAIg0B,GAAG,IAAI2F,GAAG,OAAOn6B,SAAS,KAAjD,iBAGA,eAAC,KAAD,CAAYQ,MAAO,IAAKg0B,GAAG,IAAI2F,GAAG,OAAOn6B,SAAS,KAAlD,kBAGA,eAAC,KAAD,UACE,eAAC,KAAD,CAAmBigB,GAAG,cAExB,eAAC,KAAD,CACE63B,UAAQ,EACR73B,GAAG,UACHlC,MAAM,QACNg6B,UAAU,MACVxiC,OAAQ8hC,EACR7jC,MAAK,UAAK2jC,EAAL,KANP,SAQE,eAAC,KAAD,WAILF,EAAc7tC,MACb,sBAAK3J,UAAU,QAAf,SAAwBw3C,EAAc7tC,MAAMhK,UAC1C,KACJ,gBAAC,KAAD,CAAW8a,GAAI3E,EAAQyiC,QAASziC,EAAQ0iC,QAAQ,QAAhD,UACGrO,EAAW57B,KAAI,SAACpR,EAAO4S,GAAR,OACd,iCACE,eAAC,GAAD,2BACM5S,GADN,IAEE0d,SAAKhV,EACLiV,UAAU,EAEVjI,SAAU,SAAC9R,GAAD,OACRw2C,EAAa,CACXnkB,UAAW,cACXryB,MAAOA,EACP03C,YAAat7C,EAAMjI,aAIxB6a,IAAUo6B,EAAWllC,OAAS,EAC7B,GAEA,sBAAKjF,UAAU,gBAjBT+P,MAqBZ,sBAAK/P,UAAW,2BAAhB,SACE,sBAAKA,UAAU,kBAAf,SACE,uBAAKA,UAAU,sBAAf,UACGy3C,EAAW//B,YAAYkU,IAAI,GAC1B,wBAAM5rB,UAAU,QAAhB,UAAyBJ,EAAE,SAA3B,QAEA,uBAAMI,UAAU,WAAhB,SAA4BJ,EAAE,iBAEhC,wBACEI,UACE,UACCy3C,EAAW//B,YAAYkU,IAAI,GACxB,QACA,YALR,UAQG,IACA7lB,GACC0xC,EAAW//B,YACX,GACA,mBAQd,gBAAC,KAAD,YACW,OAARhK,QAAQ,IAARA,OAAA,EAAAA,EAAUtY,QAAShB,IAClB,qBAAG4L,UAAU,eAAb,sEAC4D,IAC1D,oBAAGI,KAAK,wBAAR,8CAKJ,oBAAGJ,UAAU,eAAb,2EAICw3C,EAAc7tC,MACb,sBAAK3J,UAAU,QAAf,SAAwBw3C,EAAc7tC,MAAMhK,UAC1C,KACHwqC,EAAW57B,KAAI,SAACpR,EAAO4S,GAAR,OACd,iCACE,eAAC,GAAD,2BACM5S,GADN,IAGE0V,SAAU,SAAC9R,GAAD,OACRw2C,EAAa,CACXnkB,UAAW,cACXryB,MAAOA,EACP03C,YAAat7C,EAAMjI,aAIxB6a,IAAUo6B,EAAWllC,OAAS,EAC7B,GAEA,sBAAKjF,UAAU,gBAfT+P,MAmBZ,sBAAK/P,UAAW,2BAAhB,SACE,sBAAKA,UAAU,kBAAf,SACE,uBAAKA,UAAU,sBAAf,UACGy3C,EAAW//B,YAAYkU,IAAI,GAC1B,wBAAM5rB,UAAU,QAAhB,UAAyBJ,EAAE,SAA3B,QAEA,uBAAMI,UAAU,WAAhB,SAA4BJ,EAAE,iBAEhC,wBACEI,UACE,UACCy3C,EAAW//B,YAAYkU,IAAI,GACxB,QACA,YALR,UAQG,IACA7lB,GACC0xC,EAAW//B,YACX,GACA,wBAUlB,uBAAK1X,UAAU,UAAU6T,MAAO,CAAE4E,OAAQ,QAA1C,UACE,eAAC,KAAD,CAAQjE,MAAM,OAAd,SACE,eAAC,KAAD,CACEC,QAAQ,UACR2B,KAAK,KACL5B,MAAM,OACNuE,SACEg/B,KACEP,EAAc7tC,OAChB6tC,EAAckB,qBAAqBzqC,SAErCkG,QA9QG,WACf2W,EAAgB,WAoQN,SAWGlrB,EAAE,gBAGP,sBAAKI,UAAU,kBAAf,gIAMJ,sBAAKA,UAAU,aAAf,SACE,eAAC,GAAD,CACE2Z,sBACE,uCACE,eAAC,KAAD,CACEvD,KAAK,OACLkI,MAAM,UACNxM,MAAM,yBAER,uBAAM+B,MAAO,CAAEtT,SAAU,OAAQupB,WAAY,KAA7C,SACG/jB,IAAmC,OAAX2kB,QAAW,IAAXA,OAAA,EAAAA,EAAapZ,QAAShP,KAAM,SAI3DkX,YAAa,CACX1H,MAAO,mBACPyG,MAAO,CACL,CACE0B,UAAS,iBAAEvM,QAAF,IAAEA,OAAF,EAAEA,EAAUnS,eAAZ,QAAuB,IAChClG,MAAM,UAAAiG,IAAkB,OAARoS,QAAQ,IAARA,OAAA,EAAAA,EAAUtY,OAAQ,WAA5B,eAAiCmG,QAAQlG,OAAQ,IACvDiT,OAAQvB,aACNxB,IACa,OAAXmlB,QAAW,IAAXA,OAAA,EAAAA,EAAajZ,iBAAkBnP,KAC/B,GACA,OAMVmX,WAAY,CACV3H,MAAOlS,EAAE,aACT2Y,MAAO4S,GAETzR,MAAO,CACL,CACET,UAAW,MACXsB,WAAmB,OAAR7M,QAAQ,IAARA,OAAA,EAAAA,EAAUtB,SAAV,WACHrF,aAAQxB,GAAiBmI,EAAStB,QAAS,GAAI,KACnD,IACJ+M,YACE,sBAAKnZ,UAAU,YAAf,SACGqrB,EAAwB9c,KAAI,SAACpR,EAAO4S,GAAR,OAC3B,uBAAK/P,UAAU,QAAf,UACE,uBAAK6T,MAAO,CAAEQ,QAAS,OAAQC,WAAY,UAA3C,UACE,sBAAK5B,IAAI,OAAOF,IAAKrV,EAAM9H,OAC3B,uBAAM2K,UAAU,OAAhB,mBAA2B7C,EAAMjI,OAAjC,YAA2CiI,EAAMiU,cAEnD,uBAAMpR,UAAU,aAAhB,SAA8B7C,EAAM4D,UALVgP,SAWpC,CACEkJ,UAAWrZ,EAAE,OACb2a,WAAmB,OAAR7M,QAAQ,IAARA,OAAA,EAAAA,EAAUrB,SACjBtG,GACE2H,EAASrB,QtIg8BG,IsI77Bd,KAEN,CACE4M,UAAWrZ,EAAE,gBACb2a,WAAmB,OAAR7M,QAAQ,IAARA,OAAA,EAAAA,EAAUjB,cACjB1F,aAAQxB,GAAiBmI,EAASjB,aAAc,GAAI,IACpD,KAEN,CACEwM,UAAWrZ,EAAE,cACb2a,WAAmB,OAAR7M,QAAQ,IAARA,OAAA,EAAAA,EAAUxB,YACjBnF,aAAQxB,GAAiBmI,EAASxB,WAAY,EAAG,IACjD,IACJgN,YAAatZ,EAAE,2BAKvB,gBAAC,GAAD,CACEkW,SAAU+U,EACV9U,QAAS,kBAAY+U,EAAgB,OAFvC,UAIoB,WAAjBD,EACC,eAAC,GAAD,CACElsB,KAAM84C,EACNkB,IAAK72C,EACLoW,UAAW,WACT8S,OAAWnlB,GACXilB,EAAgBlZ,GAAUG,SAC1ByV,GACE,WACC9Z,GAAY,CAAE1Q,KAAI,OAAE0Q,QAAF,IAAEA,OAAF,EAAEA,EAAUtY,OAAW,IAExB,OAApBw1B,QAAoB,IAApBA,OACGzc,MAAK,SAACC,IACL,OAAIA,QAAJ,IAAIA,OAAJ,EAAIA,EAAKyd,QACPf,EAAgBlZ,GAAUW,UAE1BuY,EAAgBlZ,GAAUS,QAC1B2Y,EAAU,OAAC5c,QAAD,IAACA,OAAD,EAACA,EAAK0d,qBAGnBhG,OAAM,WACLgF,EAAgBlZ,GAAUS,YAGhC0D,QAAS,kBAAY+U,EAAgB,SAErC,KACHD,IAAiBjZ,GAAUG,QAC1B,eAAC,GAAD,IACE8Y,IAAiBjZ,GAAUS,OAC7B,eAAC,GAAD,CACEP,MAAOlS,EAAE,eACTnE,KAAMmW,GAAUS,OAChBL,YACG+Y,OAEGllB,EADAjG,EAAE,oBAAqB,CAAEmsB,GAAInsB,EAAE,cALvC,SASGmrB,GACC,gBAACS,GAAA,EAAD,CAAOC,QAAQ,WAAW7rB,EAAGA,EAA7B,UACG,CAAEmsB,GAAInsB,EAAE,aACT,oBACEQ,KAAM1B,GAAiBqsB,EAAS,MAChC1qB,OAAO,SACPC,IAAI,aACJuT,MAAO,CAAE6X,eAAgB,YAAa9J,OAAQ,GAJhD,8BAWJiJ,IAAiBjZ,GAAUW,QAC7B,eAAC,GAAD,CACET,MAAOlS,EAAE,gBACToS,YAAapS,EAAE,wBACfnE,KAAMmW,GAAUW,UAEhB,QAEN,eAACoC,GAAD,CACEhZ,MAAM,SACNkZ,aAAa,SACbC,WAAW,4BCtgBrB,IAAM8jC,GAAY,YACZC,GAAM,MCgLGC,OA5Kf,YAAsD,IAAlC38C,EAAiC,EAAjCA,SAClB,EAAkC2Q,GAAY3Q,GAA9C,oBAAOuR,EAAP,KAAiByhB,EAAjB,KACA,EDaa,SACbhzB,GAEA,IAAM8S,EAAO3T,GAAUa,GACjB4Q,EAAepC,GAAgBxO,GACrC,EAA0B2Q,GAAY3Q,GAA7BgzB,EAAT,qBACQ9qB,EAAY+E,KAAZ/E,QACFgrB,EAEF3lB,oBACF,kBACEuF,EAAKzT,WAAWsB,QACd,SAACC,EAAD,OAAQ7H,EAAR,EAAQA,OAAQD,EAAhB,EAAgBA,SAAhB,mBAAC,eACI8H,GADL,kBAEG7H,EAAS8L,GAAwB/L,EAAU8I,KAAUC,KAAK,UAE7D,MAEJ,CAACiR,EAAKzT,aAEFu9C,EAAwBrvC,oBAC5B,kBACEuF,EAAKzT,WAAWsB,QACd,SAACC,EAAD,OAAQ7H,EAAR,EAAQA,OAAR,mBAAC,eACI6H,GADL,kBAEG7H,EAASm6B,EAAwBn6B,GAAQ,SAE5C,MAEJ,CAAC+Z,EAAKzT,WAAY6zB,IAEd2pB,EAAiBtvC,oBACrB,iBAAO,CACLuvC,WAAY,GACZC,YAAaH,EACbf,aAAca,GACdlvC,MAAO,KACP+uC,qBAAsB36C,KAAUC,KAAK,QAEvC,CAAC+6C,IAEH,EAAkCtrC,oBAA4BurC,GAA9D,oBAAO3E,EAAP,KAAkBC,EAAlB,KAIM6E,EAAkC75B,uBACtCs1B,oBAAQ,yCAAC,WAAO9xC,GAAP,8BAAAgL,EAAA,yDACc,MAAjBqhB,GAAyC,MAAhBpiB,GAAmC,MAAX1I,EAD9C,oDAML+0C,EADuB,KAArBt2C,EAAMm2C,WACQ,IACc,OAArBn2C,EAAMm2C,WACC,MAEAn2C,EAAMm2C,WAIlBI,EAA8BlqB,EAAc1d,eAC/ChP,IAAI3B,aAAWs4C,EAAe,IAC9Bl0C,IAFiC,SAE7B,GAAM,IAEPypB,EAAuB1f,EAAKzT,WAAW+S,KAAI,SAACqgB,GAChD,OAAO9rB,EAAMo2C,YAAYtqB,EAAU15B,QAAQ0L,aAKzCkC,EAAMk1C,eAAiBY,GAxBpB,0CA0BwC7rC,EAAa+hB,kBACtDH,GACA,GA5BC,OA0BG2qB,EA1BH,OA8BHC,EAAYD,EAA6B/yC,GACvC8yC,GAEE,CACE1vC,MAAO,CACLwqB,MAAO,cACPx0B,QAAS,yBAEX+4C,qBAAsB36C,KAAUC,KAAK,MAEvC,CACE2L,MAAO,KACP+uC,qBAAsBY,GA1CzB,kDA6CH1vC,QAAQD,MAAR,MAEA4vC,EAAY,CACV5vC,MAAO,CACLwqB,MAAO,cACPx0B,QAAS,iCAEX+4C,qBAAsB36C,KAAUC,KAAK,MApDpC,6CAiFC8E,EAAMk1C,eAAiBa,KAAO/1C,EAAMm2C,WAjFrC,wBAkFK5R,EAAap4B,EAAKzT,WAAW8rC,WACjC,qBAAGpyC,SAAwB4N,EAAMk1C,gBAnFlC,UAqFyBjrC,EAAaysC,uBACrCH,EACAhS,GAvFD,QAqFKoS,EArFL,OAyFDF,EAAY,CACVb,qBAAsBW,EACtBH,YAAajqC,EAAKzT,WAAWsB,QAC3B,SAACC,EAAD,EAAkByK,GAAlB,IAAQtS,EAAR,EAAQA,OAAR,mBAAC,eACI6H,GADL,kBAEG7H,EAASm6B,EAAwBn6B,GAChCsS,IAAM6/B,EAAaoS,EAAc,SAGrC,IAEF9vC,MAAO,MApGR,yCAwG0CoD,EAAa+hB,kBACtDH,GACA,GA1GD,QAwGK2qB,EAxGL,OA4GDC,EAAYD,EAA6B/yC,GACvC8yC,GAEE,CACE1vC,MAAO,CACLwqB,MAAO,cACPx0B,QAAS,yBAEX+4C,qBAAsB36C,KAAUC,KAAK,MAEvC,CACE06C,qBAAsBY,EACtB3vC,MAAO,MAxHZ,2DA4HH4vC,EAAY,CACV5vC,MAAO,CACLwqB,MAAO,cACPx0B,QAAS,kCA/HV,QAoIP20C,GAAa,SAACx7B,GAAD,mBAAC,eACTA,GACAygC,MAtIE,kEAAD,sDAwIL,KACH,CAACpqB,EAAepiB,EAAckC,EAAKzT,WAAY6zB,IA2FjD,MAAO,CAACglB,EAxFiB/0B,wBACvB,SAACvc,GAGCuxC,GAAa,SAACx7B,GACZ,IAAIygC,EAAyD,GAC7D,GAAyB,gBAArBx2C,EAAOqwB,UAA6B,CACtC,MAGIrwB,EAFF01C,YAAaiB,OADf,MACkC,GADlC,EAESC,EACL52C,EADFhC,MAEI64C,EAAc,2BACf9gC,EAAUogC,aADK,kBAEjBQ,EAAmBrqB,EAAwBqqB,GAC1CC,KAGEE,EAAoB5qC,EAAKzT,WAAWuM,QACxC,gBAAG7S,EAAH,EAAGA,OAAH,OAAqD,KAApC0kD,EAAe1kD,GAAQuL,YAU1C84C,EAAY,CACVvB,aAR+B,IAA7B6B,EAAkB50C,OACL4zC,GACuB,IAA7BgB,EAAkB50C,OACZ40C,EAAkB,GAAG3kD,OAErB0jD,GAIfF,qBAAsB36C,KAAUC,KAAK,KACrCi7C,WAAY,KACZC,YAAaU,EACbjwC,MAAO,UAEqB,eAArB5G,EAAOqwB,UAGhBmmB,EADE/wC,OAAOzF,EAAOhC,SAAWgC,EAAOhC,MAAQ,IAAMgC,EAAOhC,MAAQ,IAE3D,CACEk4C,WAAYl2C,EAAOhC,MACnB23C,qBAAsB36C,KAAUC,KAAK,KACrC2L,MAAO,CAAEwqB,MAAO,aAAcx0B,QAAS,iBACvCu5C,YAAaH,GAEf,CACEf,aACEl/B,EAAUk/B,eAAiBY,GACvBC,GACA//B,EAAUk/B,aAChBiB,WAAYl2C,EAAOhC,MACnB4I,MAAO,MAEiB,iBAArB5G,EAAOqwB,UAChBmmB,EAAY,CACVL,YAAaH,EACbE,WAAYngC,EAAUmgC,YAAc,MACpCjB,aAAcj1C,EAAOhC,MACrB4I,MAAO,MAEqB,UAArB5G,EAAOqwB,YAChBmmB,EAAYP,GAEd,IAAMc,EAAU,2BACXhhC,GACAygC,GAECQ,EACiB,gBAArBh3C,EAAOqwB,WACPnkB,EAAKzT,WAAWw+C,OAAM,YAAiB,IAAd9kD,EAAa,EAAbA,OACjB+kD,EAAaH,EAAWZ,YAAYhkD,GAAQuL,SAClD,OAAO+H,OAAOyxC,IAA+B,KAAfA,KAKlC,OAHKH,EAAWnwC,OAAUowC,GACnBZ,EAAgCW,GAEhCA,OAGX,CACE7qC,EAAKzT,WACL29C,EACA9pB,EACA0pB,EACAC,KC3RiDkB,CACnD/9C,GADF,oBAAOg+C,EAAP,KAA0BC,EAA1B,KAGA,EAA6CptC,cAC3C,SAAClK,GAAD,OAAqBA,EAAM4Q,QADrBlQ,EAAR,EAAQA,eAAgBxB,EAAxB,EAAwBA,iBAGhBkL,EAAmBF,cAAY,SAAClK,GAAD,OAAqBA,EAAMmK,eAA1DC,eACFmtC,ECPD,SACLl+C,GAEA,IAAMqX,EAAWC,eACX1G,EAAepC,GAAgBxO,GAC7BkI,EAAY+E,KAAZ/E,QACR,EAA+D2I,cAC7D,SAAClK,GAAD,OAAqBA,EAAM4Q,QADrBlQ,EAAR,EAAQA,eAAgBxB,EAAxB,EAAwBA,iBAAkBE,EAA1C,EAA0CA,iBAGpCgN,EAAkBnE,GAAmB5O,GACrC8S,EAAO3T,GAAUa,GAEvB,gDAAO,WACL2G,GADK,0BAAAgL,EAAA,kEAIEzJ,EAJF,sBAIiB,IAAIE,MAAM,4BAJ3B,UAKEwI,EALF,sBAKsB,IAAIxI,MAAM,+BALhC,WAMCzB,EAAM41C,qBAAqBzqC,SAN5B,oDAOoB,MAAnBiB,EAPD,wDAQGyH,EAAWrU,KAWXg4C,EACmB,cAAvBx3C,EAAMk1C,aACF1gC,GACExU,EAAM41C,qBACN12C,EACAwB,GAEFV,EAAM41C,qBA1BT,UA2BG1sB,GACJ9c,EACAnC,EAAa7I,QACbG,EACAi2C,EACAp4C,EACAyU,EACA,CACEkW,mBAAoB,WAClB,MAAM,IAAItoB,MAAM,8CApCnB,WAyCHqF,QAAQ8d,MAAR,gCAC2BrmB,aAAYyB,EAAM41C,qBAAsB,MAGxC,QAAvB51C,EAAMk1C,aA7CP,wBA8CKrpB,EAA0B1f,EAAKzT,WAAW+S,KAAI,SAACqgB,GACnD,OAAOrX,GACLxZ,KAAUC,KAAK8E,EAAMysB,eAAeX,EAAU15B,QAAQ0L,WACtDoB,EACAwB,MAlDH,UAqDwBuJ,EAAawtC,iBACpCz3C,EAAM41C,qBACN/pB,EACA,CACEhY,aAzDH,QAqDDqY,EArDC,kCA4D+B,cAAvBlsB,EAAMk1C,aA5Dd,wBA6DKrpB,EAAuB1f,EAAKzT,WAAW+S,KAAI,SAACqgB,GAChD,OAAO9rB,EAAMysB,eAAeX,EAAU15B,QAAQ0L,aA9D/C,UAgEwBmM,EAAaytC,2BACpC7rB,EACArX,GACExU,EAAM41C,qBACN12C,EACAwB,GAEF,CACEmT,aAxEH,QAgEDqY,EAhEC,gDA6EwBjiB,EAAa0tC,0BACpC33C,EAAM41C,qBACNzpC,EAAKzT,WAAW8rC,WACd,qBAAGpyC,SAAwB4N,EAAMk1C,gBAEnCzgC,GACExZ,KAAUC,KACR8E,EAAMysB,eAAezsB,EAAMk1C,cAAgB,IAAIp3C,WAEjDoB,EACAwB,GAEF,CACEmT,aA1FH,QA6EDqY,EA7EC,gCAiGmBA,EAAiBtC,OAjGpC,eAiGGuC,EAjGH,OAkGHzb,EACEia,GAA2B,eACxBnwB,GAA6BymB,KAAKc,SApGpC,kBAuGIoK,GAvGJ,kCAyGHrlB,QAAQD,MAAR,MAzGG,0DAAP,sDDL2B+wC,CAAsBv+C,GAC3C4Q,EAAepC,GAAgBxO,GAC7BkI,EAAY+E,KAAZ/E,QACF4K,EAAO3T,GAAUa,GAEvB,EAAgDsR,oBAASnL,MAAzD,oBAAOq4C,EAAP,KAAyBC,EAAzB,KAdmD,8CAuEnD,mCAAA9sC,EAAA,6DAEIkqC,EAGEmC,EAHFnC,aACAkB,EAEEiB,EAFFjB,YACAR,EACEyB,EADFzB,qBAJJ,SAMwB2B,EAAmB,CACvC9qB,eAAgB2pB,EAChBlB,eACAU,yBATJ,cAMQzpB,EANR,OAWEmrB,EAAwB,CAAEhnB,UAAW,QAASryB,MAAO,UAXvD,kBAaSkuB,GAbT,4CAvEmD,sBAenDrhB,sBAAU,WAAM,8CAEd,iCAAAE,EAAA,kEAGsB,MAAhBf,GACiB,MAAjBoiB,GACY,MAAZzhB,GACW,MAAXrJ,EANN,oDAUUisB,EAAgBxvB,aACpBmO,EAAKzT,WACFsB,QACC,SAAC4T,EAAD,OAAQxb,EAAR,EAAQA,OAAR,OACEwb,IAAQypC,EAAkBjB,YAAYhkD,GAAQuL,UAAY,KAC5D,GAEDa,WACH,KAGEoM,EAASnB,YAAYhG,GAAG,KAAM+pB,EAAc/pB,GAAG,GArBvD,wBAsBYooB,EAAuB1f,EAAKzT,WAAW+S,KAAI,SAACqgB,GAChD,OAAOurB,EAAkBjB,YAAYtqB,EAAU15B,QAAQ0L,aAvB/D,SAyBoCmM,EAAa+hB,kBACzCH,GACA,GA3BR,OAyBMksB,EAzBN,+BA+BMA,EAAwBvqB,EA/B9B,QAiCIsqB,EACE/iC,GACEgjC,EACAvqB,EACA5iB,EAASjB,cACT,IAtCR,6GAFc,0DA+CTquC,KACJ,CACDptC,EACAysC,EACAptC,EACAoiB,EACA9qB,EACA4K,EAAKzT,aAkBP,IAAM2uC,EAAa7a,KAAM5lB,SACvB,kBACEuF,EAAKzT,WAAW+S,KAAI,kBAAGnZ,EAAH,EAAGA,KAAMF,EAAT,EAASA,OAAQG,EAAjB,EAAiBA,KAAMJ,EAAvB,EAAuBA,SAAvB,MAAuC,CACzDG,OACAF,SACAG,OACA4L,WAAYk5C,EAAkBjB,YAAYhkD,GAAQuL,SAGlDoa,IAAKtV,IACU,OAAb4pB,QAAa,IAAbA,GAAA,UAAAA,EAAe7iB,OACZnE,MAAK,SAAC4yC,GAAD,OAAgBA,EAAW7lD,SAAWA,YAD9C,eAEI6L,MAAMmE,IAAInH,KAAUC,KAAK,IAAIwE,IAAI,GAAKvN,MAAcqN,KACxDrN,SAGN,CAACklD,EAAmBlrC,EAAKzT,WAAzB,OAAqC2zB,QAArC,IAAqCA,OAArC,EAAqCA,EAAe7iB,SAEhDqK,EAAWrU,KAQXyuB,EAAY0e,GAAqB,4BAA4BhtC,IACjEkU,GAGIgC,EAAa,CACjBrQ,OAAQyoB,EACRnY,UAAwB,OAAd1L,QAAc,IAAdA,OAAA,EAAAA,EAAgB8Z,KACtBlmB,aAAWoM,EAAe8Z,IAAIre,QAAQ,GAAI,IACvClG,IAAIsuB,GACJ7rB,IAAInH,KAAUC,KAAK,IAAIwE,IAAI,KAC9B,MAGAw4C,EAAyC,CAC7CvkB,SAAU,GACV4gB,MAAO,GACP4D,SAAUzjC,GAAuBxV,EAAkBwB,GACnDkU,YAAaijC,EACbhiC,WAAYA,GA2Bd,OAzBA1J,EAAKzT,WAAW0B,SAAQ,YAAuC,IAY/B,EAZL9H,EAAmC,EAAnCA,KAAMH,EAA6B,EAA7BA,SAAUI,EAAmB,EAAnBA,KAAMH,EAAa,EAAbA,OAC3C6I,KAAUC,KAAKm8C,EAAkBjB,YAAYhkD,GAAQ0L,WAAW2F,GAAG,KACrEy0C,EAAmBvkB,SAASnR,KAAK,CAC/BlwB,OACA2L,MAAOgG,aACL1F,aACE84C,EAAkBjB,YAAYhkD,GAAQ0L,UACtC3L,IAGJI,SAEoB,MAAlB6X,GACF8tC,EAAmB3D,MAAM/xB,KAAK,CAC5BlwB,OACA2L,MAAOM,aACL84C,EAAkBjB,YAAYhkD,GAAQ0L,UACtC3L,GAEF49C,KAAM9rC,aAAO,UAACmG,EAAehY,UAAhB,aAAC,EAAwByT,QAAQ,UAOpD,eAAC,GAAD,CACEmJ,MAAO3V,EACPs7C,WAAYuD,EACZ7Q,WAAYA,EACZz8B,SAAUA,EACVgd,YAAayE,EACbqoB,cAAe2C,EACfvvB,qBAtK+C,2CAuK/C2sB,aAAc6C,KE3LpB,IAUMc,GAAoB,kBACxBhtC,MAAM,GAAD,OAXc,gDAWM,CAAEhc,MAAO,aAC/Bic,MAAK,SAACC,GACL,GAAIA,EAAIyd,QAAU,KAAOzd,EAAIyd,OAAS,IACpC,OAAOzd,EAAIC,OAEb,MAAM,IAAI9J,MAAM,2CAEjB4J,MAAK,SAACG,GACL,OAAOA,M,gDAGE,WACbkF,GADa,gBAAA1F,EAAA,6DAGPqtC,EAAiB,SAAC/tC,GACtBoG,EAASka,GAAgBtgB,KAJd,SAMPw2B,MAAM,kBAAMsX,KAAoB/sC,KAAKgtC,KAAiB,CAC1DtX,QAAS,IAPE,4C,sBCdf,IAaMuX,GAAc,CAClBp0B,IAAK,WACLztB,KAAM,WACN8hD,MAAO,WACP7U,IAAK,UACL8U,KAAM,eACNC,IAAK,+BACLC,KAAM,Y,SA0DOC,G,uFAAf,WACEC,EACA78C,EACAuF,GAHF,sBAAA0J,EAAA,yDAKO4tC,GAAet3C,EALtB,yCAKsC,GALtC,uBAOUqwC,EAAexwC,GACnBpF,EAAUvI,GAAqBuI,GAAW,GAC1C88C,GACAv3C,GAVN,SAYiCqwC,EAAamH,cACxC,EACA,EACA79C,KAAUC,KAAK,IAAIwE,IAAI,KAf7B,cAYUq5C,EAZV,OAiBUC,EAAMh7C,aAAW46C,EAAWp6C,WAAY,IACxCy6C,EAAahtC,WAAW1N,aAAYw6C,EAAep5C,IAAIq5C,GAAM,KAlBvE,kBAmBWC,GAnBX,yCAqBInyC,QAAQD,MAAR,MArBJ,kBAsBW+xC,GAtBX,2D,sBC7De,SAASM,KACtB,IAAQn9C,EAAYuK,KAAZvK,QACAgD,EAAiBmL,cAAY,SAAClK,GAAD,OAAqBA,EAAM4Q,QAAxD7R,aASR,OANA+L,sBAAU,WACF,OAAN9O,SAAM,IAANA,OAAQm9C,OAAO,CACb98C,UAAWH,GAAyBH,GAAWA,OAAUgH,EACzDxG,SAAUwC,MAEX,CAAChD,EAASgD,IAEX,eAAC,YAAD,CAAUlB,SAAU,KAApB,SACE,eAACu1C,GAAD,UACE,eAACgG,GAAD,UACE,gBAACtc,GAAD,WAcE,gBAAC,KAAD,WACE,eAAC,KAAD,CAAOuc,OAAK,EAACC,KAAK,IAAIC,UAAWnJ,KACjC,eAAC,KAAD,CAAOiJ,OAAK,EAACC,KAAK,SAASC,UAAW1b,KACtC,eAAC,KAAD,CAAOwb,OAAK,EAACC,KAAK,SAASC,UAAWthB,KACtC,eAAC,KAAD,CAAOohB,OAAK,EAACC,KAAK,SAASC,UAAW1X,KACrC/nC,OAAOsL,OAAO5M,IAAWiT,KAAI,gBAAGnZ,EAAH,EAAGA,KAAMuG,EAAT,EAASA,MAAT,OAC5B,eAAC,KAAD,CACEwgD,OAAK,EACLC,KAAI,iBAAYzgD,EAAZ,YACJ2gD,OAAQ,SAAC1nC,GAAD,OAAW,eAAC,GAAD,2BAAaA,GAAb,IAAoBzY,SAAU/G,OAHnD,UAIUA,EAJV,gBAODwH,OAAOsL,OAAO5M,IAAWiT,KAAI,gBAAGnZ,EAAH,EAAGA,KAAMuG,EAAT,EAASA,MAAT,OAC5B,eAAC,KAAD,CACEwgD,OAAK,EACLC,KAAI,iBAAYzgD,EAAZ,aACJ2gD,OAAQ,SAAC1nC,GAAD,OAAW,eAAC,GAAD,2BAAcA,GAAd,IAAqBzY,SAAU/G,OAHpD,UAIUA,EAJV,iBAODwH,OAAOsL,OAAOlM,IAAWuS,KAAI,gBAAGnZ,EAAH,EAAGA,KAAMuG,EAAT,EAASA,MAAT,OAC5B,eAAC,KAAD,CACEwgD,OAAK,EACLC,KAAI,iBAAYzgD,GAChB2gD,OAAQ,SAAC1nC,GAAD,OAAW,eAAC,GAAD,2BAAUA,GAAV,IAAiB9K,SAAU1U,OAHhD,UAIUA,EAJV,gBAQJ,eAAC,GAAD,aAQZ,SAAS8mD,GAAT,GAEoD,IADlDjqC,EACiD,EADjDA,SAEMuB,EAAWC,eACjB,EAA6BrK,KAArBvK,EAAR,EAAQA,QAASuF,EAAjB,EAAiBA,QAKXm4C,EAA4Bj9B,wBAAY,YDtEjC,SACb9L,EACA3U,EACAuF,GAEA,IAAMkI,EAAS1P,OAAOsL,OAAOvL,IACvB6/C,EAAWl1C,MAAMtJ,KACrB,IAAI3B,IACFiQ,EAAOiC,KAAI,qBAAGpZ,WAAuBkI,OAAOT,OAAOsL,OAAOkzC,OAGzDxX,MACH,kBACE11B,MAAM,GAAD,OApCU,gDAoCV,gBAAwBuuC,mBAC3BD,EAAS70C,KAAK,MADX,6BAIFwG,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBF,KALH,yCAKQ,WAAOG,GAAP,0BAAAR,EAAA,yDACE4uC,EAAoB9/C,OAAOC,KAAKu+C,IAAat+C,QACjD,SAACC,EAAK0rB,GACJ,OAAO,2BACF1rB,GADL,kBAEG0rB,EAFH,OAESna,QAFT,IAESA,OAFT,EAESA,EAAO8sC,GAAY3yB,IAAkCk0B,QAGhE,KAEE33B,EAAS1Y,EAAOxP,QAAO,SAACC,EAAKI,GAAW,IAAD,EACzC,OAAO,2BAAKJ,GAAZ,kBAAkBI,EAAMjI,OAAxB,OAAiCoZ,QAAjC,IAAiCA,GAAjC,UAAiCA,EAAOnR,EAAMhI,gBAA9C,aAAiC,EAAuBwnD,QACvDD,IACIE,OAAc,QAAN,EAAA53B,SAAA,eAAQgC,MAAOhC,EAAO43B,OAAS,EAC1C/9C,IAAYzL,GAAQuC,QAdpB,gCAeuB8lD,GAAa,UACpCz2B,SADoC,aACpC,EAAQgC,IACRnoB,EACAuF,GAlBA,OAeI23C,EAfJ,OAoBF/2B,EAAOq2B,MAAQU,GAA4B,GAAR,QAAN,EAAA/2B,SAAA,eAAQgC,KApBnC,OAsBC9Y,MA7Db,uEA8DWC,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBF,MAAK,SAACG,GACL0W,EAAM,2BACDA,GADC,IAEJ5qB,MAAOkU,EAAK,GAAGuuC,eAAiB,EAChCngD,QAAS4R,EAAK,GAAGwuC,iBAAmB,IAEtCtpC,EAASga,GAAsBxI,OA9B/B,2CALR,yDAsCF,CAAE6e,QAAS,ICoBXkZ,CAAoBvpC,EAAU3U,EAASuF,KACtC,CAACoP,EAAU3U,EAASuF,IACjB44C,EAA0B19B,wBAAY,YFlF/B,SAAf,4BEmFS29B,CAAezpC,KACnB,CAACA,IACE0pC,EAA0B59B,wBAAY,YCpF/B,SAAwB9L,GAChCowB,MAAM,kBACT11B,MAzBF,uEA0BKC,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBF,MAAK,SAACG,GACLA,EAAKC,KAAI,SAACC,GACRgF,EACE4Z,GAAgB,eAAD,OACZ5e,QADY,IACZA,OADY,EACZA,EAAGpZ,KAAO,CACTm2B,IAAG,OAAE/c,QAAF,IAAEA,OAAF,EAAEA,EAAG+c,IACRyC,IAAG,OAAExf,QAAF,IAAEA,OAAF,EAAEA,EAAG2uC,SACRjlB,WAAY,CACV3M,IAAG,OAAE/c,QAAF,IAAEA,OAAF,EAAEA,EAAG4uC,WACRjgD,MAAK,OAAEqR,QAAF,IAAEA,OAAF,EAAEA,EAAG6uC,qBACVn5C,QAAO,OAAEsK,QAAF,IAAEA,OAAF,EAAEA,EAAG8uC,2CDuErBC,CAAe/pC,KACnB,CAACA,IACEgqC,EAA2Bl+B,wBAAY,YE1FhC,SAAyB9L,GACjCowB,MAAM,kBACT11B,MArBF,uEAsBKC,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBF,MAAK,SAACG,GACLA,EAAKC,KAAI,SAACC,GACRgF,EACE8Z,GAAiB,CACf+U,WAAU,OAAE7zB,QAAF,IAAEA,OAAF,EAAEA,EAAGivC,kBACfzvB,IAAG,OAAExf,QAAF,IAAEA,OAAF,EAAEA,EAAGkvC,WACRpb,gBAAe,OAAE9zB,QAAF,IAAEA,OAAF,EAAEA,EAAGmvC,kBACpB59B,YAAW,OAAEvR,QAAF,IAAEA,OAAF,EAAEA,EAAGquC,cAChBtxB,IAAG,OAAE/c,QAAF,IAAEA,OAAF,EAAEA,EAAGovC,uBF+EbC,CAAgBrqC,KACpB,CAACA,IACEsqC,EAAiCx+B,wBAAY,YG1GtC,SAA+B9L,GACvCowB,MACH,kBACE11B,MATJ,0IAUOC,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBF,MAAK,SAACG,GACL,IAAMyvC,EAAezvC,EAAK0vC,OAAOzvC,KAAI,YAAoB,IAAD,oBACtD,MAAO,CAAEwQ,KAD6C,KACvC+B,MADuC,SAGxDtN,EAAS+Z,GAAuBwwB,SAEtC,CAAEla,QAAS,IHgGNoa,CAAsBzqC,KAC1B,CAACA,IAOJ,OALA2S,GAAUo2B,EAA2B9mD,MACrC0wB,GAAU62B,EAAyBvnD,OACnC0wB,GAAU+2B,EAAyBznD,MACnC0wB,GAAUq3B,EAA0B/nD,MACpC0wB,GAAU23B,EAAgCroD,MACnC,qCAAGwc,I,6CI1DNisC,GAAY,CAAEjC,OA9DQ,CAC1BkC,iBAAkB,OAClBC,oBAAoB,GA4DM/hC,OAzDb,CACbgiC,IAAK,CACHC,GAAI,UACJC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,WAEPC,KAAM,CACJV,GAAI,UACJC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,WAEPE,OAAQ,CACNX,GAAI,UACJC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,WAEPG,KAAM,CACJZ,GAAI,UACJC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,YAU2BI,MANtB,CACZ7wC,KAAM,2BACN8wC,QAAS,2BACTC,KAAM,4BAGmCC,WCjE5B,CACbppC,OCwHa,CAAEqpC,SALA,CACfC,QAjHqB,SACrB5qC,GAEA,IAAMvV,EAA+B,SAApBuV,EAAMoN,UAYjBjJ,EAAW,CACfuF,MAZuBmhC,aACvBpgD,EAAW,WAAa,WACxB,GAFuBogD,CAGvB7qC,EAAM8qC,OAUNC,OAAQ,OACRC,OAAQ,cACRrqC,UAAW,OACXiL,GAZgBi/B,aAChBpgD,EAAW,UAAY,UACvB,EAFgBogD,CAGhB7qC,EAAM8qC,QAYR,MAAO,CACLphC,MAAOjf,EAAW,UAAY,UAC9Bg1B,aAAc,OACd7T,GAAInhB,EACA,2CACA,4CACJwgD,cAAe,SACf/1B,WAAY,MACZtL,QAAS,UACTshC,OAAQ,CACNxhC,MAAO,UACPkC,GAAI,4CACJjL,UAvBmBlW,EACnB,sCACA,qCAsBA0gD,UAAWhnC,GAEbvD,QAAS,CACP8I,MAAO,UACPkC,GAAI,WAENu/B,UAAWhnC,EACXzD,OAAQ,CACNC,UAAW,UAsEfyqC,MAjEmB,SAACprC,GACpB,IAOMmE,EAAW,CACfoI,QAAS,IACT7C,MATuBmhC,aAAe,WAAY,GAA3BA,CAAgC7qC,EAAM8qC,OAU7DC,OAAQ,OACRC,OAAQ,cACRrqC,UAAW,OACXiL,GAZgBi/B,aAAe,UAAW,GAA1BA,CAA+B7qC,EAAM8qC,QAcvD,MAAO,CACLphC,MAdmC,SAApB1J,EAAMoN,UAcH,UAAY,UAC9BqS,aAAc,OACd9zB,SAAU,OACViU,MAAO,OACPqrC,cAAe,SACf/1B,WAAY,MACZtL,QAAS,UACTmhC,OAAQ,OACRn/B,GAAI,UACJs/B,OAAQ,CACNxhC,MAAO,UACPkC,GAAI,UACJjL,UAxBkB,UAApBX,EAAMoN,UACF,qCACA,sCAuBF+9B,UAAWhnC,GAEbgnC,UAAWhnC,EACXzD,OAAQ,CACNC,UAAW,UAgCf0qC,QA3BoB,SAACrrC,GACrB,IAAMvV,EAA+B,SAApBuV,EAAMoN,UAEvB,MAAO,CACLqS,aAAc,OACdhf,YAAahW,EACT,sCACA,sCACJygD,OAAQ,CACNt/B,GAAInhB,EACA,sCACA,uCAENiW,OAAQ,CACNC,UAAW,QAEbC,QAAS,CACPgL,GAAInhB,EACA,sCACA,2CD7GR6gD,KEgCa,CAAEX,SAHA,CACfC,QA7BqB,SACrB5qC,GAEA,IAAMvV,EAA+B,SAApBuV,EAAMoN,UACvB,MAAO,CACLm+B,IAAK,CACH9rB,aAAc,OACdvK,WAAY,WACZxL,MAAO,OACPkC,GAAInhB,EAAW,wBAA0B,2BACzC+gD,UAAW,CACT9hC,MAAOjf,EAAW,UAAY,UAC9BmhB,GAAInhB,EACA,2CACA,6CAENmW,QAAS,CACP8I,MAAOjf,EAAW,UAAY,UAC9BmhB,GAAInhB,EACA,2CACA,6CAENiW,OAAQ,CACNC,UAAW,aFvBjB8qC,MGoDa,CAAEd,SAJA,CACfC,QAjDqB,SACrB5qC,GAEA,IAAM0rC,EAAgB1rC,EAAM0f,UAAY,UAAY,UAC9Cj1B,EAA+B,SAApBuV,EAAMoN,UACvB,MAAO,CACLmS,MAAO,CACLosB,aAAc,YACdlrC,YAAairC,EACbjsB,aAAc,OACdmsB,GAAI,EACJhgC,GAAInhB,EAAW,kBAAoB,qBACnCygD,OAAQ,CACNt/B,GAAInhB,EAAW,kBAAoB,sBAErCohD,UAAW,CACTlrC,UAAW,kBACXmrC,WAAY,OAEdC,SAAU,CACRtrC,YAAa,qBACbE,UAAU,2BAEZD,OAAQ,CACND,YAAairC,EACb/qC,UAAU,mBAAD,OAAqB+qC,OAyBpCL,QAnBoB,SAACrrC,GACrB,IAAMvV,EAA+B,SAApBuV,EAAMoN,UAEvB,MAAO,CACLmS,MAAO,CACL9e,YAAahW,EAAW,sCAAwC,UAChEiW,OAAQ,CACNC,UAAW,OACXF,YAAahW,EAAW,UAAY,WAEtCygD,OAAQ,CACNzqC,YAAahW,EAAW,sCAAwC,eJsBzDuhD,gBAAY1C,I,wBK/DrB2C,GAA2B,CAAC,QAC5BC,GAAmBxuD,gBAAK,CAC5ByuD,OAAQF,KAcKG,GAZDC,aAAe,CAC3BC,QAAS,CACPj0C,eACAyG,SAEFytC,WAAW,GAAD,mBACLC,aAAqB,CAAEC,OAAO,KADzB,CAERC,gBAAK,CAAEP,OAAQF,OAEjBU,eAAgBC,iBAAM,GAAI,CAAE9tC,KAAM+tC,IAAoBX,MCAlDY,GAAsBC,YAAoB7tD,IAE5CmV,QAAUA,OAAOsW,WACnBtW,OAAOsW,SAASqiC,4BAA6B,GAG/CC,IAAMC,SAAN,MAAAD,IAAK,YAAaE,MAIlBC,KAAS1F,OACP,uCACE,eAAC,IAAD,CAAiB6B,iBAAkB8D,GAAYhG,OAAOkC,mBACtD,eAAC,KAAM+D,WAAP,UACE,eAAC,IAAD,CAAgBxC,MAAOuC,GAAvB,SACE,eAAC,IAAD,CAAmBE,WC7BZ,SACbC,GAEA,IAAMh+C,EAAU,IAAIi+C,KAAaD,EAAU,OAE3C,OADAh+C,EAAQk+C,gBAAkB,KACnBl+C,GDwBD,SACE,eAACs9C,GAAD,CAAqBS,WvJlBxB,WAA4C,IAAD,EAC1CC,EAAWG,YAAmB3vD,GAIpC,OAAQD,EAAc,UAAGA,SAAH,QAAqByvD,GuJanC,SACE,eAAC,KAAD,CAAUpB,MAAOA,GAAjB,SACE,eAAC,KAAD,UACE,eAAChF,GAAD,mBAQd95B,SAASsgC,eAAe,U,mBE9C1BjxD,EAAOC,QAAU,CAAC,cAAgB,qCAAqC,UAAY,iCAAiC,IAAM,2BAA2B,YAAc,mCAAmC,iBAAmB,wCAAwC,kBAAoB,yCAAyC,MAAQ,6BAA6B,UAAY,iCAAiC,SAAW,gCAAgC,gBAAkB,uCAAuC,WAAa,kCAAkC,IAAM,2BAA2B,KAAO,4BAA4B,MAAQ,6BAA6B,MAAQ,+B,mBCAppBD,EAAOC,QAAU,CAAC,aAAe,mCAAmC,KAAO,2BAA2B,IAAM,0BAA0B,eAAiB,qCAAqC,QAAU,8BAA8B,MAAQ,4BAA4B,UAAY,gCAAgC,aAAe,mCAAmC,UAAY,gCAAgC,QAAU,8BAA8B,MAAQ,8B,mBCAlcD,EAAOC,QAAU,CAAC,UAAY,6BAA6B,sBAAwB,yCAAyC,aAAe,gCAAgC,IAAM,uBAAuB,cAAgB,iCAAiC,UAAY,6BAA6B,UAAY,6BAA6B,KAAO,wBAAwB,UAAY,6BAA6B,SAAW,4BAA4B,SAAW,4BAA4B,WAAa,gC,mBCA9eD,EAAOC,QAAU,CAAC,aAAe,mCAAmC,eAAiB,qCAAqC,SAAW,+BAA+B,YAAc,kCAAkC,SAAW,+BAA+B,cAAgB,oCAAoC,UAAY,gCAAgC,WAAa,iCAAiC,eAAiB,qCAAqC,eAAiB,uC,mBCAndD,EAAOC,QAAU,CAAC,mBAAqB,sCAAsC,YAAc,+BAA+B,aAAe,gCAAgC,mBAAqB,sCAAsC,qBAAuB,wCAAwC,WAAa,8BAA8B,UAAY,6BAA6B,eAAiB,kCAAkC,kBAAoB,qCAAqC,UAAY,+B","file":"static/js/main.eeb2ecae.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"advancedOptions\":\"AdvancedOptions_advancedOptions__23aHo\",\"parameter\":\"AdvancedOptions_parameter__2ka7t\",\"options\":\"AdvancedOptions_options__1p5Mj\",\"inputGroup\":\"AdvancedOptions_inputGroup__-tyO2\",\"label\":\"AdvancedOptions_label__lz89u\",\"selected\":\"AdvancedOptions_selected__FSknH\",\"infiniteApproval\":\"AdvancedOptions_infiniteApproval__3HIfP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"supportedChains\":\"SupportedChains_supportedChains__YpGku\",\"textStyle\":\"SupportedChains_textStyle__38u-o\",\"buttonGroupIcon\":\"SupportedChains_buttonGroupIcon__2Pk1o\",\"chainList\":\"SupportedChains_chainList__1pWDw\",\"chain\":\"SupportedChains_chain___yER5\",\"chainInfo\":\"SupportedChains_chainInfo__C5y5_\",\"addNetwork\":\"SupportedChains_addNetwork__1d1SW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"virtualSwapModal\":\"PendingSwapModal_virtualSwapModal__-sD6B\",\"headerContent\":\"PendingSwapModal_headerContent__3LIny\",\"centerContent\":\"PendingSwapModal_centerContent__3YmsN\",\"timer\":\"PendingSwapModal_timer__mW1wh\",\"footerContent\":\"PendingSwapModal_footerContent__1Phmq\",\"title\":\"PendingSwapModal_title__2M9tJ\",\"about\":\"PendingSwapModal_about__220gu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"balanceContainer\":\"TokenInput_balanceContainer__cPUnG\",\"tokenInputContainer\":\"TokenInput_tokenInputContainer__1WJUN\",\"smallText\":\"TokenInput_smallText__20eyf\",\"boldText\":\"TokenInput_boldText__31KZf\",\"tokenSymbolAndName\":\"TokenInput_tokenSymbolAndName__2Qvfw\",\"inputGroup\":\"TokenInput_inputGroup__a8J7C\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"exchangeWrapper\":\"PendingSwapExchange_exchangeWrapper__3P4vW\",\"buttonGroup\":\"PendingSwapExchange_buttonGroup__3xT7V\",\"error\":\"PendingSwapExchange_error__1EYOL\",\"stepWrapper\":\"PendingSwapExchange_stepWrapper__1Zf_8\",\"balanceWrapper\":\"PendingSwapExchange_balanceWrapper__2xZg9\",\"balance\":\"PendingSwapExchange_balance__2L9O0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"inputContainer\":\"StakeForm_inputContainer__1Qozp\",\"submitButton\":\"StakeForm_submitButton__2Hrdo\",\"approvalMessage\":\"StakeForm_approvalMessage__8YjVK\",\"stakeInfoContainer\":\"StakeForm_stakeInfoContainer__Sec7V\",\"infoMessage\":\"StakeForm_infoMessage__2AQyt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"timeline\":\"PendingSwapTimeline_timeline__1sPHc\",\"timelineStep\":\"PendingSwapTimeline_timelineStep__2t7Kw\",\"active\":\"PendingSwapTimeline_active__3svFY\",\"inactive\":\"PendingSwapTimeline_inactive__3GC1p\",\"timelineLine\":\"PendingSwapTimeline_timelineLine__1dOO5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"farmTabs\":\"FarmTabs_farmTabs__1LTkG\",\"farmTitle\":\"FarmTabs_farmTitle__33ht4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"farmPage\":\"FarmPage_farmPage__5w2kk\",\"stakeDetailsContainer\":\"FarmPage_stakeDetailsContainer__1S2nC\",\"approveButtons\":\"FarmPage_approveButtons__1lGBg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bottommenu\":\"BottomMenu_bottommenu__2xAXQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"farmFooter\":\"FarmFooter_farmFooter__YHHrl\",\"goBack\":\"FarmFooter_goBack__O3JL-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"farm\":\"Farm_farm__CCH1x\",\"container\":\"Farm_container__dvLJc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"farms\":\"Farms_farms__1xs58\",\"container\":\"Farms_container__3m4Cc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"poolsPage\":\"Pools_poolsPage__2iM88\",\"filters\":\"Pools_filters__ent_s\",\"filterTab\":\"Pools_filterTab__xTao7\",\"selected\":\"Pools_selected__CZ4Wl\",\"outdated\":\"Pools_outdated__7Amog\",\"content\":\"Pools_content__2Zzuv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"stake\":\"Stake_stake__X3ZLR\",\"container\":\"Stake_container__84PXq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"arrowLeft\":\"BackButton_arrowLeft__2GUbE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"addToken\":\"RosePriceButton_addToken__3jl-Y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"divider\":\"Divider_divider__w0lGF\"};","import Fetch from \"i18next-fetch-backend\"\nimport LanguageDetector from \"i18next-browser-languagedetector\"\nimport i18next from \"i18next\"\nimport { initReactI18next } from \"react-i18next\"\n\nvoid i18next\n  .use(Fetch)\n  .use(LanguageDetector)\n  .use(initReactI18next)\n  .init({\n    backend: {\n      loadPath: `./locales/{{lng}}.json`,\n      requestOptions: {\n        cache: \"no-cache\", // validate the freshness of the cache\n      },\n    },\n    react: {\n      useSuspense: true,\n    },\n    fallbackLng: \"en\",\n    load: \"languageOnly\", // load zh.json for zh-CN\n    preload: [\"en\"],\n    keySeparator: false,\n    interpolation: { escapeValue: false },\n  })\n\nexport default i18next\n","import { BaseProvider, getDefaultProvider } from \"@ethersproject/providers\"\n\nimport { InjectedConnector } from \"@web3-react/injected-connector\"\nimport { NetworkConnector } from \"@web3-react/network-connector\"\nimport { WalletConnectConnector } from \"@web3-react/walletconnect-connector\"\n// import { WalletLinkConnector } from \"@web3-react/walletlink-connector\"\n\nconst NETWORK_URL =\n  process.env.REACT_APP_NETWORK_URL ?? \"https://mainnet.aurora.dev\"\nexport const NETWORK_CHAIN_ID: number = parseInt(\n  process.env.REACT_APP_CHAIN_ID ?? \"1313161554\",\n)\n\nexport const network = new NetworkConnector({\n  urls: { [NETWORK_CHAIN_ID]: NETWORK_URL },\n})\n\nlet networkLibrary: BaseProvider | undefined\nexport function getNetworkLibrary(): BaseProvider {\n  const provider = getDefaultProvider(NETWORK_URL)\n  if (NETWORK_URL) {\n    // console.log(`Connecting to network URL: ${NETWORK_URL}`)\n  }\n  return (networkLibrary = networkLibrary ?? provider)\n}\n\nexport const injected = new InjectedConnector({\n  // mainnet, ropsten, rinkeby, goerli, kovan, local buidler\n  // see: https://github.com/ethereum/EIPs/blob/master/EIPS/eip-155.md\n  supportedChainIds: [1313161554, 1313161555],\n})\n\nexport const walletconnect = new WalletConnectConnector({\n  rpc: { [NETWORK_CHAIN_ID]: NETWORK_URL },\n  bridge: \"https://bridge.walletconnect.org\",\n  qrcode: true,\n  // pollingInterval: POLLING_INTERVAL / 12000\n})\n\n// export const walletlink = new WalletLinkConnector({\n//   url: NETWORK_URL,\n//   appName: \"Rose\",\n// })\n","import { injected, walletconnect } from \"../connectors\"\n\nimport { AbstractConnector } from \"@web3-react/abstract-connector\"\nimport { BigNumber } from \"@ethersproject/bignumber\"\nimport alethLogo from \"../assets/icons/aleth.svg\"\nimport alusdLogo from \"../assets/icons/alusd.svg\"\nimport atustLogo from \"../assets/icons/atust.svg\"\nimport busdLogo from \"../assets/icons/busd.svg\"\n// import coinbasewalletIcon from \"../assets/icons/coinbasewallet.svg\"\nimport daiLogo from \"../assets/icons/dai.svg\"\nimport feiLogo from \"../assets/icons/fei.svg\"\nimport fraxLogo from \"../assets/icons/frax.svg\"\nimport lusdLogo from \"../assets/icons/lusd.svg\"\nimport metamaskIcon from \"../assets/icons/metamask.svg\"\nimport renbtcLogo from \"../assets/icons/renbtc.svg\"\nimport roseAtust from \"../assets/icons/rose-atust.svg\"\nimport roseBusdLogo from \"../assets/icons/rose-busd.svg\"\nimport roseFraxLogo from \"../assets/icons/rose-frax.svg\"\nimport roseLogo from \"../assets/icons/rose.svg\"\nimport sRoseLogo from \"../assets/icons/srose.svg\"\nimport saddleLogo from \"../assets/icons/logo_24.svg\"\nimport sbtcLogo from \"../assets/icons/sbtc.svg\"\nimport sethLogo from \"../assets/icons/seth.svg\"\nimport susdLogo from \"../assets/icons/susd.svg\"\nimport tbtcLogo from \"../assets/icons/tbtc.svg\"\nimport usdcLogo from \"../assets/icons/usdc.svg\"\nimport usdtLogo from \"../assets/icons/usdt.svg\"\nimport veth2Logo from \"../assets/icons/veth2.svg\"\nimport walletconnectIcon from \"../assets/icons/walletconnect.svg\"\nimport wbtcLogo from \"../assets/icons/wbtc.svg\"\nimport wcusdLogo from \"../assets/icons/wcusd.png\"\nimport wethLogo from \"../assets/icons/weth.svg\"\n\nexport const NetworkContextName = \"NETWORK\"\n\n// POOLS\nexport const BTC_POOL_NAME = \"BTC Pool\"\nexport const BTC_POOL_V2_NAME = \"BTC Pool V2\"\nexport const STABLECOIN_POOL_NAME = \"Stablecoin Pool\"\nexport const STABLECOIN_POOL_V2_NAME = \"Stables Pool\"\nexport const VETH2_POOL_NAME = \"vETH2 Pool\"\nexport const ALETH_POOL_NAME = \"alETH Pool\"\nexport const D4_POOL_NAME = \"D4 Pool\"\nexport const SUSD_METAPOOL_NAME = \"sUSD Metapool\"\nexport const TBTC_METAPOOL_NAME = \"tBTC Metapool\"\nexport const WCUSD_METAPOOL_NAME = \"wCUSD Metapool\"\nexport const FRAX_STABLES_LP_POOL_NAME = \"Frax Pool (outdated)\"\nexport const FRAX_METAPOOL_NAME = \"Frax Pool\"\nexport const STAKED_ROSE_LP_POOL_NAME = \"stRose Pool\"\nexport const UST_METAPOOL_NAME = \"UST Pool\"\nexport const BUSD_METAPOOL_NAME = \"BUSD Pool\"\n\n// FARMS\nexport const STABLES_FARM_NAME = \"Stables Farm\"\nexport const FRAX_METAPOOL_FARM_NAME = \"Frax Farm\"\nexport const UST_METAPOOL_FARM_NAME = \"UST Farm\"\nexport const ROSE_PAD_NLP_FARM_NAME = \"ROSE/PAD PLP Farm\"\nexport const ROSE_FRAX_NLP_FARM_NAME = \"ROSE/FRAX PLP Farm\"\nexport const SROSE_FARM_NAME = \"stRose Farm\"\nexport const BUSD_METAPOOL_FARM_NAME = \"BUSD Farm\"\n\nexport type PoolName =\n  | typeof BTC_POOL_NAME\n  | typeof BTC_POOL_V2_NAME\n  | typeof STABLECOIN_POOL_NAME\n  | typeof STABLECOIN_POOL_V2_NAME\n  | typeof VETH2_POOL_NAME\n  | typeof ALETH_POOL_NAME\n  | typeof D4_POOL_NAME\n  | typeof SUSD_METAPOOL_NAME\n  | typeof TBTC_METAPOOL_NAME\n  | typeof WCUSD_METAPOOL_NAME\n  | typeof FRAX_STABLES_LP_POOL_NAME\n  | typeof FRAX_METAPOOL_NAME\n  | typeof UST_METAPOOL_NAME\n  | typeof STAKED_ROSE_LP_POOL_NAME\n  | typeof UST_METAPOOL_NAME\n  | typeof BUSD_METAPOOL_NAME\n\nexport type FarmName =\n  | typeof STABLES_FARM_NAME\n  | typeof FRAX_METAPOOL_FARM_NAME\n  | typeof UST_METAPOOL_FARM_NAME\n  | typeof ROSE_PAD_NLP_FARM_NAME\n  | typeof ROSE_FRAX_NLP_FARM_NAME\n  | typeof BUSD_METAPOOL_FARM_NAME\n// | typeof SROSE_FARM_NAME\n\nexport enum ChainId {\n  MAINNET = 1,\n  ROPSTEN = 3,\n  // RINKEBY = 4,\n  // GÖRLI = 5,\n  // KOVAN = 42,\n  HARDHAT = 31337,\n  AURORA_TESTNET = 1313161555,\n  AURORA_MAINNET = 1313161554,\n}\nexport enum PoolTypes {\n  BTC,\n  ETH,\n  USD,\n  OTHER,\n}\n\nexport class Token {\n  readonly addresses: { [chainId in ChainId]: string }\n  readonly decimals: number\n  readonly symbol: string\n  readonly name: string\n  readonly icon: string\n  readonly geckoId: string\n  readonly isSynthetic: boolean\n  readonly isLPToken: boolean\n\n  constructor(\n    addresses: { [chainId in ChainId]: string },\n    decimals: number,\n    symbol: string,\n    geckoId: string,\n    name: string,\n    icon: string,\n    isSynthetic = false,\n    isLPToken = false,\n  ) {\n    this.addresses = addresses\n    this.decimals = decimals\n    this.symbol = symbol\n    this.geckoId = geckoId\n    this.name = name\n    this.icon = icon\n    this.isSynthetic = isSynthetic\n    this.isLPToken = isLPToken\n  }\n}\n\nexport const BLOCK_TIME = 13000 // ms\n\nexport const SYNTHETIX_CONTRACT_ADDRESSES: { [chainId in ChainId]: string } = {\n  [ChainId.MAINNET]: \"0xC011a73ee8576Fb46F5E1c5751cA3B9Fe0af2a6F\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"\",\n  [ChainId.AURORA_TESTNET]: \"\",\n  [ChainId.AURORA_MAINNET]: \"\",\n}\n\nexport const SYNTHETIX_EXCHANGE_RATES_CONTRACT_ADDRESSES: {\n  [chainId in ChainId]: string\n} = {\n  [ChainId.MAINNET]: \"0xd69b189020EF614796578AfE4d10378c5e7e1138\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"\",\n  [ChainId.AURORA_TESTNET]: \"\",\n  [ChainId.AURORA_MAINNET]: \"\",\n}\n\nexport const BRIDGE_CONTRACT_ADDRESSES: { [chainId in ChainId]: string } = {\n  [ChainId.MAINNET]: \"0xa5bD85ed9fA27ba23BfB702989e7218E44fd4706\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"\",\n  [ChainId.AURORA_TESTNET]: \"\",\n  [ChainId.AURORA_MAINNET]: \"\",\n}\n\nexport const SWAP_MIGRATOR_USD_CONTRACT_ADDRESSES: {\n  [chainId in ChainId]: string\n} = {\n  [ChainId.MAINNET]: \"0x9cDeF6e33687F438808766fC133b2E9d1A16AD57\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"0x99bbA657f2BbC93c02D617f8bA121cB8Fc104Acf\",\n  [ChainId.AURORA_TESTNET]: \"\",\n  [ChainId.AURORA_MAINNET]: \"\",\n}\n\nexport const SUSD_META_SWAP_ADDRESSES: { [chainId in ChainId]: string } = {\n  [ChainId.MAINNET]: \"0x0C8BAe14c9f9BF2c953997C881BEfaC7729FD314\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"0x9d4454B023096f34B160D6B654540c56A1F81688\",\n  [ChainId.AURORA_TESTNET]: \"\",\n  [ChainId.AURORA_MAINNET]: \"\",\n}\n\nexport const SUSD_META_SWAP_DEPOSIT_ADDRESSES: {\n  [chainId in ChainId]: string\n} = {\n  [ChainId.MAINNET]: \"0x1e35ebF875f8A2185EDf22da02e7dBCa0F5558aB\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"0x809d550fca64d94Bd9F66E60752A544199cfAC3D\",\n  [ChainId.AURORA_TESTNET]: \"\",\n  [ChainId.AURORA_MAINNET]: \"\",\n}\n\nexport const TBTC_META_SWAP_ADDRESSES: { [chainId in ChainId]: string } = {\n  [ChainId.MAINNET]: \"0xf74ebe6e5586275dc4CeD78F5DBEF31B1EfbE7a5\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"0xA22D78bc37cE77FeE1c44F0C2C0d2524318570c3\",\n  [ChainId.AURORA_TESTNET]: \"\",\n  [ChainId.AURORA_MAINNET]: \"\",\n}\n\nexport const TBTC_META_SWAP_DEPOSIT_ADDRESSES: {\n  [chainId in ChainId]: string\n} = {\n  [ChainId.MAINNET]: \"0xee1ec4e1C6e39C31dAaf3db2A62A397bdf3fe2f1\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"0x0ed2E86FcE2e5A7965f59708c01f88a722BC7f07\",\n  [ChainId.AURORA_TESTNET]: \"\",\n  [ChainId.AURORA_MAINNET]: \"\",\n}\n\nexport const WCUSD_META_SWAP_ADDRESSES: { [chainId in ChainId]: string } = {\n  [ChainId.MAINNET]: \"0x3F1d224557afA4365155ea77cE4BC32D5Dae2174\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"0x1429859428C0aBc9C2C47C8Ee9FBaf82cFA0F20f\",\n  [ChainId.AURORA_TESTNET]: \"\",\n  [ChainId.AURORA_MAINNET]: \"\",\n}\n\nexport const WCUSD_META_SWAP_DEPOSIT_ADDRESSES: {\n  [chainId in ChainId]: string\n} = {\n  [ChainId.MAINNET]: \"0x401AFbc31ad2A3Bc0eD8960d63eFcDEA749b4849\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"0x922D6956C99E12DFeB3224DEA977D0939758A1Fe\",\n  [ChainId.AURORA_TESTNET]: \"\",\n  [ChainId.AURORA_MAINNET]: \"\",\n}\n\nexport const STABLECOIN_SWAP_ADDRESSES: { [chainId in ChainId]: string } = {\n  [ChainId.MAINNET]: \"0x3911F80530595fBd01Ab1516Ab61255d75AEb066\",\n  [ChainId.ROPSTEN]: \"0xbCED0cB1e8022869678d40b3c71FA7A443CA8090\",\n  [ChainId.HARDHAT]: \"0x98A0Bc3f9FdAD482CB2e40dE1291f8b0A6FE1860\",\n  [ChainId.AURORA_TESTNET]: \"\",\n  [ChainId.AURORA_MAINNET]: \"\",\n}\n\nexport const STABLECOIN_SWAP_V2_ADDRESSES: { [chainId in ChainId]: string } = {\n  [ChainId.MAINNET]: \"0xaCb83E0633d6605c5001e2Ab59EF3C745547C8C7\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"0xbf9fBFf01664500A33080Da5d437028b07DFcC55\",\n  [ChainId.AURORA_TESTNET]: \"0x2Ec594949EC5CaEb1430B61FE20aEEe6655756ed\",\n  [ChainId.AURORA_MAINNET]: \"0xc90dB0d8713414d78523436dC347419164544A3f\",\n}\n\nexport const FRAX_STABLES_LP_ADDRESSES: { [chainId in ChainId]: string } = {\n  [ChainId.MAINNET]: \"\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"\",\n  [ChainId.AURORA_TESTNET]: \"0x2E7d99fF3a89937339dDC651EdbA6e564B751bE7\",\n  [ChainId.AURORA_MAINNET]: \"0xd812cc1fc1e0a56560796C746B1247e2bd4F31f2\",\n}\n\nexport const FRAX_METAPOOL_ADDRESSES: { [chainId in ChainId]: string } = {\n  [ChainId.MAINNET]: \"\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"\",\n  [ChainId.AURORA_TESTNET]: \"0xfbC22278A96299D91d41C453234d97b4F5Eb9B2d\",\n  [ChainId.AURORA_MAINNET]: \"0xa34315F1ef49392387Dd143f4578083A9Bd33E94\",\n}\n\nexport const UST_METAPOOL_ADDRESSES: { [chainId in ChainId]: string } = {\n  [ChainId.MAINNET]: \"\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"\",\n  [ChainId.AURORA_TESTNET]: \"0x1B8f7ac4acCa4ede18848203a54E57DF104C6f30\",\n  [ChainId.AURORA_MAINNET]: \"0x8fe44f5cce02D5BE44e3446bBc2e8132958d22B8\",\n}\n\nexport const BUSD_METAPOOL_ADDRESSES: { [chainId in ChainId]: string } = {\n  [ChainId.MAINNET]: \"\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"\",\n  [ChainId.AURORA_TESTNET]: \"0xD6cb7Bb7D63f636d1cA72A1D3ed6f7F67678068a\",\n  [ChainId.AURORA_MAINNET]: \"0xD6cb7Bb7D63f636d1cA72A1D3ed6f7F67678068a\",\n}\n\nexport const STAKED_ROSE_POOL_ADDRESSES: { [chainId in ChainId]: string } = {\n  [ChainId.MAINNET]: \"\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"\",\n  [ChainId.AURORA_TESTNET]: \"0x7e27881A7eABb81D0e32e03C498f97517Cb75470\",\n  [ChainId.AURORA_MAINNET]: \"0x36685AfD221622942Df61979d72a0064a17EF291\",\n}\n\nexport const BTC_SWAP_ADDRESSES: { [chainId in ChainId]: string } = {\n  [ChainId.MAINNET]: \"0x4f6A43Ad7cba042606dECaCA730d4CE0A57ac62e\",\n  [ChainId.ROPSTEN]: \"0x02ad8Da8cCa3764DFb62d749E51Cb3d4b35643ad\",\n  [ChainId.HARDHAT]: \"0x610178dA211FEF7D417bC0e6FeD39F05609AD788\",\n  [ChainId.AURORA_TESTNET]: \"\",\n  [ChainId.AURORA_MAINNET]: \"\",\n}\n\nexport const BTC_SWAP_V2_ADDRESSES: { [chainId in ChainId]: string } = {\n  [ChainId.MAINNET]: \"0xdf3309771d2BF82cb2B6C56F9f5365C8bD97c4f2\",\n  [ChainId.ROPSTEN]: \"\", // TODO: add address after deployment\n  [ChainId.HARDHAT]: \"0x93b6BDa6a0813D808d75aA42e900664Ceb868bcF\",\n  [ChainId.AURORA_TESTNET]: \"\",\n  [ChainId.AURORA_MAINNET]: \"\",\n}\n\nexport const VETH2_SWAP_ADDRESSES: { [chainId in ChainId]: string } = {\n  [ChainId.MAINNET]: \"0xdec2157831D6ABC3Ec328291119cc91B337272b5\",\n  [ChainId.ROPSTEN]: \"0x2C019509326485AE234c6CA8a51c9F4A0F94f5fA\",\n  [ChainId.HARDHAT]: \"0x6F62d12568c81Dc0fb38426B7Cdba2d265f89B29\",\n  [ChainId.AURORA_TESTNET]: \"\",\n  [ChainId.AURORA_MAINNET]: \"\",\n}\n\nexport const ALETH_SWAP_ADDRESSES: { [chainId in ChainId]: string } = {\n  [ChainId.MAINNET]: \"0xa6018520EAACC06C30fF2e1B3ee2c7c22e64196a\",\n  [ChainId.ROPSTEN]: \"0x53434526fCB7a5FF358AB74C13C1c582BBE6Ab9e\",\n  [ChainId.HARDHAT]: \"0xCafac3dD18aC6c6e92c921884f9E4176737C052c\",\n  [ChainId.AURORA_TESTNET]: \"\",\n  [ChainId.AURORA_MAINNET]: \"\",\n}\n\nexport const D4_SWAP_ADDRESSES: { [chainId in ChainId]: string } = {\n  [ChainId.MAINNET]: \"0xC69DDcd4DFeF25D8a793241834d4cc4b3668EAD6\",\n  [ChainId.ROPSTEN]: \"0xa5da0cB57830011c67Cb89e73582e7Bf0f49f81e\",\n  [ChainId.HARDHAT]: \"0x9f1ac54BEF0DD2f6f3462EA0fa94fC62300d3a8e\",\n  [ChainId.AURORA_TESTNET]: \"\",\n  [ChainId.AURORA_MAINNET]: \"\",\n}\n\nexport const MERKLETREE_DATA: { [chainId in ChainId]: string } = {\n  [ChainId.MAINNET]: \"mainnetTestAccounts.json\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"hardhat.json\",\n  [ChainId.AURORA_TESTNET]: \"\",\n  [ChainId.AURORA_MAINNET]: \"\",\n}\n\nexport const SUSD_SWAP_TOKEN_CONTRACT_ADDRESSES: {\n  [chainId in ChainId]: string\n} = {\n  [ChainId.MAINNET]: \"0x8Fa31c1b33De16bf05c38AF20329f22D544aD64c\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"0xBeaAFDA2E17fC95E69Dc06878039d274E0d2B21A\",\n  [ChainId.AURORA_TESTNET]: \"\",\n  [ChainId.AURORA_MAINNET]: \"\",\n}\n\nexport const STABLECOIN_SWAP_TOKEN_CONTRACT_ADDRESSES: {\n  [chainId in ChainId]: string\n} = {\n  [ChainId.MAINNET]: \"0x76204f8CFE8B95191A3d1CfA59E267EA65e06FAC\",\n  [ChainId.ROPSTEN]: \"0x09f0e9d602c9989B2C03983cA37E7fa18084C44B\",\n  [ChainId.HARDHAT]: \"0x6D1c89F08bbB35d80B6E6b6d58D2bEFE021eFE8d\",\n  [ChainId.AURORA_TESTNET]: \"\",\n  [ChainId.AURORA_MAINNET]: \"\",\n}\n\nexport const STABLECOIN_SWAP_V2_TOKEN_CONTRACT_ADDRESSES: {\n  [chainId in ChainId]: string\n} = {\n  [ChainId.MAINNET]: \"0x5f86558387293b6009d7896A61fcc86C17808D62\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"0xC863F1F636fddce400E7515eCBDAbbEc4d1E0390\",\n  [ChainId.AURORA_TESTNET]: \"0xFDE5214eF60617fb63A688C9C51cF5262254B4b7\",\n  [ChainId.AURORA_MAINNET]: \"0xfF79D5bff48e1C01b722560D6ffDfCe9FC883587\",\n}\n\nexport const WCUSD_SWAP_TOKEN_CONTRACT_ADDRESSES: {\n  [chainId in ChainId]: string\n} = {\n  [ChainId.MAINNET]: \"0x78179d49C13c4ECa14C69545ec172Ba0179EAE6B\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"0x465Df401621060aE6330C13cA7A0baa2B0a9d66D\",\n  [ChainId.AURORA_TESTNET]: \"\",\n  [ChainId.AURORA_MAINNET]: \"\",\n}\n\nexport const BTC_SWAP_TOKEN_CONTRACT_ADDRESSES: {\n  [chainId in ChainId]: string\n} = {\n  [ChainId.MAINNET]: \"0xC28DF698475dEC994BE00C9C9D8658A548e6304F\",\n  [ChainId.ROPSTEN]: \"0x7546eC9bf608162117D9Ac6A3F7D50aaE9ea9E6B\",\n  [ChainId.HARDHAT]: \"0x6F1216D1BFe15c98520CA1434FC1d9D57AC95321\",\n  [ChainId.AURORA_TESTNET]: \"\",\n  [ChainId.AURORA_MAINNET]: \"\",\n}\n\nexport const BTC_SWAP_V2_TOKEN_CONTRACT_ADDRESSES: {\n  [chainId in ChainId]: string\n} = {\n  [ChainId.MAINNET]: \"0xF32E91464ca18fc156aB97a697D6f8ae66Cd21a3\",\n  [ChainId.ROPSTEN]: \"\", // TODO: add address after deployment\n  [ChainId.HARDHAT]: \"0xbBc1b70e4e04486570bfB621194d4f901a906E8F\",\n  [ChainId.AURORA_TESTNET]: \"\",\n  [ChainId.AURORA_MAINNET]: \"\",\n}\n\nexport const TBTC_SWAP_TOKEN_CONTRACT_ADDRESSES: {\n  [chainId in ChainId]: string\n} = {\n  [ChainId.MAINNET]: \"0x122Eca07139EB368245A29FB702c9ff11E9693B7\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"0xf76070F44307a4B6649fEC2081cE4B4730c37C76\",\n  [ChainId.AURORA_TESTNET]: \"\",\n  [ChainId.AURORA_MAINNET]: \"\",\n}\n\nexport const VETH2_SWAP_TOKEN_CONTRACT_ADDRESSES: {\n  [chainId in ChainId]: string\n} = {\n  [ChainId.MAINNET]: \"0xe37E2a01feA778BC1717d72Bd9f018B6A6B241D5\",\n  [ChainId.ROPSTEN]: \"0x28B465383ab829adFf02794917cD2FB8d04b0902\",\n  [ChainId.HARDHAT]: \"0xd44a47B19a7862709588D574f39480f9C4DED1A6\",\n  [ChainId.AURORA_TESTNET]: \"\",\n  [ChainId.AURORA_MAINNET]: \"\",\n}\n\nexport const ALETH_SWAP_TOKEN_CONTRACT_ADDRESSES: {\n  [chainId in ChainId]: string\n} = {\n  [ChainId.MAINNET]: \"0xc9da65931ABf0Ed1b74Ce5ad8c041C4220940368\",\n  [ChainId.ROPSTEN]: \"0x13e0d50308C01cf5BdA4b64CcBCceF0C6B9710DF\",\n  [ChainId.HARDHAT]: \"0xAe367415f4BDe0aDEE3e59C35221d259f517413E\",\n  [ChainId.AURORA_TESTNET]: \"\",\n  [ChainId.AURORA_MAINNET]: \"\",\n}\n\nexport const D4_SWAP_TOKEN_CONTRACT_ADDRESSES: {\n  [chainId in ChainId]: string\n} = {\n  [ChainId.MAINNET]: \"0xd48cF4D7FB0824CC8bAe055dF3092584d0a1726A\",\n  [ChainId.ROPSTEN]: \"0xA2b37a2c1F5E523f867137D2394Da1AC2283f473\",\n  [ChainId.HARDHAT]: \"0x2d2c18F63D2144161B38844dCd529124Fbb93cA2\",\n  [ChainId.AURORA_TESTNET]: \"\",\n  [ChainId.AURORA_MAINNET]: \"\",\n}\n\nexport const FRAX_STABLES_LP_TOKEN_CONTRACT_ADDRESSES: {\n  [chainId in ChainId]: string\n} = {\n  [ChainId.MAINNET]: \"\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"\",\n  [ChainId.AURORA_TESTNET]: \"0xC604298cAf81dEeFd245343e7c891b4C8860CB0E\",\n  [ChainId.AURORA_MAINNET]: \"0xbB5279353d88A25F099A334Ba49CDCb1CF4b5A7c\",\n}\n\nexport const FRAX_METAPOOL_LP_TOKEN_CONTRACT_ADDRESSES: {\n  [chainId in ChainId]: string\n} = {\n  [ChainId.MAINNET]: \"\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"\",\n  [ChainId.AURORA_TESTNET]: \"0x4EE6eCAD1c2Dae9f525404De8555724e3c35d07B\",\n  [ChainId.AURORA_MAINNET]: \"0x4463A118A2fB34640ff8eF7Fe1B3abAcd4aC9fB7\",\n}\n\nexport const UST_METAPOOL_LP_TOKEN_CONTRACT_ADDRESSES: {\n  [chainId in ChainId]: string\n} = {\n  [ChainId.MAINNET]: \"\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"\",\n  [ChainId.AURORA_TESTNET]: \"0x1BCD872ECEf68C77465a8dADa1d915D7Af206bF5\",\n  [ChainId.AURORA_MAINNET]: \"0x94A7644E4D9CA0e685226254f88eAdc957D3c263\",\n}\n\nexport const ROSE_PAD_NLP_TOKEN_CONTRACT_ADDRESSES: {\n  [chainId in ChainId]: string\n} = {\n  [ChainId.MAINNET]: \"\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"\",\n  [ChainId.AURORA_TESTNET]: \"0xC6C3cc84EabD4643C382C988fA2830657fc70a6B\", // TO-DO: UPDATE\n  [ChainId.AURORA_MAINNET]: \"0xC6C3cc84EabD4643C382C988fA2830657fc70a6B\",\n}\n\nexport const ROSE_FRAX_NLP_TOKEN_CONTRACT_ADDRESSES: {\n  [chainId in ChainId]: string\n} = {\n  [ChainId.MAINNET]: \"\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"\",\n  [ChainId.AURORA_TESTNET]: \"0xeD4C231b98b474f7cAeCAdD2736e5ebC642ad707\", // TO-DO: UPDATE\n  [ChainId.AURORA_MAINNET]: \"0xeD4C231b98b474f7cAeCAdD2736e5ebC642ad707\",\n}\n\nexport const SROSE_LP_TOKEN_CONTRACT_ADDRESSES: {\n  [chainId in ChainId]: string\n} = {\n  [ChainId.MAINNET]: \"\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"\",\n  [ChainId.AURORA_TESTNET]: \"0xcb2B566B1e643d068DE7DE76C5420A1c63ceD299\",\n  [ChainId.AURORA_MAINNET]: \"0x7Ba8C17010a48283D38a4bd5f87EfEB5594c92f8\",\n}\n\nexport const BUSD_METAPOOL_LP_TOKEN_CONTRACT_ADDRESSES: {\n  [chainId in ChainId]: string\n} = {\n  [ChainId.MAINNET]: \"\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"\",\n  [ChainId.AURORA_TESTNET]: \"0x158f57CF9A4DBFCD1Bc521161d86AeCcFC5aF3Bc\", // note: missing testnet deployment\n  [ChainId.AURORA_MAINNET]: \"0x158f57CF9A4DBFCD1Bc521161d86AeCcFC5aF3Bc\",\n}\n\nexport const SUSD_SWAP_TOKEN = new Token(\n  SUSD_SWAP_TOKEN_CONTRACT_ADDRESSES,\n  18,\n  \"saddleSUSD\",\n  \"saddlesusd\",\n  \"Saddle sUSD/saddleUSD-V2\",\n  saddleLogo,\n  false,\n  true,\n)\n\nexport const BTC_SWAP_TOKEN = new Token(\n  BTC_SWAP_TOKEN_CONTRACT_ADDRESSES,\n  18,\n  \"saddleBTC\",\n  \"saddlebtc\",\n  \"Saddle TBTC/WBTC/RENBTC/SBTC\",\n  saddleLogo,\n  false,\n  true,\n)\n\nexport const BTC_SWAP_V2_TOKEN = new Token(\n  BTC_SWAP_V2_TOKEN_CONTRACT_ADDRESSES,\n  18,\n  \"saddleBTC-V2\",\n  \"saddlebtc-v2\",\n  \"Saddle WBTC/RENBTC/SBTC\",\n  saddleLogo,\n  false,\n  true,\n)\n\nexport const TBTC_SWAP_TOKEN = new Token(\n  TBTC_SWAP_TOKEN_CONTRACT_ADDRESSES,\n  18,\n  \"saddletBTC\",\n  \"saddletBTC\",\n  \"Saddle tBTCv2/saddleWRenSBTC\",\n  saddleLogo,\n  false,\n  true,\n)\n\nexport const STABLECOIN_SWAP_TOKEN = new Token(\n  STABLECOIN_SWAP_TOKEN_CONTRACT_ADDRESSES,\n  18,\n  \"saddleUSD\",\n  \"saddleusd\",\n  \"Saddle DAI/USDC/USDT\",\n  saddleLogo,\n  false,\n  true,\n)\n\nexport const STABLECOIN_SWAP_V2_TOKEN = new Token(\n  STABLECOIN_SWAP_V2_TOKEN_CONTRACT_ADDRESSES,\n  18,\n  \"RoseStablesLP\",\n  \"tether\", // tracking USDT for now, as we can't fetch price for RoseStablesLP\n  \"RoseStablesLP\",\n  roseLogo,\n  false,\n  true,\n)\n\nexport const FRAX_STABLES_LP_TOKEN = new Token(\n  FRAX_STABLES_LP_TOKEN_CONTRACT_ADDRESSES,\n  18,\n  \"RoseFraxLP\",\n  \"rosefraxlp\",\n  \"Rose FRAX/StablesLP\",\n  roseFraxLogo,\n  false,\n  true,\n)\n\nexport const FRAX_METAPOOL_LP_TOKEN = new Token(\n  FRAX_METAPOOL_LP_TOKEN_CONTRACT_ADDRESSES,\n  18,\n  \"RoseFraxLP\",\n  \"rosefraxlp\",\n  \"Rose FRAX/StablesLP\",\n  roseFraxLogo,\n  false,\n  true,\n)\n\nexport const UST_METAPOOL_LP_TOKEN = new Token(\n  UST_METAPOOL_LP_TOKEN_CONTRACT_ADDRESSES,\n  18,\n  \"RoseUSTLP\",\n  \"roseustlp\",\n  \"Rose atUST/StablesLP\",\n  roseAtust,\n  false,\n  true,\n)\n\nexport const ROSE_PAD_NLP_TOKEN = new Token(\n  ROSE_PAD_NLP_TOKEN_CONTRACT_ADDRESSES,\n  18,\n  \"RosePadNLP\",\n  \"rosepadnlp\",\n  \"ROSE/PAD PLP\",\n  roseLogo, // TO-DO: change to new logo\n  false,\n  true,\n)\n\nexport const ROSE_FRAX_NLP_TOKEN = new Token(\n  ROSE_FRAX_NLP_TOKEN_CONTRACT_ADDRESSES,\n  18,\n  \"RoseFraxNLP\",\n  \"rosefraxnlp\",\n  \"ROSE/FRAX PLP\",\n  roseFraxLogo, // TO-DO: change to new logo\n  false,\n  true,\n)\n\nexport const SROSE_LP_TOKEN = new Token(\n  SROSE_LP_TOKEN_CONTRACT_ADDRESSES,\n  18,\n  \"StakedRoseLP\",\n  \"stakedrosenlp\",\n  \"Rose ROSE/stROSE\",\n  sRoseLogo, // TO-DO: change to new logo\n  false,\n  true,\n)\n\nexport const BUSD_METAPOOL_LP_TOKEN = new Token(\n  BUSD_METAPOOL_LP_TOKEN_CONTRACT_ADDRESSES,\n  18,\n  \"RoseBUSDLP\",\n  \"rosebusdlp\",\n  \"Rose/BUSD LP\",\n  roseBusdLogo,\n  false,\n  true,\n)\n\nexport const WCUSD_SWAP_TOKEN = new Token(\n  WCUSD_SWAP_TOKEN_CONTRACT_ADDRESSES,\n  18,\n  \"saddlewCUSD\",\n  \"saddlewcusd\",\n  \"Saddle wCUSD/saddleUSD-V2\",\n  saddleLogo,\n  false,\n  true,\n)\n\nexport const VETH2_SWAP_TOKEN = new Token(\n  VETH2_SWAP_TOKEN_CONTRACT_ADDRESSES,\n  18,\n  \"saddleVETH2\",\n  \"saddleveth2\",\n  \"Saddle WETH/vETH2\",\n  saddleLogo,\n  false,\n  true,\n)\n\nexport const ALETH_SWAP_TOKEN = new Token(\n  ALETH_SWAP_TOKEN_CONTRACT_ADDRESSES,\n  18,\n  \"saddleALETH\",\n  \"saddlealeth\",\n  \"Saddle WETH/alETH/sETH\",\n  saddleLogo,\n  false,\n  true,\n)\n\nexport const D4_SWAP_TOKEN = new Token(\n  D4_SWAP_TOKEN_CONTRACT_ADDRESSES,\n  18,\n  \"saddleD4\",\n  \"saddled4\",\n  \"Saddle alUSD/FEI/FRAX/LUSD\",\n  saddleLogo,\n  false,\n  true,\n)\n\n// Stablecoins\nconst WCUSD_CONTRACT_ADDRESSES: { [chainId in ChainId]: string } = {\n  [ChainId.MAINNET]: \"0xad3e3fc59dff318beceaab7d00eb4f68b1ecf195\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"0xFD471836031dc5108809D173A067e8486B9047A3\",\n  [ChainId.AURORA_TESTNET]: \"\",\n  [ChainId.AURORA_MAINNET]: \"\",\n}\nexport const WCUSD = new Token(\n  WCUSD_CONTRACT_ADDRESSES,\n  18,\n  \"wCUSD\",\n  \"wrapped-celo-dollar\",\n  \"Wrapped Celo USD\",\n  wcusdLogo,\n)\n\nconst SUSD_CONTRACT_ADDRESSES: { [chainId in ChainId]: string } = {\n  [ChainId.MAINNET]: \"0x57Ab1ec28D129707052df4dF418D58a2D46d5f51\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"0x0E801D84Fa97b50751Dbf25036d067dCf18858bF\",\n  [ChainId.AURORA_TESTNET]: \"\",\n  [ChainId.AURORA_MAINNET]: \"\",\n}\nexport const SUSD = new Token(\n  SUSD_CONTRACT_ADDRESSES,\n  18,\n  \"sUSD\",\n  \"nusd\",\n  \"sUSD\",\n  susdLogo,\n  true,\n)\n\nconst DAI_CONTRACT_ADDRESSES: { [chainId in ChainId]: string } = {\n  [ChainId.MAINNET]: \"0x6B175474E89094C44Da98b954EedeAC495271d0F\",\n  [ChainId.ROPSTEN]: \"0x8C924e41d0624Ae6E7DB09fc93BBfB324c31BE0C\",\n  [ChainId.HARDHAT]: \"0xA51c1fc2f0D1a1b8494Ed1FE312d7C3a78Ed91C0\",\n  [ChainId.AURORA_TESTNET]: \"0x22EE86789837529E2F58Fd6D1dD6B0B26fc1e092\",\n  [ChainId.AURORA_MAINNET]: \"0xe3520349F477A5F6EB06107066048508498A291b\",\n}\nexport const DAI = new Token(\n  DAI_CONTRACT_ADDRESSES,\n  18,\n  \"DAI\",\n  \"dai\",\n  \"Dai\",\n  daiLogo,\n)\n\nconst USDC_CONTRACT_ADDRESSES: { [chainId in ChainId]: string } = {\n  [ChainId.MAINNET]: \"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48\",\n  [ChainId.ROPSTEN]: \"0xA4fe4981f7550884E7E6224F0c78245DC145b2F2\",\n  [ChainId.HARDHAT]: \"0x9A676e781A523b5d0C0e43731313A708CB607508\",\n  [ChainId.AURORA_TESTNET]: \"0x84606Cf2905f7004D6164a7aC2884A36BC8a0A90\",\n  [ChainId.AURORA_MAINNET]: \"0xB12BFcA5A55806AaF64E99521918A4bf0fC40802\",\n}\nexport const USDC = new Token(\n  USDC_CONTRACT_ADDRESSES,\n  6,\n  \"USDC\",\n  \"usd-coin\",\n  \"USDC Coin\",\n  usdcLogo,\n)\n\nconst USDT_CONTRACT_ADDRESSES: { [chainId in ChainId]: string } = {\n  [ChainId.MAINNET]: \"0xdac17f958d2ee523a2206206994597c13d831ec7\",\n  [ChainId.ROPSTEN]: \"0x0593d1b92e8Ba6bBC428923245891efF0311Fa15\",\n  [ChainId.HARDHAT]: \"0x959922bE3CAee4b8Cd9a407cc3ac1C251C2007B1\",\n  [ChainId.AURORA_TESTNET]: \"0x8547A073cbc7D4aF48aD061b9D005C06D55337F5\",\n  [ChainId.AURORA_MAINNET]: \"0x4988a896b1227218e4A686fdE5EabdcAbd91571f\",\n}\nexport const USDT = new Token(\n  USDT_CONTRACT_ADDRESSES,\n  6,\n  \"USDT\",\n  \"tether\",\n  \"Tether\",\n  usdtLogo,\n)\n\nexport const STABLECOIN_POOL_TOKENS = [DAI, USDC, USDT]\nexport const SUSD_POOL_TOKENS = [SUSD, ...STABLECOIN_POOL_TOKENS]\nexport const SUSD_UNDERLYING_POOL_TOKENS = [SUSD, STABLECOIN_SWAP_V2_TOKEN]\n\n// Tokenized BTC\nconst TBTC_CONTRACT_ADDRESSES: { [chainId in ChainId]: string } = {\n  [ChainId.MAINNET]: \"0x8daebade922df735c38c80c7ebd708af50815faa\",\n  [ChainId.ROPSTEN]: \"0x9F6aA48f852Dd928F53A7dd3dcd2AC96a76c8727\",\n  [ChainId.HARDHAT]: \"0x9fE46736679d2D9a65F0992F2272dE9f3c7fa6e0\",\n  [ChainId.AURORA_TESTNET]: \"\",\n  [ChainId.AURORA_MAINNET]: \"\",\n}\nexport const TBTC = new Token(\n  TBTC_CONTRACT_ADDRESSES,\n  18,\n  \"TBTC\",\n  \"tbtc\",\n  \"tBTC\",\n  tbtcLogo,\n)\n\nconst TBTC_V2_CONTRACT_ADDRESSES: { [chainId in ChainId]: string } = {\n  [ChainId.MAINNET]: \"0x18084fba666a33d37592fa2633fd49a74dd93a88\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"0x82e01223d51Eb87e16A03E24687EDF0F294da6f1\",\n  [ChainId.AURORA_TESTNET]: \"\",\n  [ChainId.AURORA_MAINNET]: \"\",\n}\nexport const TBTC_V2 = new Token(\n  TBTC_V2_CONTRACT_ADDRESSES,\n  18,\n  \"TBTCv2\",\n  \"tbtc\",\n  \"tBTCv2\",\n  tbtcLogo,\n)\n\nconst WBTC_CONTRACT_ADDRESSES: { [chainId in ChainId]: string } = {\n  [ChainId.MAINNET]: \"0x2260fac5e5542a773aa44fbcfedf7c193bc2c599\",\n  [ChainId.ROPSTEN]: \"0x7264594dFB80a150f80b2988862605dDfda53727\",\n  [ChainId.HARDHAT]: \"0xDc64a140Aa3E981100a9becA4E685f962f0cF6C9\",\n  [ChainId.AURORA_TESTNET]: \"\",\n  [ChainId.AURORA_MAINNET]: \"\",\n}\nexport const WBTC = new Token(\n  WBTC_CONTRACT_ADDRESSES,\n  8,\n  \"WBTC\",\n  \"wrapped-bitcoin\",\n  \"WBTC\",\n  wbtcLogo,\n)\n\nconst RENBTC_CONTRACT_ADDRESSES: { [chainId in ChainId]: string } = {\n  [ChainId.MAINNET]: \"0xeb4c2781e4eba804ce9a9803c67d0893436bb27d\",\n  [ChainId.ROPSTEN]: \"0x79B92D075d72d639D46D30CE15e6DdDE50ad5890\",\n  [ChainId.HARDHAT]: \"0x0165878A594ca255338adfa4d48449f69242Eb8F\",\n  [ChainId.AURORA_TESTNET]: \"\",\n  [ChainId.AURORA_MAINNET]: \"\",\n}\nexport const RENBTC = new Token(\n  RENBTC_CONTRACT_ADDRESSES,\n  8,\n  \"RENBTC\",\n  \"renbtc\",\n  \"renBTC\",\n  renbtcLogo,\n)\n\nconst SBTC_CONTRACT_ADDRESSES: { [chainId in ChainId]: string } = {\n  [ChainId.MAINNET]: \"0xfe18be6b3bd88a2d2a7f928d00292e7a9963cfc6\",\n  [ChainId.ROPSTEN]: \"0xAc2931cFA6ff57Aaf64B43DFdc5190ca3c341640\",\n  [ChainId.HARDHAT]: \"0x2279B7A0a67DB372996a5FaB50D91eAA73d2eBe6\",\n  [ChainId.AURORA_TESTNET]: \"\",\n  [ChainId.AURORA_MAINNET]: \"\",\n}\nexport const SBTC = new Token(\n  SBTC_CONTRACT_ADDRESSES,\n  18,\n  \"sBTC\",\n  \"sbtc\",\n  \"sBTC\",\n  sbtcLogo,\n  true,\n)\n\nexport const BTC_POOL_TOKENS = [TBTC, WBTC, RENBTC, SBTC]\nexport const BTC_POOL_V2_TOKENS = [WBTC, RENBTC, SBTC]\n\nexport const TBTC_POOL_TOKENS = [TBTC_V2, ...BTC_POOL_V2_TOKENS]\nexport const TBTC_UNDERLYING_POOL_TOKENS = [TBTC_V2, BTC_SWAP_V2_TOKEN]\n\nconst WETH_CONTRACT_ADDRESSES: { [chainId in ChainId]: string } = {\n  [ChainId.MAINNET]: \"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2\",\n  [ChainId.ROPSTEN]: \"0x0B68F3b6c7fc0b6dD4D9a2399C4AE35be060ba42\",\n  [ChainId.HARDHAT]: \"0x3Aa5ebB10DC797CAC828524e59A333d0A371443c\",\n  [ChainId.AURORA_TESTNET]: \"\",\n  [ChainId.AURORA_MAINNET]: \"\",\n}\nexport const WETH = new Token(\n  WETH_CONTRACT_ADDRESSES,\n  18,\n  \"WETH\",\n  \"ethereum\",\n  \"WETH\",\n  wethLogo,\n)\n\nconst VETH2_CONTRACT_ADDRESSES: { [chainId in ChainId]: string } = {\n  [ChainId.MAINNET]: \"0x898BAD2774EB97cF6b94605677F43b41871410B1\",\n  [ChainId.ROPSTEN]: \"0xd46Ea72ABf55699b17eAF529c6533e5c13F5E687\",\n  [ChainId.HARDHAT]: \"0x59b670e9fA9D0A427751Af201D676719a970857b\",\n  [ChainId.AURORA_TESTNET]: \"\",\n  [ChainId.AURORA_MAINNET]: \"\",\n}\nexport const VETH2 = new Token(\n  VETH2_CONTRACT_ADDRESSES,\n  18,\n  \"VETH2\",\n  \"ethereum\",\n  \"vETH2\",\n  veth2Logo,\n)\n\nexport const VETH2_POOL_TOKENS = [WETH, VETH2]\n\nconst ALETH_CONTRACT_ADDRESSES: { [chainId in ChainId]: string } = {\n  [ChainId.MAINNET]: \"0x0100546F2cD4C9D97f798fFC9755E47865FF7Ee6\",\n  [ChainId.ROPSTEN]: \"0xaA91d3f2C53BDBEdd45FaB0308d0b51315Dc32E7\",\n  [ChainId.HARDHAT]: \"0x09635F643e140090A9A8Dcd712eD6285858ceBef\",\n  [ChainId.AURORA_TESTNET]: \"\",\n  [ChainId.AURORA_MAINNET]: \"\",\n}\nexport const ALETH = new Token(\n  ALETH_CONTRACT_ADDRESSES,\n  18,\n  \"alETH\",\n  \"alchemix-eth\",\n  \"Alchemix ETH\",\n  alethLogo,\n)\n\nconst SETH_CONTRACT_ADDRESSES: { [chainId in ChainId]: string } = {\n  [ChainId.MAINNET]: \"0x5e74C9036fb86BD7eCdcb084a0673EFc32eA31cb\",\n  [ChainId.ROPSTEN]: \"0x82BD6d2A185ed1C48e01830853fEf7f4D02fF1cC\",\n  [ChainId.HARDHAT]: \"0x67d269191c92Caf3cD7723F116c85e6E9bf55933\",\n  [ChainId.AURORA_TESTNET]: \"\",\n  [ChainId.AURORA_MAINNET]: \"\",\n}\nexport const SETH = new Token(\n  SETH_CONTRACT_ADDRESSES,\n  18,\n  \"sETH\",\n  \"seth\",\n  \"Synth sETH\",\n  sethLogo,\n  true,\n)\n\nexport const ALETH_POOL_TOKENS = [WETH, ALETH, SETH]\n\nconst ALUSD_CONTRACT_ADDRESSES: { [chainId in ChainId]: string } = {\n  [ChainId.MAINNET]: \"0xBC6DA0FE9aD5f3b0d58160288917AA56653660E9\",\n  [ChainId.ROPSTEN]: \"0x8b7a92FdbC77c6d8c61644D118c37D813B2069C4\",\n  [ChainId.HARDHAT]: \"0x84eA74d481Ee0A5332c457a4d796187F6Ba67fEB\",\n  [ChainId.AURORA_TESTNET]: \"\",\n  [ChainId.AURORA_MAINNET]: \"\",\n}\nexport const ALUSD = new Token(\n  ALUSD_CONTRACT_ADDRESSES,\n  18,\n  \"alUSD\",\n  \"alchemix-usd\",\n  \"Alchemix USD\",\n  alusdLogo,\n)\n\nconst FEI_CONTRACT_ADDRESSES: { [chainId in ChainId]: string } = {\n  [ChainId.MAINNET]: \"0x956F47F50A910163D8BF957Cf5846D573E7f87CA\",\n  [ChainId.ROPSTEN]: \"0x02020a3006587080a00d6675AFfACC99344521AC\",\n  [ChainId.HARDHAT]: \"0xa82fF9aFd8f496c3d6ac40E2a0F282E47488CFc9\",\n  [ChainId.AURORA_TESTNET]: \"\",\n  [ChainId.AURORA_MAINNET]: \"\",\n}\nexport const FEI = new Token(\n  FEI_CONTRACT_ADDRESSES,\n  18,\n  \"FEI\",\n  \"fei-protocol\",\n  \"Fei Protocol\",\n  feiLogo,\n)\n\nconst FRAX_CONTRACT_ADDRESSES: { [chainId in ChainId]: string } = {\n  [ChainId.MAINNET]: \"0x853d955aCEf822Db058eb8505911ED77F175b99e\",\n  [ChainId.ROPSTEN]: \"0xb295E36469C8Aef7d76b661aD5af02cdB258D662\",\n  [ChainId.HARDHAT]: \"0x851356ae760d987E095750cCeb3bC6014560891C\",\n  [ChainId.AURORA_TESTNET]: \"0xBEc49fA140aCaA83533fB00A2BB19bDdd0290f25\",\n  [ChainId.AURORA_MAINNET]: \"0xda2585430fef327ad8ee44af8f1f989a2a91a3d2\",\n}\nexport const FRAX = new Token(\n  FRAX_CONTRACT_ADDRESSES,\n  18,\n  \"FRAX\",\n  \"frax\",\n  \"Frax\",\n  fraxLogo,\n)\n\nconst UST_CONTRACT_ADDRESSES: { [chainId in ChainId]: string } = {\n  [ChainId.MAINNET]: \"\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"\",\n  [ChainId.AURORA_TESTNET]: \"0xFE643843B9F4CfF9bbd57Ac2150d95858a0dCDd6\",\n  [ChainId.AURORA_MAINNET]: \"0x5ce9F0B6AFb36135b5ddBF11705cEB65E634A9dC\",\n}\n\nexport const UST = new Token(\n  UST_CONTRACT_ADDRESSES,\n  18,\n  \"atUST\",\n  \"terrausd\",\n  \"UST Terra\",\n  atustLogo,\n)\n\nconst LUSD_CONTRACT_ADDRESSES: { [chainId in ChainId]: string } = {\n  [ChainId.MAINNET]: \"0x5f98805A4E8be255a32880FDeC7F6728C6568bA0\",\n  [ChainId.ROPSTEN]: \"0x440d96e36f1A087deFdB5206b5e53DD2e526840B\",\n  [ChainId.HARDHAT]: \"0x95401dc811bb5740090279Ba06cfA8fcF6113778\",\n  [ChainId.AURORA_TESTNET]: \"\",\n  [ChainId.AURORA_MAINNET]: \"\",\n}\nexport const LUSD = new Token(\n  LUSD_CONTRACT_ADDRESSES,\n  18,\n  \"LUSD\",\n  \"liquity-usd\",\n  \"Liquity USD\",\n  lusdLogo,\n)\n\nexport const ROSE_CONTRACT_ADDRESSES: { [chainId in ChainId]: string } = {\n  [ChainId.MAINNET]: \"\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"\",\n  [ChainId.AURORA_TESTNET]: \"0xfbBfA407fb908e4D58145762788062521C816332\",\n  [ChainId.AURORA_MAINNET]: \"0xdcD6D4e2B3e1D1E1E6Fa8C21C8A323DcbecfF970\",\n}\n\nexport const ROSE = new Token(\n  ROSE_CONTRACT_ADDRESSES,\n  18,\n  \"ROSE\",\n  \"rose\",\n  \"Rose Token\",\n  roseLogo,\n)\n\nexport const SROSE_CONTRACT_ADDRESSES: { [chainId in ChainId]: string } = {\n  [ChainId.MAINNET]: \"\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"\",\n  [ChainId.AURORA_TESTNET]: \"0x777764757A453327fBfb8f3a979C7F2E58c0F9aD\",\n  [ChainId.AURORA_MAINNET]: \"0xe23d2289FBca7De725DC21a13fC096787A85e16F\",\n}\n\nexport const SROSE = new Token(\n  SROSE_CONTRACT_ADDRESSES,\n  18,\n  \"stRose\",\n  \"strose\",\n  \"Staked Rose Tokens\",\n  sRoseLogo,\n)\n\nexport const BUSD_CONTRACT_ADDRESSES: { [chainId in ChainId]: string } = {\n  [ChainId.MAINNET]: \"\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"\",\n  [ChainId.AURORA_TESTNET]: \"0x5C92A4A7f59A9484AFD79DbE251AD2380E589783\", // note: no testnet deployment\n  [ChainId.AURORA_MAINNET]: \"0x5C92A4A7f59A9484AFD79DbE251AD2380E589783\",\n}\n\nexport const BUSD = new Token(\n  BUSD_CONTRACT_ADDRESSES,\n  18,\n  \"abBUSD\",\n  \"binance-usd\",\n  \"BUSD BSC (Allbridge)\",\n  busdLogo,\n)\n\nexport const ROSE_FARM_STABLES_ADDRESSES: { [chainId in ChainId]: string } = {\n  [ChainId.MAINNET]: \"\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"\",\n  [ChainId.AURORA_TESTNET]: \"0xd7aA8Cf4811b8faFb423085BD2f77C3883eA9Ea3\",\n  [ChainId.AURORA_MAINNET]: \"0x52CACa9a2D52b27b28767d3649565774A3B991f3\",\n}\n\nexport const FRAX_METAPOOL_FARM_ADDRESSES: {\n  [chainId in ChainId]: string\n} = {\n  [ChainId.MAINNET]: \"\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"\",\n  [ChainId.AURORA_TESTNET]: \"0xD42912755319665397FF090fBB63B1a31aE87Cee\",\n  [ChainId.AURORA_MAINNET]: \"0xB9D873cDc15e462f5414CCdFe618a679a47831b4\",\n}\n\nexport const UST_METAPOOL_FARM_ADDRESSES: {\n  [chainId in ChainId]: string\n} = {\n  [ChainId.MAINNET]: \"\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"\",\n  [ChainId.AURORA_TESTNET]: \"0xfcDB4564c18A9134002b9771816092C9693622e3\",\n  [ChainId.AURORA_MAINNET]: \"0x56DE5E2c25828040330CEF45258F3FFBc090777C\",\n}\n\nexport const ROSE_PAD_NLP_FARM_ADDRESSES: {\n  [chainId in ChainId]: string\n} = {\n  [ChainId.MAINNET]: \"\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"\",\n  [ChainId.AURORA_TESTNET]: \"0xfF79D5bff48e1C01b722560D6ffDfCe9FC883587\",\n  [ChainId.AURORA_MAINNET]: \"0x9b2aE7d53099Ec64e2f6df3B4151FFCf7205f788\",\n}\n\nexport const ROSE_FRAX_NLP_FARM_ADDRESSES: {\n  [chainId in ChainId]: string\n} = {\n  [ChainId.MAINNET]: \"\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"\",\n  [ChainId.AURORA_TESTNET]: \"0xd7Fd3210a40495ef13adeC5c4c591Fe7794b8b8a\",\n  [ChainId.AURORA_MAINNET]: \"0x1B10bFCd6192edC573ced7Db7c7e403c7FAb8068\",\n}\n\nexport const SROSE_FARM_ADDRESSES: {\n  [chainId in ChainId]: string\n} = {\n  [ChainId.MAINNET]: \"\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"\",\n  [ChainId.AURORA_TESTNET]: \"0xA5BA452C32664b86c44556872F1a8011Bf35C6E8\",\n  [ChainId.AURORA_MAINNET]: \"0x247c9DA96BfC4720580ee84E01566D79a8c901ca\",\n}\n\nexport const BUSD_FARM_ADDRESSES: {\n  [chainId in ChainId]: string\n} = {\n  [ChainId.MAINNET]: \"\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"\",\n  [ChainId.AURORA_TESTNET]: \"0x18A6115150A060F22Bacf62628169ee9b231368f\", // note: missing testnet deployment\n  [ChainId.AURORA_MAINNET]: \"0x18A6115150A060F22Bacf62628169ee9b231368f\",\n}\n\nexport const FRAX_METAPOOL_DEPOSIT_ADDRESSES: {\n  [chainId in ChainId]: string\n} = {\n  [ChainId.MAINNET]: \"\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"\",\n  [ChainId.AURORA_TESTNET]: \"0xC9a43158891282A2B1475592D5719c001986Aaec\",\n  [ChainId.AURORA_MAINNET]: \"0x8a36Fd6F3502c60107E6711E4d98d933e4Da8EC3\",\n}\n\nexport const UST_METAPOOL_DEPOSIT_ADDRESSES: {\n  [chainId in ChainId]: string\n} = {\n  [ChainId.MAINNET]: \"\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"\",\n  [ChainId.AURORA_TESTNET]: \"0x4F44443271751576305F2f98CbB96B8992a170c0\",\n  [ChainId.AURORA_MAINNET]: \"0x6df16C4C708089aB6c436e1be7f7062C0bA5C317\",\n}\n\nexport const BUSD_METAPOOL_DEPOSIT_ADDRESSES: {\n  [chainId in ChainId]: string\n} = {\n  [ChainId.MAINNET]: \"\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"\",\n  [ChainId.AURORA_TESTNET]: \"0x1685506373B560906d9ef0053F0Bc6C38370B6F1\", // note: missing testnet deployment\n  [ChainId.AURORA_MAINNET]: \"0x1685506373B560906d9ef0053F0Bc6C38370B6F1\",\n}\n\nexport const D4_POOL_TOKENS = [ALUSD, FEI, FRAX, LUSD]\nexport const FRAX_STABLES_LP_POOL_TOKENS = [FRAX, STABLECOIN_SWAP_V2_TOKEN]\nexport const FRAX_METAPOOL_TOKENS = [FRAX, STABLECOIN_SWAP_V2_TOKEN]\nexport const STAKED_ROSE_POOL_TOKENS = [ROSE, SROSE]\nexport const UST_METAPOOL_TOKENS = [UST, STABLECOIN_SWAP_V2_TOKEN]\nexport const BUSD_METAPOOL_TOKENS = [BUSD, STABLECOIN_SWAP_V2_TOKEN]\nexport const WCUSD_POOL_TOKENS = [WCUSD, ...STABLECOIN_POOL_TOKENS]\nexport const WCUSD_UNDERLYING_POOL_TOKENS = [WCUSD, STABLECOIN_SWAP_V2_TOKEN]\n\nexport type Pool = {\n  name: PoolName\n  lpToken: Token\n  poolTokens: Token[]\n  isSynthetic: boolean\n  addresses: { [chainId in ChainId]: string }\n  type: PoolTypes\n  route: string\n  migration?: PoolName\n  metaSwapAddresses?: { [chainId in ChainId]: string }\n  underlyingPoolTokens?: Token[]\n  underlyingPool?: PoolName\n  isOutdated?: boolean // pool can be outdated but not have a migration target\n}\nexport type PoolsMap = {\n  [poolName: string]: Pool\n}\nexport const POOLS_MAP: PoolsMap = {\n  [STABLECOIN_POOL_V2_NAME]: {\n    name: STABLECOIN_POOL_V2_NAME,\n    addresses: STABLECOIN_SWAP_V2_ADDRESSES,\n    lpToken: STABLECOIN_SWAP_V2_TOKEN,\n    poolTokens: STABLECOIN_POOL_TOKENS,\n    isSynthetic: false,\n    type: PoolTypes.USD,\n    route: \"stables\",\n  },\n  [FRAX_STABLES_LP_POOL_NAME]: {\n    name: FRAX_STABLES_LP_POOL_NAME,\n    addresses: FRAX_STABLES_LP_ADDRESSES,\n    lpToken: FRAX_STABLES_LP_TOKEN,\n    poolTokens: FRAX_STABLES_LP_POOL_TOKENS,\n    // underlyingPoolTokens: [...STABLECOIN_POOL_TOKENS, FRAX],\n    isSynthetic: false,\n    type: PoolTypes.USD,\n    route: \"frax-stableslp\",\n    isOutdated: true,\n  },\n  [FRAX_METAPOOL_NAME]: {\n    name: FRAX_METAPOOL_NAME,\n    addresses: FRAX_METAPOOL_ADDRESSES,\n    lpToken: FRAX_METAPOOL_LP_TOKEN,\n    poolTokens: FRAX_METAPOOL_TOKENS,\n    underlyingPoolTokens: [FRAX, ...STABLECOIN_POOL_TOKENS], // frax first due to contract definition\n    underlyingPool: STABLECOIN_POOL_V2_NAME,\n    metaSwapAddresses: FRAX_METAPOOL_DEPOSIT_ADDRESSES,\n    isSynthetic: false,\n    type: PoolTypes.USD,\n    route: \"frax\",\n  },\n  [UST_METAPOOL_NAME]: {\n    name: UST_METAPOOL_NAME,\n    addresses: UST_METAPOOL_ADDRESSES,\n    lpToken: UST_METAPOOL_LP_TOKEN,\n    poolTokens: UST_METAPOOL_TOKENS,\n    underlyingPoolTokens: [UST, ...STABLECOIN_POOL_TOKENS],\n    underlyingPool: STABLECOIN_POOL_V2_NAME,\n    metaSwapAddresses: UST_METAPOOL_DEPOSIT_ADDRESSES,\n    isSynthetic: false,\n    type: PoolTypes.USD,\n    route: \"ust\",\n  },\n  [BUSD_METAPOOL_NAME]: {\n    name: BUSD_METAPOOL_NAME,\n    addresses: BUSD_METAPOOL_ADDRESSES,\n    lpToken: BUSD_METAPOOL_LP_TOKEN,\n    poolTokens: BUSD_METAPOOL_TOKENS,\n    underlyingPoolTokens: [BUSD, ...STABLECOIN_POOL_TOKENS],\n    underlyingPool: STABLECOIN_POOL_V2_NAME,\n    metaSwapAddresses: BUSD_METAPOOL_DEPOSIT_ADDRESSES,\n    isSynthetic: false,\n    type: PoolTypes.USD,\n    route: \"busd\",\n  },\n  // [STAKED_ROSE_LP_POOL_NAME]: {\n  //   name: STAKED_ROSE_LP_POOL_NAME,\n  //   addresses: STAKED_ROSE_POOL_ADDRESSES,\n  //   lpToken: SROSE_LP_TOKEN,\n  //   poolTokens: STAKED_ROSE_POOL_TOKENS,\n  //   isSynthetic: false,\n  //   type: PoolTypes.USD,\n  //   route: \"stakedrose\",\n  // },\n}\n\nexport type Farm = {\n  name: FarmName\n  lpToken: Token\n  addresses: { [chainId in ChainId]: string }\n  route: string\n  isRose: boolean\n  poolName: string\n  poolUrl?: string\n}\nexport type FarmsMap = {\n  [farmName in FarmName]: Farm\n}\nexport const FARMS_MAP: FarmsMap = {\n  [STABLES_FARM_NAME]: {\n    name: STABLES_FARM_NAME,\n    lpToken: STABLECOIN_SWAP_V2_TOKEN,\n    addresses: ROSE_FARM_STABLES_ADDRESSES,\n    poolUrl: \"../#/pools/stables/deposit\",\n    route: \"stables\",\n    isRose: true,\n    poolName: STABLECOIN_POOL_V2_NAME,\n  },\n  [FRAX_METAPOOL_FARM_NAME]: {\n    name: FRAX_METAPOOL_FARM_NAME,\n    lpToken: FRAX_METAPOOL_LP_TOKEN,\n    addresses: FRAX_METAPOOL_FARM_ADDRESSES,\n    poolUrl: \"../#/pools/frax/deposit\",\n    route: \"frax\",\n    isRose: true,\n    poolName: FRAX_METAPOOL_NAME,\n  },\n  [UST_METAPOOL_FARM_NAME]: {\n    name: UST_METAPOOL_FARM_NAME,\n    lpToken: UST_METAPOOL_LP_TOKEN,\n    addresses: UST_METAPOOL_FARM_ADDRESSES,\n    poolUrl: \"../#/pools/ust/deposit\",\n    route: \"ust\",\n    isRose: true,\n    poolName: UST_METAPOOL_NAME,\n  },\n  [ROSE_PAD_NLP_FARM_NAME]: {\n    name: ROSE_PAD_NLP_FARM_NAME,\n    lpToken: ROSE_PAD_NLP_TOKEN,\n    addresses: ROSE_PAD_NLP_FARM_ADDRESSES,\n    poolUrl:\n      \"https://dex.nearpad.io/add/0xdcD6D4e2B3e1D1E1E6Fa8C21C8A323DcbecfF970/0x885f8CF6E45bdd3fdcDc644efdcd0AC93880c781\",\n    route: \"rose-padnlp\",\n    isRose: false,\n    poolName: \"ROSE/PAD PLP Pool\",\n  },\n  [ROSE_FRAX_NLP_FARM_NAME]: {\n    name: ROSE_FRAX_NLP_FARM_NAME,\n    lpToken: ROSE_FRAX_NLP_TOKEN,\n    addresses: ROSE_FRAX_NLP_FARM_ADDRESSES,\n    poolUrl:\n      \"https://dex.nearpad.io/add/0xdcD6D4e2B3e1D1E1E6Fa8C21C8A323DcbecfF970/0xDA2585430fEf327aD8ee44Af8F1f989a2A91A3d2\",\n    route: \"rose-fraxnlp\",\n    isRose: false,\n    poolName: \"ROSE/FRAX PLP Pool\",\n  },\n  [BUSD_METAPOOL_FARM_NAME]: {\n    name: BUSD_METAPOOL_FARM_NAME,\n    lpToken: BUSD_METAPOOL_LP_TOKEN,\n    addresses: BUSD_FARM_ADDRESSES,\n    poolUrl: \"../#/pools/busd/deposit\",\n    route: \"busd\",\n    isRose: true,\n    poolName: BUSD_METAPOOL_NAME,\n  },\n  // [SROSE_FARM_NAME]: {\n  //   name: SROSE_FARM_NAME,\n  //   lpToken: SROSE_LP_TOKEN,\n  //   addresses: SROSE_FARM_ADDRESSES,\n  //   route: \"stakedrose\",\n  //   isRose: true,\n  //   poolName: \"stRose Pool\",\n  // },\n}\nexport function isLegacySwapABIPool(poolName: string): boolean {\n  return new Set([BTC_POOL_NAME, STABLECOIN_POOL_NAME, VETH2_POOL_NAME]).has(\n    poolName,\n  )\n}\nexport function isMetaPool(poolName = \"\"): boolean {\n  return new Set([\n    SUSD_METAPOOL_NAME,\n    TBTC_METAPOOL_NAME,\n    WCUSD_METAPOOL_NAME,\n    FRAX_METAPOOL_NAME,\n    UST_METAPOOL_NAME,\n    BUSD_METAPOOL_NAME,\n  ]).has(poolName)\n}\n\n// maps a symbol string to a token object\nexport type TokensMap = {\n  [symbol: string]: Token\n}\n\nexport const ROSE_TOKENS_MAP: TokensMap = {\n  rose: ROSE,\n  stRose: SROSE,\n}\n\nexport const TOKENS_MAP = Object.keys(POOLS_MAP).reduce((acc, poolName) => {\n  const pool = POOLS_MAP[poolName as PoolName]\n  const newAcc = { ...acc }\n  pool.poolTokens.forEach((token) => {\n    newAcc[token.symbol] = token\n  })\n  newAcc[pool.lpToken.symbol] = pool.lpToken\n  return newAcc\n}, {} as TokensMap)\n\nexport type TokenToPoolsMap = {\n  [tokenSymbol: string]: string[]\n}\nexport const TOKEN_TO_POOLS_MAP = Object.keys(POOLS_MAP).reduce(\n  (acc, poolName) => {\n    const pool = POOLS_MAP[poolName as PoolName]\n    const newAcc = { ...acc }\n    pool.poolTokens.forEach((token) => {\n      newAcc[token.symbol] = (newAcc[token.symbol] || []).concat(\n        poolName as PoolName,\n      )\n    })\n    return newAcc\n  },\n  {} as TokenToPoolsMap,\n)\n\nexport type LPTokenToPoolsMap = {\n  [tokenSymbol: string]: PoolName\n}\nexport const LPTOKEN_TO_POOL_MAP = Object.keys(POOLS_MAP).reduce(\n  (acc, poolName) => {\n    const pool = POOLS_MAP[poolName as PoolName]\n    const newAcc = { ...acc }\n    newAcc[pool.lpToken.symbol] = poolName as PoolName\n    return newAcc\n  },\n  {} as LPTokenToPoolsMap,\n)\n\nexport const TRANSACTION_TYPES = {\n  DEPOSIT: \"DEPOSIT\",\n  WITHDRAW: \"WITHDRAW\",\n  SWAP: \"SWAP\",\n  MIGRATE: \"MIGRATE\",\n  STAKE: \"STAKE\",\n}\n\nexport const POOL_FEE_PRECISION = 10\n\nexport enum SWAP_TYPES {\n  DIRECT = \"swapDirect\", // route length 2\n  SYNTH_TO_SYNTH = \"swapSynthToSynth\", // route length 2\n  SYNTH_TO_TOKEN = \"swapSynthToToken\", // route length 3\n  TOKEN_TO_SYNTH = \"swapTokenToSynth\", // route length 3\n  TOKEN_TO_TOKEN = \"swapTokenToToken\", // route length 4\n  INVALID = \"invalid\",\n}\n\nexport function getIsVirtualSwap(swapType: SWAP_TYPES): boolean {\n  return (\n    swapType === SWAP_TYPES.SYNTH_TO_SYNTH ||\n    swapType === SWAP_TYPES.SYNTH_TO_TOKEN ||\n    swapType === SWAP_TYPES.TOKEN_TO_SYNTH ||\n    swapType === SWAP_TYPES.TOKEN_TO_TOKEN\n  )\n}\n\nexport const SWAP_CONTRACT_GAS_ESTIMATES_MAP = {\n  [SWAP_TYPES.INVALID]: BigNumber.from(\"999999999\"), // 999,999,999\n  [SWAP_TYPES.DIRECT]: BigNumber.from(\"200000\"), // 157,807\n  [SWAP_TYPES.TOKEN_TO_TOKEN]: BigNumber.from(\"2000000\"), // 1,676,837\n  [SWAP_TYPES.TOKEN_TO_SYNTH]: BigNumber.from(\"2000000\"), // 1,655,502\n  [SWAP_TYPES.SYNTH_TO_TOKEN]: BigNumber.from(\"1500000\"), // 1,153,654\n  [SWAP_TYPES.SYNTH_TO_SYNTH]: BigNumber.from(\"700000\"), // 681,128 // TODO: https://github.com/saddle-finance/saddle-frontend/issues/471\n  addLiquidity: BigNumber.from(\"400000\"), // 386,555\n  removeLiquidityImbalance: BigNumber.from(\"350000\"), // 318,231\n  removeLiquidityOneToken: BigNumber.from(\"250000\"), // 232,947\n  migrate: BigNumber.from(\"650000\"), // 619,126\n  virtualSwapSettleOrWithdraw: BigNumber.from(\"400000\"),\n}\n\nexport interface WalletInfo {\n  name: string\n  icon: string\n  connector: AbstractConnector\n  isMobile?: boolean\n}\n\nexport const SUPPORTED_WALLETS: { [key: string]: WalletInfo } = {\n  METAMASK: {\n    name: \"MetaMask\",\n    icon: metamaskIcon,\n    connector: injected,\n  },\n  WALLET_CONNECT: {\n    name: \"WalletConnect\",\n    icon: walletconnectIcon,\n    connector: walletconnect,\n    isMobile: true,\n  },\n  // WALLET_LINK: {\n  //   name: \"Coinbase Wallet\",\n  //   icon: coinbasewalletIcon,\n  //   connector: walletlink,\n  // },\n}\n\nexport interface ChainInfo {\n  name: string\n  rpc: string\n}\n\n// kinda hacky, but will change once we update our chain IDs\nexport type SupportedChains = ChainId.AURORA_MAINNET\nexport const SUPPORTED_CHAINS: {\n  [chainId in SupportedChains]: ChainInfo\n} = {\n  [ChainId.AURORA_MAINNET]: {\n    name: \"Aurora Mainnet\",\n    rpc: \"https://mainnet.aurora.dev\",\n  },\n}\n\n// \"SADDLE\" in bytes32 form\nexport const SYNTH_TRACKING_ID =\n  \"0x534144444c450000000000000000000000000000000000000000000000000000\"\n\n// FLAGS\nexport const IS_VIRTUAL_SWAP_ACTIVE = true\n// FLAGS END\n","export default __webpack_public_path__ + \"static/media/aleth.3dd80ea7.svg\";","export default __webpack_public_path__ + \"static/media/alusd.d6b57a25.svg\";","export default __webpack_public_path__ + \"static/media/atust.27619054.svg\";","export default __webpack_public_path__ + \"static/media/busd.744adbcf.svg\";","export default __webpack_public_path__ + \"static/media/dai.664df0db.svg\";","export default __webpack_public_path__ + \"static/media/fei.056d822f.svg\";","export default __webpack_public_path__ + \"static/media/frax.bbaec159.svg\";","export default __webpack_public_path__ + \"static/media/lusd.41ed2289.svg\";","export default __webpack_public_path__ + \"static/media/metamask.45038d58.svg\";","export default __webpack_public_path__ + \"static/media/renbtc.1e207adc.svg\";","export default __webpack_public_path__ + \"static/media/rose-atust.a480f729.svg\";","export default __webpack_public_path__ + \"static/media/rose-busd.07b2b924.svg\";","export default __webpack_public_path__ + \"static/media/rose-frax.2cb7a06f.svg\";","export default __webpack_public_path__ + \"static/media/rose.54bf1c83.svg\";","export default __webpack_public_path__ + \"static/media/srose.64d5cba0.svg\";","export default __webpack_public_path__ + \"static/media/logo_24.9ac0ef9c.svg\";","export default __webpack_public_path__ + \"static/media/sbtc.0b499bd2.svg\";","export default __webpack_public_path__ + \"static/media/seth.63f5d603.svg\";","export default __webpack_public_path__ + \"static/media/susd.b4cf9ad2.svg\";","export default __webpack_public_path__ + \"static/media/tbtc.73bdb39f.svg\";","export default __webpack_public_path__ + \"static/media/usdc.1fa5e7f4.svg\";","export default __webpack_public_path__ + \"static/media/usdt.2499bf87.svg\";","export default __webpack_public_path__ + \"static/media/veth2.4d368f5e.svg\";","export default __webpack_public_path__ + \"static/media/walletconnect.dfa25e47.svg\";","export default __webpack_public_path__ + \"static/media/wbtc.7b094635.svg\";","export default __webpack_public_path__ + \"static/media/weth.32818c6c.svg\";","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAeGVYSWZNTQAqAAAACAAFARIAAwAAAAEAAQAAARoABQAAAAEAAABKARsABQAAAAEAAABSASgAAwAAAAEAAgAAh2kABAAAAAEAAABaAAAAAAAAAEgAAAABAAAASAAAAAEAAqACAAQAAAABAAAAGKADAAQAAAABAAAAGAAAAABex5AcAAAACXBIWXMAAAsTAAALEwEAmpwYAAABWWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS40LjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyI+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgpMwidZAAAGe0lEQVRIDW1Ve2wU5Rb/zWN3Z7e73W23D7p9F4rQUkHqFSNQvFgRNCEGRSUIvlBucn1EY3L/0H9EcxMNyb3eG1/0JigSTXwlClpFMSIPkQRRCoq1lD5opdtut7vb3ZlhZ+bznLF7UxNPc7rf982Zc873O79zRsIfRaItqzNzXE6/naQ3eBZXXamWhXgPaywdz5+5dIqWB2d0ks9JZNLCu+4BOysIr8XMpoR+HwtuWLwtfGNLtf+KSijhACSP4j4WeRt2MovcuUtIfXZmMLvv7C568F/SDGnBp+ursJntvENb1bSrYvv1VxRdWQMhhG1dSgtzeFK2UrobQC0JCF9dqfBUFkuUkjJ9chDx177uMY9d2EYGJ1yj3wP9IQifb/C0Vuabv3pCtPTt0Gu67ra9S2Js9KeqrWgStXvusVr7n9Pndj8sZEg5sl3Hjkjc5NWZBTu4nvQde2RKyRzrM4wLE9pU1zEE1i1E+baV8DVEIQd8FErAnjZhXphA4oPvMLz1DaX0kVWKEvTpDoRfVtT3HdtiX3wTuQBR1L924fGqR1bPS374vZHcdVSjh6h+6S6Erm2CXOSjK1AODudBqSlUSw6UNpA+0odfn3jPPa94aq0RWtmsXdyxj+AaWE6HGa46y5MV9y2fp82vNOxpg52LhncfRLhzIeBVYGdNOKTCtCAsG46eh0OFloM+lNy8CHVv3uc6sTKGxj4qtq9qo4NH+ZBpEQvdsfS16O1Li6a6z8qJnQelmlc3ScFljbBzlwFbQFIJXVmGrHlgTWaR6j5DewlKsQZhO9Dqo1Cbohjf0Q2tvVYKttfL+vDEvHzv+B6+wdrwTS0VBIOlRvxy7e6tCC5rYgRcJ0xNSSX1qTDOjyPx1gkQozB94gJBpLuBnbyF4hXN8K1sxETXETKGHV67qI58d1JeWOOtLIYVTyP4l0YEWmNMTeQvpQkOx80++90gjN4xWIks0q8cQ9FVdQhybfxeNwlx2XJvE72tHfrh88iPZYR/QRX5pwD+9W2LudYTe4/L+o+jGPnnJzB+HsNUdw8cIw/jlzFc3PI6hGEhQH1RtXszrKkcUl/8BLMv7hYblCbf2NfkNjrdMCGpkQA8bVVLZMkjRz1lISqaI2XoJWd8Gtnj/YS36maX2Pst5vxnI8HWCHNgAjY598+vxPTek8j1jBARqT5um1LHEdtYrCldYmjVilC5LIy8JBd54V8Uw2TXURSvaUXyxUPQmitdtljxDILtDXAIBtn/e5F/feojRJ9eg5INSyEcYj/Tt0B4jsBs5r0kSSpxeZJmS5mvoUxof50vaS1z4F1eD291hE0pHeoAcsBsodGA0o1XI3jdXCiEP7PK7Q3XoQSHWUeiMrt4XiUy47J5uL+Hi0edKmqfXQ8/FTn2zHqo0SAUxrGhlPD+ETIxiTtZDfshE6Mm9nyD/EjSXXMBJPozCEIWmlMOQ3n51OhpmYJ/zg9kn0eYF5PInhiAd06YrwfZqyK6eRnS+3swuvMzpL/uZTJgcPXL8M4th6cqQkSwIJGdQ+Mjue80fFfXQa0KSzqxjuQg90F35lAvwWSp5kDCGbr3DUx/S0WmLBl3X20Jal64Dd5YBLlTQ8hTo8Xevhul6xe705+hY9vM8fPQD5xD+d86HElISurAT6Pk+wvu5JT5w0hVsHPBtcUd8019NKkmnv9c0F5ipzwaeCT4F8xBoK0agSV18FLm3CNMbyXgRe77YQzf/6aIbF8hlW1eZlLfqOPPdb9IvvcXZtEL47uPDOdHpjStscxkTgzc+ioyR/vcUSET5QhCaia/W1zQsGNGgYKkDp7DwJ3/I1+QtPpSI38xqcW7CEvgX+4h/eMg/Jlbp8RCnzCW0Yc6THMo4cu8cwqhTe2IdLa4rOLOZXH0yzCHJpH8+DSyH/YgvPUahslIvXtSU6ojTv7s2GoyO0TqXmA2g7eq9SWi+cvHRUvvM3rs3xttBQqT8E9VbYiI6lc22S19z+pN+//ONjbpRtKCuD3IGw7CBizrAre07qp4YEUN4468bRlDk5I5mJDsVI7ZSFQtEkxr/mxSJ6u5MyOI7z7Sr3967kF6/0vXy4zP2dnPDsKT6h/FW67ZQt+EUo1mjBKizwR/n9iKRjhPUuOXOPdIPP32ydfpdCfpOCnL/33xYrbwnpVrwlJHejPpjVrH3DYlrJXSWthTesI43H+a1gdIu0lpKLnCmBfgdA9+A8HkyAn+TuMMAAAAAElFTkSuQmCC\"","export function getEtherscanLink(\n  data: string,\n  type: \"tx\" | \"token\" | \"address\" | \"block\",\n): string {\n  return `https://explorer.mainnet.aurora.dev/${type}/${data}`\n}\n","import Notify from \"bnc-notify\"\nimport { getEtherscanLink } from \"../utils/getEtherscanLink\"\nimport i18next from \"i18next\"\n\nconst notifyNetworks = new Set([1, 3, 4, 5, 42, 56, 100])\nconst chainId = parseInt(process.env.REACT_APP_CHAIN_ID ?? \"1\")\n\nexport const notify = Notify({\n  ...(isChainSupportedByNotify(chainId)\n    ? {\n        dappId: process.env.REACT_APP_NOTIFY_DAPP_ID,\n        networkId: chainId,\n      }\n    : {}),\n  desktopPosition: \"topRight\" as const,\n  darkMode: false,\n})\n\nexport function isChainSupportedByNotify(chainId: number | undefined): boolean {\n  if (!chainId) return false\n  return notifyNetworks.has(chainId)\n}\n\nexport function notifyHandler(\n  hash: string,\n  type: \"deposit\" | \"withdraw\" | \"swap\" | \"tokenApproval\" | \"migrate\",\n): void {\n  const { emitter } = notify.hash(hash)\n\n  emitter.on(\"txPool\", (transaction) => {\n    if (transaction.hash) {\n      return {\n        message: i18next.t(\"txPool\", { context: type }),\n        link: getEtherscanLink(transaction.hash, \"tx\"),\n      }\n    }\n  })\n  emitter.on(\"txSent\", () => {\n    return {\n      message: i18next.t(\"txSent\", { context: type }),\n    }\n  })\n  emitter.on(\"txConfirmed\", () => {\n    return {\n      message: i18next.t(\"txConfirmed\", { context: type }),\n    }\n  })\n  emitter.on(\"txSpeedUp\", (transaction) => {\n    if (transaction.hash) {\n      return {\n        message: i18next.t(\"txSpeedUp\", { context: type }),\n        link: getEtherscanLink(transaction.hash, \"tx\"),\n      }\n    }\n  })\n  emitter.on(\"txCancel\", () => {\n    return {\n      message: i18next.t(\"txCancel\", { context: type }),\n    }\n  })\n  emitter.on(\"txFailed\", (transaction) => {\n    if (transaction.hash) {\n      return {\n        message: i18next.t(\"txFailed\", { context: type }),\n        link: getEtherscanLink(transaction.hash, \"tx\"),\n      }\n    }\n  })\n}\n\nexport function notifyCustomError(e: Error): void {\n  notify.notification({\n    eventCode: \"txFailed\",\n    type: \"error\",\n    message: `Your transaction failed. ${e.message}`,\n  })\n}\n","import { FaDiscord, FaGithub, FaTelegram, FaTwitter } from \"react-icons/fa\"\nimport React, { ReactElement } from \"react\"\nimport { BsMedium } from \"react-icons/bs\"\nimport styles from \"./BottomMenu.module.scss\"\n\nfunction BottomMenu(): ReactElement | null {\n  return (\n    <div className={styles.bottommenu}>\n      <div className={styles.socials}>\n        <a\n          href=\"https://twitter.com/roseonaurora\"\n          target=\"_blank\"\n          rel=\"noreferrer\"\n        >\n          <FaTwitter fontSize=\"25px\" />\n        </a>\n        <a\n          href=\"https://medium.com/@roseonaurora\"\n          target=\"_blank\"\n          rel=\"noreferrer\"\n        >\n          <BsMedium fontSize=\"25px\" />\n        </a>\n        <a href=\"https://t.me/RoseOnAurora\" target=\"_blank\" rel=\"noreferrer\">\n          <FaTelegram fontSize=\"25px\" />\n        </a>\n        <a\n          href=\"https://discord.gg/dG6mWH4rHj\"\n          target=\"_blank\"\n          rel=\"noreferrer\"\n        >\n          <FaDiscord fontSize=\"25px\" />\n        </a>\n        <a\n          href=\"https://github.com/RoseOnAurora\"\n          target=\"_blank\"\n          rel=\"noreferrer\"\n        >\n          <FaGithub fontSize=\"25px\" />\n        </a>\n      </div>\n    </div>\n  )\n}\n\nexport default BottomMenu\n","import { BigNumber } from \"@ethersproject/bignumber\"\nimport { TOKENS_MAP } from \"../constants\"\nimport { parseUnits } from \"@ethersproject/units\"\n\n/**\n * Parses a user input string into a BigNumber.\n * Uses the native precision of the token if a tokenSymbol is provided\n * Defaults to a value of 0 if string cannot be parsed\n *\n * @param {string} valueRaw\n * @param {number} precision\n * @param {BigNumber} fallback\n * @return {Object} result\n * @return {BigNumber} result.value\n * @return {boolean} result.isFallback\n * }\n */\nexport default function parseStringToBigNumber(\n  valueRaw: string,\n  precision: number,\n  fallback?: BigNumber,\n): { value: BigNumber; isFallback: boolean } {\n  let valueSafe: BigNumber\n  let isFallback: boolean\n  try {\n    // attempt to parse string. Use fallback value if library error is thrown\n    valueSafe = parseUnits(valueRaw, precision)\n    isFallback = false\n  } catch {\n    valueSafe = fallback ?? BigNumber.from(\"0\")\n    isFallback = true\n  }\n  return { value: valueSafe, isFallback }\n}\n\n/**\n * Parses a user input string into a BigNumber.\n * Uses the native precision of the token if a tokenSymbol is provided\n * Defaults to a value of 0 if string cannot be parsed\n * @param {string} value\n * @param {string} tokenSymbol\n * @return {Object} result\n * @return {BigNumber} result.value\n * @return {boolean} result.isFallback */\nexport function parseStringAndTokenToBigNumber(\n  value: string,\n  tokenSymbol?: string,\n): { value: BigNumber; isFallback: boolean } {\n  return parseStringToBigNumber(\n    value,\n    tokenSymbol ? TOKENS_MAP[tokenSymbol]?.decimals : 18,\n    BigNumber.from(\"0\"),\n  )\n}\n","import { BigNumber } from \"@ethersproject/bignumber\"\nimport { formatUnits } from \"@ethersproject/units\"\nimport parseStringToBigNumber from \"../utils/parseStringToBigNumber\"\n\nexport interface NumberInputState {\n  isEmpty: boolean\n  isValid: boolean\n  precision: number\n  valueRaw: string\n  valueSafe: string // represents a BigNumber\n}\n\n/**\n * A curried function for representing user inputted number values.\n * Can be used to show errors in the UI, as well as safely interacting with the blockchain\n * @param {number} precision\n * @param {BigNumber} fallback\n * @return {function}\n */\nexport function numberInputStateCreator(\n  precision: number,\n  fallback: BigNumber,\n) {\n  /**\n   * Transforms a user inputted string into a more verbose format including BigNumber representation\n   * @param {string} inputValue\n   * @return {NumberInputState}\n   */\n  return function createNumberInputState(\n    inputValue: string | BigNumber,\n  ): NumberInputState {\n    if (BigNumber.isBigNumber(inputValue)) {\n      return {\n        isEmpty: false,\n        isValid: true,\n        precision,\n        valueRaw: formatUnits(inputValue, precision),\n        valueSafe: inputValue.toString(),\n      }\n    } else {\n      const { value: valueSafe, isFallback } = parseStringToBigNumber(\n        inputValue,\n        precision,\n        fallback,\n      )\n      return {\n        isEmpty: inputValue === \"\",\n        isValid: !isFallback,\n        precision,\n        valueRaw: inputValue,\n        valueSafe: valueSafe.toString(),\n      }\n    }\n  }\n}\n","import {\n  NumberInputState,\n  numberInputStateCreator,\n} from \"../utils/numberInputState\"\nimport { PayloadAction, createSlice } from \"@reduxjs/toolkit\"\n\nimport { BigNumber } from \"@ethersproject/bignumber\"\nimport { Zero } from \"@ethersproject/constants\"\n\nexport enum GasPrices {\n  Standard = \"STANDARD\",\n  Fast = \"FAST\",\n  Instant = \"INSTANT\",\n  Custom = \"CUSTOM\",\n}\n\nexport enum Slippages {\n  One = \"ONE\",\n  OneTenth = \"ONE_TENTH\",\n  Custom = \"CUSTOM\",\n}\n\nexport enum Deadlines {\n  Ten = \"TEN\",\n  Twenty = \"TWENTY\",\n  Thirty = \"THIRTY\",\n  Forty = \"FORTY\",\n  Custom = \"CUSTOM\",\n}\n\ninterface UserState {\n  userSwapAdvancedMode: boolean\n  userPoolAdvancedMode: boolean\n  userDarkMode: boolean\n  gasCustom?: NumberInputState\n  gasPriceSelected: GasPrices\n  slippageCustom?: NumberInputState\n  slippageSelected: Slippages\n  infiniteApproval: boolean\n  transactionDeadlineSelected: Deadlines\n  transactionDeadlineCustom?: string\n}\n\nexport const initialState: UserState = {\n  userSwapAdvancedMode: false,\n  userPoolAdvancedMode: false,\n  userDarkMode: true,\n  gasPriceSelected: GasPrices.Standard,\n  slippageSelected: Slippages.OneTenth,\n  infiniteApproval: false,\n  transactionDeadlineSelected: Deadlines.Twenty,\n}\n\nconst gasCustomStateCreator = numberInputStateCreator(\n  0, // gas is in wei\n  Zero,\n)\nconst slippageCustomStateCreator = numberInputStateCreator(\n  4,\n  BigNumber.from(10).pow(4).mul(1),\n)\n\nconst userSlice = createSlice({\n  name: \"user\",\n  initialState,\n  reducers: {\n    updateSwapAdvancedMode(\n      state: UserState,\n      action: PayloadAction<boolean>,\n    ): void {\n      state.userSwapAdvancedMode = action.payload\n    },\n    updatePoolAdvancedMode(\n      state: UserState,\n      action: PayloadAction<boolean>,\n    ): void {\n      state.userPoolAdvancedMode = action.payload\n    },\n    updateDarkMode(state: UserState, action: PayloadAction<boolean>): void {\n      // this will be phased out in favor of chakra's colorMode\n      state.userDarkMode = action.payload\n    },\n    updateGasPriceCustom(\n      state: UserState,\n      action: PayloadAction<string>,\n    ): void {\n      state.gasCustom = gasCustomStateCreator(action.payload)\n    },\n    updateGasPriceSelected(\n      state: UserState,\n      action: PayloadAction<GasPrices>,\n    ): void {\n      state.gasPriceSelected = action.payload\n      if (action.payload !== GasPrices.Custom) {\n        // clear custom value when standard option selected\n        state.gasCustom = gasCustomStateCreator(\"\")\n      }\n    },\n    updateSlippageSelected(\n      state: UserState,\n      action: PayloadAction<Slippages>,\n    ): void {\n      state.slippageSelected = action.payload\n      if (action.payload !== Slippages.Custom) {\n        // clear custom value when standard option selected\n        state.slippageCustom = slippageCustomStateCreator(\"\")\n      }\n    },\n    updateSlippageCustom(\n      state: UserState,\n      action: PayloadAction<string>,\n    ): void {\n      state.slippageCustom = slippageCustomStateCreator(action.payload)\n    },\n    updateInfiniteApproval(\n      state: UserState,\n      action: PayloadAction<boolean>,\n    ): void {\n      state.infiniteApproval = action.payload\n    },\n    updateTransactionDeadlineSelected(\n      state: UserState,\n      action: PayloadAction<Deadlines>,\n    ): void {\n      state.transactionDeadlineSelected = action.payload\n      // clear custom value when standard option selected\n      if (action.payload !== Deadlines.Custom) {\n        state.transactionDeadlineCustom = \"\"\n      }\n    },\n    updateTransactionDeadlineCustom(\n      state: UserState,\n      action: PayloadAction<string>,\n    ): void {\n      state.transactionDeadlineCustom = action.payload\n    },\n  },\n})\n\nexport const {\n  updateSwapAdvancedMode,\n  updatePoolAdvancedMode,\n  updateDarkMode,\n  updateGasPriceCustom,\n  updateGasPriceSelected,\n  updateSlippageCustom,\n  updateSlippageSelected,\n  updateInfiniteApproval,\n  updateTransactionDeadlineSelected,\n  updateTransactionDeadlineCustom,\n} = userSlice.actions\n\nexport default userSlice.reducer\n","import { AddressZero, Zero } from \"@ethersproject/constants\"\nimport { ChainId, PoolTypes, TOKENS_MAP, Token } from \"../constants\"\nimport { JsonRpcSigner, Web3Provider } from \"@ethersproject/providers\"\nimport { formatUnits, parseUnits } from \"@ethersproject/units\"\n\nimport { BigNumber } from \"@ethersproject/bignumber\"\nimport { Contract } from \"@ethersproject/contracts\"\nimport { ContractInterface } from \"ethers\"\nimport { Deadlines } from \"../state/user\"\nimport { getAddress } from \"@ethersproject/address\"\n\n// returns the checksummed address if the address is valid, otherwise returns false\nexport function isAddress(value: string): string | false {\n  try {\n    return getAddress(value)\n  } catch {\n    return false\n  }\n}\n\n// account is not optional\nexport function getSigner(\n  library: Web3Provider,\n  account: string,\n): JsonRpcSigner {\n  return library.getSigner(account).connectUnchecked()\n}\n\n// account is optional\nexport function getProviderOrSigner(\n  library: Web3Provider,\n  account?: string,\n): Web3Provider | JsonRpcSigner {\n  return account ? getSigner(library, account) : library\n}\n\n// account is optional\nexport function getContract(\n  address: string,\n  ABI: ContractInterface,\n  library: Web3Provider,\n  account?: string,\n): Contract {\n  if (!isAddress(address) || address === AddressZero) {\n    throw Error(`Invalid 'address' parameter '${address}'.`)\n  }\n\n  return new Contract(address, ABI, getProviderOrSigner(library, account))\n}\n\nexport function formatBNToShortString(\n  bn: BigNumber,\n  nativePrecision: number,\n): string {\n  const bnStr = bn.toString()\n  const numLen = bnStr.length - nativePrecision\n  if (numLen <= 0) return \"0.0\"\n  const div = Math.floor((numLen - 1) / 3)\n  const mod = numLen % 3\n  const suffixes = [\"\", \"k\", \"m\", \"b\", \"t\"]\n  return `${bnStr.substr(0, mod || 3)}.${bnStr[mod || 3]}${suffixes[div]}`\n}\n\nexport function formatBNToString(\n  bn: BigNumber,\n  nativePrecison: number,\n  decimalPlaces?: number,\n): string {\n  const fullPrecision = formatUnits(bn, nativePrecison)\n  const decimalIdx = fullPrecision.indexOf(\".\")\n  return decimalPlaces === undefined || decimalIdx === -1\n    ? fullPrecision\n    : fullPrecision.slice(\n        0,\n        decimalIdx + (decimalPlaces > 0 ? decimalPlaces + 1 : 0), // don't include decimal point if places = 0\n      )\n}\n\nexport function formatBNToPercentString(\n  bn: BigNumber,\n  nativePrecison: number,\n  decimalPlaces = 2,\n): string {\n  return `${formatBNToString(bn, nativePrecison - 2, decimalPlaces)}%`\n}\n\nexport function shiftBNDecimals(bn: BigNumber, shiftAmount: number): BigNumber {\n  if (shiftAmount < 0) throw new Error(\"shiftAmount must be positive\")\n  return bn.mul(BigNumber.from(10).pow(shiftAmount))\n}\n\nexport function calculateExchangeRate(\n  amountFrom: BigNumber,\n  tokenPrecisionFrom: number,\n  amountTo: BigNumber,\n  tokenPrecisionTo: number,\n): BigNumber {\n  return amountFrom.gt(\"0\")\n    ? amountTo\n        .mul(BigNumber.from(10).pow(36 - tokenPrecisionTo)) // convert to standard 1e18 precision\n        .div(amountFrom.mul(BigNumber.from(10).pow(18 - tokenPrecisionFrom)))\n    : BigNumber.from(\"0\")\n}\n\nexport function formatDeadlineToNumber(\n  deadlineSelected: Deadlines,\n  deadlineCustom?: string,\n): number {\n  let deadline = 20\n  switch (deadlineSelected) {\n    case Deadlines.Ten:\n      deadline = 10\n      break\n    case Deadlines.Twenty:\n      deadline = 20\n      break\n    case Deadlines.Thirty:\n      deadline = 30\n      break\n    case Deadlines.Forty:\n      deadline = 40\n      break\n    case Deadlines.Custom:\n      deadline = +(deadlineCustom || formatDeadlineToNumber(Deadlines.Twenty))\n      break\n  }\n  return deadline\n}\n\n// A better version of ether's commify util\nexport function commify(str: string): string {\n  const parts = str.split(\".\")\n  if (parts.length > 2) throw new Error(\"commify string cannot have > 1 period\")\n  const [partA, partB] = parts\n  if (partA.length === 0) return partB === undefined ? \"\" : `.${partB}`\n  const mod = partA.length % 3\n  const div = Math.floor(partA.length / 3)\n  // define a fixed length array given the expected # of commas added\n  const commaAArr = new Array(partA.length + (mod === 0 ? div - 1 : div))\n  // init pointers for original string and for commified array\n  let commaAIdx = commaAArr.length - 1\n  // iterate original string backwards from the decimals since that's how commas are added\n  for (let i = partA.length - 1; i >= 0; i--) {\n    // revIdx is the distance from the decimal place eg \"3210.\"\n    const revIdx = partA.length - 1 - i\n    // add the character to the array\n    commaAArr[commaAIdx--] = partA[i]\n    // add a comma if we are a multiple of 3 from the decimal\n    if ((revIdx + 1) % 3 === 0) {\n      commaAArr[commaAIdx--] = \",\"\n    }\n  }\n  const commifiedA = commaAArr.join(\"\")\n  return partB === undefined ? commifiedA : `${commifiedA}.${partB}`\n}\n\nexport function intersection<T>(set1: Set<T>, set2: Set<T>): Set<T> {\n  return new Set([...set1].filter((item) => set2.has(item)))\n}\n\nexport function getTokenByAddress(\n  address: string,\n  chainId: ChainId,\n): Token | null {\n  return (\n    Object.values(TOKENS_MAP).find(\n      ({ addresses }) =>\n        addresses[chainId] &&\n        address.toLowerCase() === addresses[chainId].toLowerCase(),\n    ) || null\n  )\n}\n\nexport function calculatePrice(\n  amount: BigNumber | string,\n  tokenPrice = 0,\n  decimals?: number,\n): BigNumber {\n  // returns amount * price as BN 18 precision\n  if (typeof amount === \"string\") {\n    if (isNaN(+amount)) return Zero\n    // kind of hacky, but need to prevent underflow error on large numbers\n    return parseUnits(\n      (+amount * tokenPrice).toLocaleString(\"en-US\", { useGrouping: false }),\n      18,\n    )\n  } else if (decimals != null) {\n    return amount\n      .mul(parseUnits(tokenPrice.toFixed(2), 18))\n      .div(BigNumber.from(10).pow(decimals))\n  }\n  return Zero\n}\n\nexport function getTokenSymbolForPoolType(poolType: PoolTypes): string {\n  if (poolType === PoolTypes.BTC) {\n    return \"WBTC\"\n  } else if (poolType === PoolTypes.ETH) {\n    return \"WETH\"\n  } else if (poolType === PoolTypes.USD) {\n    return \"USDC\"\n  } else {\n    return \"\"\n  }\n}\n\nexport const toHex = (num: number): string => {\n  return \"0x\" + num.toString(16)\n}\n\nexport const imageIconToUrl = (tokenIconPath: string): string => {\n  const host = window.location.origin\n  return `${host}/${tokenIconPath}`\n}\n","import { ChainId, NetworkContextName } from \"../constants\"\nimport { useEffect, useState } from \"react\"\n\nimport { Web3Provider } from \"@ethersproject/providers\"\nimport { Web3ReactContextInterface } from \"@web3-react/core/dist/types\"\nimport { injected } from \"../connectors\"\nimport { isMobile } from \"react-device-detect\"\nimport { useWeb3React as useWeb3ReactCore } from \"@web3-react/core\"\n\nexport function useActiveWeb3React(): Web3ReactContextInterface<Web3Provider> & {\n  chainId?: ChainId\n} {\n  const context = useWeb3ReactCore<Web3Provider>()\n  const contextNetwork = useWeb3ReactCore<Web3Provider>(NetworkContextName)\n  return context.active ? context : contextNetwork\n}\n\nexport function useEagerConnect(): boolean {\n  const { activate, active } = useWeb3ReactCore() // specifically using useWeb3ReactCore because of what this hook does\n  const [tried, setTried] = useState(false)\n\n  useEffect(() => {\n    void injected.isAuthorized().then((isAuthorized) => {\n      if (isAuthorized) {\n        activate(injected, undefined, true).catch(() => {\n          setTried(true)\n        })\n      } else {\n        if (isMobile && window.ethereum) {\n          activate(injected, undefined, true).catch(() => {\n            setTried(true)\n          })\n        } else {\n          setTried(true)\n        }\n      }\n    })\n  }, [activate]) // intentionally only running on mount (make sure it's only mounted once :))\n\n  // if the connection worked, wait until we get confirmation of that to flip the flag\n  useEffect(() => {\n    if (active) {\n      setTried(true)\n    }\n  }, [active])\n\n  return tried\n}\n\n/**\n * Use for network and injected - logs user in\n * and out after checking what network theyre on\n * @param {boolean} suppress Suppress useEffect behaviour\n */\nexport function useInactiveListener(suppress = false): void {\n  const { active, error, activate } = useWeb3ReactCore() // specifically using useWeb3React because of what this hook does\n\n  useEffect(() => {\n    const { ethereum } = window\n\n    if (ethereum && ethereum.on && !active && !error && !suppress) {\n      const handleChainChanged = (): void => {\n        // eat errors\n        activate(injected, undefined, true).catch((error) => {\n          console.error(\"Failed to activate after chain changed\", error)\n        })\n      }\n\n      const handleAccountsChanged = (accounts: string[]): void => {\n        if (accounts.length > 0) {\n          // eat errors\n          activate(injected, undefined, true).catch((error) => {\n            console.error(\"Failed to activate after accounts changed\", error)\n          })\n        }\n      }\n\n      ethereum.on(\"chainChanged\", handleChainChanged)\n      ethereum.on(\"accountsChanged\", handleAccountsChanged)\n\n      return (): void => {\n        if (ethereum.removeListener) {\n          ethereum.removeListener(\"chainChanged\", handleChainChanged)\n          ethereum.removeListener(\"accountsChanged\", handleAccountsChanged)\n        }\n      }\n    }\n    return undefined\n  }, [active, error, suppress, activate])\n}\n","/* eslint-disable */\nimport {\n  BRIDGE_CONTRACT_ADDRESSES,\n  BTC_POOL_NAME,\n  BUSD,\n  BUSD_METAPOOL_FARM_NAME,\n  BUSD_METAPOOL_NAME,\n  DAI,\n  FARMS_MAP,\n  FRAX,\n  // FRAX_STABLES_LP_FARM_NAME,\n  FRAX_METAPOOL_NAME,\n  FRAX_METAPOOL_FARM_NAME,\n  UST_METAPOOL_FARM_NAME,\n  FRAX_STABLES_LP_POOL_NAME,\n  FarmName,\n  POOLS_MAP,\n  PoolName,\n  ROSE,\n  ROSE_CONTRACT_ADDRESSES,\n  ROSE_FRAX_NLP_FARM_NAME,\n  ROSE_PAD_NLP_FARM_NAME,\n  SROSE,\n  SROSE_CONTRACT_ADDRESSES,\n  // SROSE_FARM_NAME,\n  STABLECOIN_POOL_V2_NAME,\n  STABLECOIN_SWAP_V2_TOKEN,\n  STABLES_FARM_NAME,\n  STAKED_ROSE_LP_POOL_NAME,\n  SWAP_MIGRATOR_USD_CONTRACT_ADDRESSES,\n  SYNTHETIX_CONTRACT_ADDRESSES,\n  SYNTHETIX_EXCHANGE_RATES_CONTRACT_ADDRESSES,\n  Token,\n  USDC,\n  USDT,\n  isLegacySwapABIPool,\n  isMetaPool,\n  UST_METAPOOL_NAME,\n  UST,\n} from \"../constants\"\n\nimport BRIDGE_CONTRACT_ABI from \"../constants/abis/bridge.json\"\nimport { Bridge } from \"../../types/ethers-contracts/Bridge\"\nimport { Contract } from \"@ethersproject/contracts\"\nimport ERC20_ABI from \"../constants/abis/erc20.json\"\nimport { Erc20 } from \"../../types/ethers-contracts/Erc20\"\nimport FRAX_META_POOL_ABI from \"../constants/abis/FraxMetaPool.json\"\nimport { FraxMetaPool } from \"../../types/ethers-contracts/FraxMetaPool\"\nimport META_SWAP_DEPOSIT_ABI from \"../constants/abis/metaSwapDeposit.json\"\nimport MIGRATOR_USD_CONTRACT_ABI from \"../constants/abis/swapMigratorUSD.json\"\nimport { MetaSwapDeposit } from \"../../types/ethers-contracts/MetaSwapDeposit\"\nimport ROSE_FRAX_LP_ABI from \"../constants/abis/RoseFraxLP.json\"\nimport ROSE_FRAX_POOL_ABI from \"../constants/abis/RoseFraxPool.json\"\nimport ROSE_STABLES_FARM_ABI from \"../constants/abis/RoseStablesFarm.json\"\nimport ROSE_STABLES_LP_ABI from \"../constants/abis/RoseStablesLP.json\"\nimport ROSE_STABLES_POOL_ABI from \"../constants/abis/RoseStablesPool.json\"\nimport { RoseFraxLP } from \"../../types/ethers-contracts/RoseFraxLP\"\nimport { RoseFraxPool } from \"../../types/ethers-contracts/RoseFraxPool\"\nimport { RoseStablesFarm } from \"../../types/ethers-contracts/RoseStablesFarm\"\nimport { RoseStablesLP } from \"../../types/ethers-contracts/RoseStablesLP\"\nimport { RoseStablesPool } from \"../../types/ethers-contracts/RoseStablesPool\"\nimport SROSE_ABI from \"../constants/abis/stRose.json\"\nimport SWAP_FLASH_LOAN_ABI from \"../constants/abis/swapFlashLoan.json\"\nimport SWAP_FLASH_LOAN_NO_WITHDRAW_FEE_ABI from \"../constants/abis/swapFlashLoanNoWithdrawFee.json\"\nimport SWAP_GUARDED_ABI from \"../constants/abis/swapGuarded.json\"\nimport SYNTHETIX_EXCHANGE_RATE_CONTRACT_ABI from \"../constants/abis/synthetixExchangeRate.json\"\nimport SYNTHETIX_NETWORK_TOKEN_CONTRACT_ABI from \"../constants/abis/synthetixNetworkToken.json\"\nimport { StRose } from \"../../types/ethers-contracts/StRose\"\nimport { SwapFlashLoan } from \"../../types/ethers-contracts/SwapFlashLoan\"\nimport { SwapFlashLoanNoWithdrawFee } from \"../../types/ethers-contracts/SwapFlashLoanNoWithdrawFee\"\nimport { SwapGuarded } from \"../../types/ethers-contracts/SwapGuarded\"\nimport { SwapMigratorUSD } from \"../../types/ethers-contracts/SwapMigratorUSD\"\nimport { SynthetixExchangeRate } from \"../../types/ethers-contracts/SynthetixExchangeRate\"\nimport { SynthetixNetworkToken } from \"../../types/ethers-contracts/SynthetixNetworkToken\"\nimport { getContract } from \"../utils\"\nimport { useActiveWeb3React } from \"./index\"\nimport { useMemo } from \"react\"\n\n// returns null on errors\nfunction useContract(\n  address: string | undefined,\n  ABI: any, // eslint-disable-line @typescript-eslint/no-explicit-any\n  withSignerIfPossible = true,\n): Contract | null {\n  const { library, account } = useActiveWeb3React()\n\n  return useMemo(() => {\n    if (!address || !ABI || !library) return null\n    try {\n      return getContract(\n        address,\n        ABI,\n        library,\n        withSignerIfPossible && account ? account : undefined,\n      )\n    } catch (error) {\n      console.error(\"Failed to get contract\", error)\n      return null\n    }\n  }, [address, ABI, library, withSignerIfPossible, account])\n}\n\n// TO-DO: update ABI\nexport function useFarmContract(farmName: FarmName): RoseStablesFarm | null {\n  const { chainId, account, library } = useActiveWeb3React()\n  return useMemo(() => {\n    if (!farmName || !library || !chainId) return null\n    try {\n      const farm = FARMS_MAP[farmName]\n      if (typeof farm.addresses === undefined) return null\n      switch (farmName) {\n        case STABLES_FARM_NAME:\n          return getContract(\n            farm.addresses[chainId],\n            JSON.stringify(ROSE_STABLES_FARM_ABI.abi),\n            library,\n            account ?? undefined,\n          ) as RoseStablesFarm\n        case FRAX_METAPOOL_FARM_NAME:\n          return getContract(\n            farm.addresses[chainId],\n            JSON.stringify(ROSE_STABLES_FARM_ABI.abi),\n            library,\n            account ?? undefined,\n          ) as RoseStablesFarm\n        case UST_METAPOOL_FARM_NAME:\n          return getContract(\n            farm.addresses[chainId],\n            JSON.stringify(ROSE_STABLES_FARM_ABI.abi),\n            library,\n            account ?? undefined,\n          ) as RoseStablesFarm\n        case ROSE_PAD_NLP_FARM_NAME:\n          return getContract(\n            farm.addresses[chainId],\n            JSON.stringify(ROSE_STABLES_FARM_ABI.abi),\n            library,\n            account ?? undefined,\n          ) as RoseStablesFarm\n        case ROSE_FRAX_NLP_FARM_NAME:\n          return getContract(\n            farm.addresses[chainId],\n            JSON.stringify(ROSE_STABLES_FARM_ABI.abi),\n            library,\n            account ?? undefined,\n          ) as RoseStablesFarm\n        case BUSD_METAPOOL_FARM_NAME:\n          return getContract(\n            farm.addresses[chainId],\n            JSON.stringify(ROSE_STABLES_FARM_ABI.abi),\n            library,\n            account ?? undefined,\n          ) as RoseStablesFarm\n        // case SROSE_FARM_NAME:\n        //   return getContract(\n        //     farm.addresses[chainId],\n        //     JSON.stringify(ROSE_STABLES_FARM_ABI.abi),\n        //     library,\n        //     account ?? undefined,\n        //   ) as RoseStablesFarm\n        default:\n          return null\n      }\n    } catch (error) {\n      console.error(\"Failed to get contract\", error)\n      return null\n    }\n  }, [chainId, library, account, farmName])\n}\n\nexport function useRoseContract(): Erc20 | null {\n  const { chainId } = useActiveWeb3React()\n  const contractAddress = chainId ? ROSE_CONTRACT_ADDRESSES[chainId] : undefined\n  return useContract(contractAddress, ERC20_ABI) as Erc20\n}\n\nexport function useStRoseContract(): StRose | null {\n  const { chainId } = useActiveWeb3React()\n  const contractAddress = chainId\n    ? SROSE_CONTRACT_ADDRESSES[chainId]\n    : undefined\n  return useContract(contractAddress, SROSE_ABI.abi) as StRose\n}\n\nexport function useSwapMigratorUSDContract(): SwapMigratorUSD | null {\n  const { chainId } = useActiveWeb3React()\n  const contractAddress = chainId\n    ? SWAP_MIGRATOR_USD_CONTRACT_ADDRESSES[chainId]\n    : undefined\n  return useContract(\n    contractAddress,\n    MIGRATOR_USD_CONTRACT_ABI,\n  ) as SwapMigratorUSD\n}\n\nexport function useBridgeContract(): Bridge | null {\n  const { chainId } = useActiveWeb3React()\n  const contractAddress = chainId\n    ? BRIDGE_CONTRACT_ADDRESSES[chainId]\n    : undefined\n  return useContract(contractAddress, BRIDGE_CONTRACT_ABI) as Bridge\n}\n\nexport function useSynthetixContract(): SynthetixNetworkToken | null {\n  const { chainId } = useActiveWeb3React()\n  const contractAddress = chainId\n    ? SYNTHETIX_CONTRACT_ADDRESSES[chainId]\n    : undefined\n  return useContract(\n    contractAddress,\n    SYNTHETIX_NETWORK_TOKEN_CONTRACT_ABI,\n  ) as SynthetixNetworkToken\n}\n\nexport function useSynthetixExchangeRatesContract(): SynthetixExchangeRate | null {\n  const { chainId } = useActiveWeb3React()\n  const contractAddress = chainId\n    ? SYNTHETIX_EXCHANGE_RATES_CONTRACT_ADDRESSES[chainId]\n    : undefined\n  return useContract(\n    contractAddress,\n    SYNTHETIX_EXCHANGE_RATE_CONTRACT_ABI,\n  ) as SynthetixExchangeRate\n}\n\nexport function useTokenContract(\n  t: Token,\n  withSignerIfPossible?: boolean,\n): Contract | null {\n  const { chainId } = useActiveWeb3React()\n  const tokenAddress = chainId ? t.addresses[chainId] : undefined\n  return useContract(tokenAddress, ERC20_ABI, withSignerIfPossible)\n}\n\nexport function usePoolContract(poolName?: PoolName): Contract | null {\n  const { chainId, account, library } = useActiveWeb3React()\n  return useMemo(() => {\n    if (!poolName || !library || !chainId) return null\n    try {\n      const pool = POOLS_MAP[poolName]\n      if (typeof pool.addresses === undefined) return null\n      // use RoseFraxPool for a standard pool with 2 assets with 18 decimals each\n      switch (poolName) {\n        case STABLECOIN_POOL_V2_NAME:\n          return getContract(\n            pool.addresses[chainId],\n            JSON.stringify(ROSE_STABLES_POOL_ABI),\n            library,\n            account ?? undefined,\n          ) as RoseStablesPool\n        case FRAX_STABLES_LP_POOL_NAME:\n          return getContract(\n            pool.addresses[chainId],\n            JSON.stringify(ROSE_FRAX_POOL_ABI),\n            library,\n            account ?? undefined,\n          ) as RoseFraxPool\n        case STAKED_ROSE_LP_POOL_NAME:\n          return getContract(\n            pool.addresses[chainId],\n            JSON.stringify(ROSE_FRAX_POOL_ABI),\n            library,\n            account ?? undefined,\n          ) as RoseFraxPool\n        case FRAX_METAPOOL_NAME:\n          return getContract(\n            pool.addresses[chainId],\n            JSON.stringify(FRAX_META_POOL_ABI),\n            library,\n            account ?? undefined,\n          ) as FraxMetaPool\n        case UST_METAPOOL_NAME:\n          return getContract(\n            pool.addresses[chainId],\n            JSON.stringify(FRAX_META_POOL_ABI),\n            library,\n            account ?? undefined,\n          ) as FraxMetaPool\n        case BUSD_METAPOOL_NAME:\n          return getContract(\n            pool.addresses[chainId],\n            JSON.stringify(FRAX_META_POOL_ABI),\n            library,\n            account ?? undefined,\n          ) as FraxMetaPool\n        default:\n          return null\n      }\n    } catch (error) {\n      console.error(\"Failed to get contract\", error)\n      return null\n    }\n  }, [chainId, library, account, poolName])\n}\n\nexport function useSwapContract<T extends PoolName>(\n  poolName?: T,\n): T extends typeof BTC_POOL_NAME\n  ? SwapGuarded | null\n  : SwapFlashLoan | SwapFlashLoanNoWithdrawFee | MetaSwapDeposit | null\nexport function useSwapContract(\n  poolName?: PoolName,\n):\n  | SwapGuarded\n  | SwapFlashLoan\n  | SwapFlashLoanNoWithdrawFee\n  | MetaSwapDeposit\n  | null {\n  const { chainId, account, library } = useActiveWeb3React()\n  return useMemo(() => {\n    if (!poolName || !library || !chainId) return null\n    try {\n      const pool = POOLS_MAP[poolName]\n      if (poolName === BTC_POOL_NAME) {\n        return getContract(\n          pool.addresses[chainId],\n          SWAP_GUARDED_ABI,\n          library,\n          account ?? undefined,\n        ) as SwapGuarded\n      } else if (isLegacySwapABIPool(poolName)) {\n        return getContract(\n          pool.addresses[chainId],\n          SWAP_FLASH_LOAN_ABI,\n          library,\n          account ?? undefined,\n        ) as SwapFlashLoan\n      } else if (isMetaPool(poolName)) {\n        return getContract(\n          pool.addresses[chainId],\n          META_SWAP_DEPOSIT_ABI,\n          library,\n          account ?? undefined,\n        ) as MetaSwapDeposit\n      } else if (pool) {\n        return getContract(\n          pool.addresses[chainId],\n          SWAP_FLASH_LOAN_NO_WITHDRAW_FEE_ABI,\n          library,\n          account ?? undefined,\n        ) as SwapFlashLoanNoWithdrawFee\n      } else {\n        return null\n      }\n    } catch (error) {\n      console.error(\"Failed to get contract\", error)\n      return null\n    }\n  }, [chainId, library, account, poolName])\n}\n\nexport function useLPTokenContract(\n  poolName: PoolName,\n): RoseStablesLP | RoseFraxLP | null {\n  const { chainId, account, library } = useActiveWeb3React()\n  return useMemo(() => {\n    if (!poolName || !library || !chainId) return null\n    try {\n      const pool = POOLS_MAP[poolName]\n      // use RoseFraxLP for a standard pool with 2 assets with 18 decimals each\n      switch (poolName) {\n        case STABLECOIN_POOL_V2_NAME:\n          return getContract(\n            pool.lpToken.addresses[chainId],\n            JSON.stringify(ROSE_STABLES_LP_ABI),\n            library,\n            account ?? undefined,\n          ) as RoseStablesLP\n        case FRAX_STABLES_LP_POOL_NAME:\n          return getContract(\n            pool.lpToken.addresses[chainId],\n            JSON.stringify(ROSE_FRAX_LP_ABI),\n            library,\n            account ?? undefined,\n          ) as RoseFraxLP\n        case STAKED_ROSE_LP_POOL_NAME:\n          return getContract(\n            pool.lpToken.addresses[chainId],\n            JSON.stringify(ROSE_FRAX_LP_ABI),\n            library,\n            account ?? undefined,\n          ) as RoseFraxLP\n        case FRAX_METAPOOL_NAME:\n          return getContract(\n            pool.lpToken.addresses[chainId],\n            JSON.stringify(ROSE_FRAX_LP_ABI),\n            library,\n            account ?? undefined,\n          ) as RoseFraxLP\n        case UST_METAPOOL_NAME:\n          return getContract(\n            pool.lpToken.addresses[chainId],\n            JSON.stringify(ROSE_FRAX_LP_ABI),\n            library,\n            account ?? undefined,\n          ) as RoseFraxLP\n        case BUSD_METAPOOL_NAME:\n          return getContract(\n            pool.lpToken.addresses[chainId],\n            JSON.stringify(ROSE_FRAX_LP_ABI),\n            library,\n            account ?? undefined,\n          ) as RoseFraxLP\n        default:\n          return null\n      }\n    } catch (error) {\n      console.error(\"Failed to get contract\", error)\n      return null\n    }\n  }, [chainId, library, account, poolName])\n}\n\nexport function useLPTokenContractForFarm(\n  farmName: FarmName,\n): RoseStablesLP | RoseFraxLP | null {\n  const { chainId, account, library } = useActiveWeb3React()\n  return useMemo(() => {\n    if (!farmName || !library || !chainId) return null\n    try {\n      const farm = FARMS_MAP[farmName]\n      // use RoseFraxLP for a standard farm with 18 decimals each\n      switch (farmName) {\n        case STABLES_FARM_NAME:\n          return getContract(\n            farm.lpToken.addresses[chainId],\n            JSON.stringify(ROSE_STABLES_LP_ABI),\n            library,\n            account ?? undefined,\n          ) as RoseStablesLP\n        case FRAX_METAPOOL_FARM_NAME:\n          return getContract(\n            farm.lpToken.addresses[chainId],\n            JSON.stringify(ROSE_FRAX_LP_ABI),\n            library,\n            account ?? undefined,\n          ) as RoseFraxLP\n        case UST_METAPOOL_FARM_NAME:\n          return getContract(\n            farm.lpToken.addresses[chainId],\n            JSON.stringify(ROSE_FRAX_LP_ABI),\n            library,\n            account ?? undefined,\n          ) as RoseFraxLP\n        case ROSE_PAD_NLP_FARM_NAME:\n          return getContract(\n            farm.lpToken.addresses[chainId],\n            JSON.stringify(ROSE_FRAX_LP_ABI),\n            library,\n            account ?? undefined,\n          ) as RoseFraxLP\n        case ROSE_FRAX_NLP_FARM_NAME:\n          return getContract(\n            farm.lpToken.addresses[chainId],\n            JSON.stringify(ROSE_FRAX_LP_ABI),\n            library,\n            account ?? undefined,\n          ) as RoseFraxLP\n        case BUSD_METAPOOL_FARM_NAME:\n          return getContract(\n            farm.lpToken.addresses[chainId],\n            JSON.stringify(ROSE_FRAX_LP_ABI),\n            library,\n            account ?? undefined,\n          ) as RoseFraxLP\n        // case SROSE_FARM_NAME:\n        //   return getContract(\n        //     farm.lpToken.addresses[chainId],\n        //     JSON.stringify(ROSE_FRAX_LP_ABI),\n        //     library,\n        //     account ?? undefined,\n        //   ) as RoseFraxLP\n        default:\n          return null\n      }\n    } catch (error) {\n      console.error(\"Failed to get contract\", error)\n      return null\n    }\n  }, [chainId, library, account, farmName])\n}\n\ninterface AllContractsObject {\n  [x: string]: RoseStablesLP | Erc20 | null\n}\nexport function useAllContracts(): AllContractsObject | null {\n  const daiContract = useTokenContract(DAI) as Erc20\n  const usdcContract = useTokenContract(USDC) as Erc20\n  const usdtContract = useTokenContract(USDT) as Erc20\n  const fraxContract = useTokenContract(FRAX) as Erc20\n  const roseStablesLPContract = useTokenContract(\n    STABLECOIN_SWAP_V2_TOKEN,\n  ) as RoseStablesLP\n  const roseContract = useTokenContract(ROSE) as Erc20\n  const stroseContract = useTokenContract(SROSE) as Erc20\n  const ustContract = useTokenContract(UST) as Erc20\n  const busdContract = useTokenContract(BUSD) as Erc20\n\n  return useMemo(() => {\n    if (\n      ![\n        daiContract,\n        usdcContract,\n        usdtContract,\n        roseStablesLPContract,\n        stroseContract,\n        ustContract,\n        roseContract,\n        fraxContract,\n      ].some(Boolean)\n    )\n      return null\n    return {\n      [DAI.symbol]: daiContract,\n      [USDC.symbol]: usdcContract,\n      [USDT.symbol]: usdtContract,\n      [FRAX.symbol]: fraxContract,\n      [STABLECOIN_SWAP_V2_TOKEN.symbol]: roseStablesLPContract,\n      [ROSE.symbol]: roseContract,\n      [SROSE.symbol]: stroseContract,\n      [UST.symbol]: ustContract,\n      [BUSD.symbol]: busdContract,\n    }\n  }, [\n    daiContract,\n    usdcContract,\n    usdtContract,\n    roseStablesLPContract,\n    fraxContract,\n    roseContract,\n    stroseContract,\n    ustContract,\n  ])\n}\n","/* eslint-disable */\nimport { AddressZero, Zero } from \"@ethersproject/constants\"\nimport {\n  ChainId,\n  // STABLECOIN_POOL_V2_NAME,\n  POOLS_MAP,\n  PoolName,\n  TRANSACTION_TYPES,\n} from \"../constants\"\nimport { Contract, Provider } from \"ethcall\"\nimport {\n  MulticallCall,\n  MulticallContract,\n  MulticallProvider,\n} from \"../types/ethcall\"\nimport { formatBNToPercentString, getContract } from \"../utils\"\nimport { useEffect, useState } from \"react\"\n\nimport { AppState } from \"../state\"\nimport { BigNumber } from \"@ethersproject/bignumber\"\nimport LPTOKEN_UNGUARDED_ABI from \"../constants/abis/lpTokenUnguarded.json\"\nimport { LpTokenUnguarded } from \"../../types/ethers-contracts/LpTokenUnguarded\"\nimport ROSE_STABLES_POOL from \"../constants/abis/RoseStablesPool.json\"\nimport { RoseStablesPool } from \"../../types/ethers-contracts/RoseStablesPool\"\nimport { parseUnits } from \"@ethersproject/units\"\nimport { useActiveWeb3React } from \".\"\nimport { usePoolContract } from \"./useContract\"\nimport { useSelector } from \"react-redux\"\n\nconst poolStatsApi = \"https://raw.githubusercontent.com/RoseOnAurora/apr/master/pools.json\"\n\ninterface PoolStatsApiResponse {\n  pool_name: string\n  daily_volume: string\n}\n\ninterface TokenShareType {\n  percent: string\n  symbol: string\n  value: BigNumber\n}\n\nexport type Partners = \"keep\" | \"sharedStake\" | \"alchemix\"\nexport interface PoolDataType {\n  adminFee: BigNumber\n  aParameter: BigNumber\n  apy: BigNumber | null\n  name: string\n  reserve: BigNumber | null\n  swapFee: BigNumber\n  tokens: TokenShareType[]\n  totalLocked: BigNumber\n  utilization: BigNumber | null\n  virtualPrice: BigNumber\n  volume: BigNumber | null\n  isPaused: boolean\n  aprs: Partial<\n    Record<\n      Partners,\n      {\n        apr: BigNumber\n        symbol: string\n      }\n    >\n  >\n  lpTokenPriceUSD: BigNumber\n  lpToken: string\n}\n\nexport interface UserShareType {\n  lpTokenBalance: BigNumber\n  name: PoolName // TODO: does this need to be on user share?\n  share: BigNumber\n  tokens: TokenShareType[]\n  usdBalance: BigNumber\n  underlyingTokensAmount: BigNumber\n  amountsStaked: Partial<Record<Partners, BigNumber>>\n}\n\nexport type PoolDataHookReturnType = [PoolDataType, UserShareType | null]\n\nconst emptyPoolData = {\n  adminFee: Zero,\n  aParameter: Zero,\n  apy: null,\n  name: \"\",\n  reserve: null,\n  swapFee: Zero,\n  tokens: [],\n  totalLocked: Zero,\n  utilization: null,\n  virtualPrice: Zero,\n  volume: null,\n  aprs: {},\n  lpTokenPriceUSD: Zero,\n  lpToken: \"\",\n  isPaused: false,\n} as PoolDataType\n\nexport default function usePoolData(\n  poolName?: PoolName,\n): PoolDataHookReturnType {\n  const { account, library, chainId } = useActiveWeb3React()\n  const poolContract = usePoolContract(poolName)\n  const { tokenPricesUSD, lastTransactionTimes, swapStats } = useSelector(\n    (state: AppState) => state.application,\n  )\n  const lastDepositTime = lastTransactionTimes[TRANSACTION_TYPES.DEPOSIT]\n  const lastWithdrawTime = lastTransactionTimes[TRANSACTION_TYPES.WITHDRAW]\n  const lastSwapTime = lastTransactionTimes[TRANSACTION_TYPES.SWAP]\n  const lastMigrateTime = lastTransactionTimes[TRANSACTION_TYPES.MIGRATE]\n\n  const [poolData, setPoolData] = useState<PoolDataHookReturnType>([\n    {\n      ...emptyPoolData,\n      name: poolName || \"\",\n    },\n    null,\n  ])\n\n  useEffect(() => {\n    async function getPoolData(): Promise<void> {\n      if (\n        poolName == null ||\n        poolContract == null ||\n        tokenPricesUSD == null ||\n        library == null ||\n        chainId == null\n      )\n        return\n\n      // fetch pool stats, TODO: don't need to call for each pool, store somewhere else\n      let dailyVolume;\n      let poolStats = await fetch(poolStatsApi)\n        .then((res) => res.json())\n        .then((body: PoolStatsApiResponse[]) => {\n          return body.map((b) => {\n            return {\n              pool_name: b.pool_name,\n              daily_volume: b.daily_volume,\n            }\n          })\n        })\n      let poolStat = poolStats.find( ({ pool_name }) => pool_name === poolName)\n      if (typeof poolStat !== \"undefined\") {\n        dailyVolume = \n          BigNumber.from(Math.round(parseFloat(poolStat.daily_volume))).mul(BigNumber.from(10).pow(18))\n      } else {\n        dailyVolume = null\n      }\n\n      // TODO: move to utils\n      function calculatePctOfTotalShare(lpTokenAmount: BigNumber): BigNumber {\n        // returns the % of total lpTokens\n        return lpTokenAmount\n          .mul(BigNumber.from(10).pow(18))\n          .div(\n            totalLpTokenBalance.isZero()\n              ? BigNumber.from(\"1\")\n              : totalLpTokenBalance,\n          )\n      }\n\n      const POOL = POOLS_MAP[poolName]\n      const effectivePoolTokens = POOL.poolTokens\n      const lpTokenContract = getContract(\n        POOL.lpToken.addresses[chainId],\n        LPTOKEN_UNGUARDED_ABI,\n        library,\n        account ?? undefined,\n      ) as LpTokenUnguarded\n\n      const ethcallProvider = new Provider() as MulticallProvider\n      await ethcallProvider.init(library)\n      // override the contract address when using aurora\n      if (chainId == ChainId.AURORA_TESTNET) {\n        ethcallProvider.multicallAddress =\n          \"0x508B1508AAd923fB24F6d13cD74Ac640fD8B66E8\"\n      } else if (chainId == ChainId.AURORA_MAINNET) {\n        ethcallProvider.multicallAddress =\n          \"0x49eb1F160e167aa7bA96BdD88B6C1f2ffda5212A\"\n      }\n\n      // get virtual price (failing in multicall, maybe because no liquidity yet?)\n      let virtualPrice: BigNumber\n      try {\n        virtualPrice = await poolContract.get_virtual_price()\n      } catch (e) {\n        console.log(`couldn't fetch virtual price`)\n        virtualPrice = Zero\n      }\n\n      // multicall: fetch A, fee, protocol_fee, token prices\n      const multicallPoolContract = new Contract(\n        poolContract.address,\n        ROSE_STABLES_POOL,\n      ) as MulticallContract<RoseStablesPool>\n      const a: MulticallCall<unknown, BigNumber> = multicallPoolContract.A()\n      const fee: MulticallCall<unknown, BigNumber> = multicallPoolContract.fee()\n      const poolTokenBalances = effectivePoolTokens.map((_, index) => {\n        return multicallPoolContract.balances(index)\n      })\n\n      // TODO: make a struct instead of an unfriendly array\n      const multicallResFormatted = await ethcallProvider.all(\n        [a, fee, ...poolTokenBalances],\n        \"latest\",\n      )\n      // TODO: kinda hacky way of adjusting decimals, need to do this generically\n      const tokenBalances = multicallResFormatted\n        .slice(2)\n        .map((balance, index) => {\n          return balance.mul(\n            BigNumber.from(10).pow(18 - effectivePoolTokens[index].decimals),\n          )\n        })\n\n      // get lp token balance and total supply\n      // TODO: use multicall\n      const [userLpTokenBalance, totalLpTokenBalance] = await Promise.all([\n        lpTokenContract.balanceOf(account || AddressZero),\n        lpTokenContract.totalSupply(),\n      ])\n\n      // calculate sum of token balances\n      const tokenBalancesSum: BigNumber = tokenBalances.reduce((sum, b) =>\n        sum.add(b),\n      )\n      const tokenBalancesUSD = effectivePoolTokens.map((token, i) => {\n        // use another token to estimate USD price of meta LP tokens\n        const balance = tokenBalances[i]\n        return balance\n          .mul(parseUnits(String(tokenPricesUSD[token.symbol] || 0), 18))\n          .div(BigNumber.from(10).pow(18))\n      })\n      const tokenBalancesUSDSum: BigNumber = tokenBalancesUSD.reduce((sum, b) =>\n        sum.add(b),\n      )\n      const lpTokenPriceUSD = tokenBalancesSum.isZero()\n        ? Zero\n        : tokenBalancesUSDSum\n            .mul(BigNumber.from(10).pow(18))\n            .div(tokenBalancesSum)\n\n      // calculate user share of pool\n      const userShare = calculatePctOfTotalShare(userLpTokenBalance)\n      const userPoolTokenBalances = tokenBalances.map((balance) => {\n        return userShare.mul(balance).div(BigNumber.from(10).pow(18))\n      })\n      const userPoolTokenBalancesSum: BigNumber = userPoolTokenBalances.reduce(\n        (sum, b) => sum.add(b),\n      )\n      const userPoolTokenBalancesUSD = tokenBalancesUSD.map((balance) => {\n        return userShare.mul(balance).div(BigNumber.from(10).pow(18))\n      })\n      const userPoolTokenBalancesUSDSum: BigNumber = userPoolTokenBalancesUSD.reduce(\n        (sum, b) => sum.add(b),\n      )\n\n      // format pool token balances and user pool tokens\n      const poolTokens = effectivePoolTokens.map((token, i) => ({\n        symbol: token.symbol,\n        percent: formatBNToPercentString(\n          tokenBalances[i]\n            .mul(10 ** 5)\n            .div(\n              totalLpTokenBalance.isZero()\n                ? BigNumber.from(\"1\")\n                : tokenBalancesSum,\n            ),\n          5,\n        ),\n        value: tokenBalances[i],\n      }))\n      const userPoolTokens = effectivePoolTokens.map((token, i) => ({\n        symbol: token.symbol,\n        percent: formatBNToPercentString(\n          tokenBalances[i]\n            .mul(10 ** 5)\n            .div(\n              totalLpTokenBalance.isZero()\n                ? BigNumber.from(\"1\")\n                : tokenBalancesSum,\n            ),\n          5,\n        ),\n        value: userPoolTokenBalances[i],\n      }))\n\n      // set final structs stored in state\n      const poolData = {\n        ...emptyPoolData,\n        name: poolName,\n        tokens: poolTokens,\n        reserve: tokenBalancesUSDSum,\n        totalLocked: totalLpTokenBalance,\n        aParameter: multicallResFormatted[0],\n        swapFee: multicallResFormatted[1],\n        virtualPrice,\n        lpTokenPriceUSD,\n        lpToken: POOL.lpToken.symbol,\n        volume: dailyVolume,\n      }\n      const userShareData = account\n        ? {\n            name: poolName,\n            share: userShare,\n            underlyingTokensAmount: userPoolTokenBalancesSum,\n            usdBalance: userPoolTokenBalancesUSDSum,\n            tokens: userPoolTokens,\n            lpTokenBalance: userLpTokenBalance,\n            amountsStaked: {},\n          }\n        : null\n\n      setPoolData([poolData, userShareData])\n    }\n    void getPoolData()\n  }, [\n    lastDepositTime,\n    lastWithdrawTime,\n    lastSwapTime,\n    lastMigrateTime,\n    poolContract,\n    tokenPricesUSD,\n    poolName,\n    account,\n    library,\n    chainId,\n    swapStats,\n  ])\n\n  return poolData\n}\n","import \"./ConfirmTransaction.scss\"\n\nimport React, { ReactElement, ReactNode } from \"react\"\nimport { Text } from \"@chakra-ui/react\"\nimport classNames from \"classnames\"\nimport loadingGif from \"../assets/loading.gif\"\nimport { useTranslation } from \"react-i18next\"\n\nexport enum ModalType {\n  APPROVE = \"approve\",\n  CONFIRM = \"confirm\",\n  FAILED = \"failed\",\n  SUCCESS = \"success\",\n  REVIEW = \"review\",\n}\nexport interface ConfirmTransactionProps {\n  title?: string\n  type?: ModalType\n  description?: string\n  children?: ReactNode\n}\nfunction ConfirmTransaction({\n  title = \"confirmTransaction\",\n  type = ModalType.CONFIRM,\n  description = \"\",\n  children,\n}: ConfirmTransactionProps): ReactElement {\n  const { t } = useTranslation()\n\n  return (\n    <div className=\"confirmTransaction\">\n      <h3\n        className={classNames(\n          { failed: type === ModalType.FAILED },\n          { success: type === ModalType.SUCCESS },\n        )}\n      >\n        {t(title)}\n      </h3>\n      {description ? <Text>{description}</Text> : null}\n      {type === ModalType.CONFIRM ? (\n        <img src={loadingGif} alt=\"loading...\" className=\"loadingGif\" />\n      ) : null}\n      {children}\n    </div>\n  )\n}\n\nexport default ConfirmTransaction\n","export default __webpack_public_path__ + \"static/media/loading.37617537.gif\";","import \"./CheckboxInput.scss\"\n\nimport React, { ReactElement } from \"react\"\n\ninterface Props {\n  checked: boolean\n  onChange: () => void\n}\n\nexport default function CheckboxInput({\n  checked,\n  onChange,\n}: Props): ReactElement {\n  return (\n    <label className=\"checkboxInput\">\n      <input type=\"checkbox\" checked={checked} onChange={onChange} />\n      <div className=\"checkboxControl\">\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          viewBox=\"0 0 24 24\"\n          aria-hidden=\"true\"\n          focusable=\"false\"\n        >\n          <path\n            fill=\"none\"\n            strokeWidth=\"4\"\n            d=\"M1.73 12.91l6.37 6.37L22.79 4.59\"\n          />\n        </svg>\n      </div>\n    </label>\n  )\n}\n","import \"./ToolTip.scss\"\n\nimport React, { ReactElement } from \"react\"\n\ninterface Props {\n  content: string\n}\nexport default function ToolTip({\n  content,\n  children,\n}: React.PropsWithChildren<Props>): ReactElement {\n  return (\n    <div className=\"toolTip\">\n      {children}\n      <div className=\"tooltipText\">{content}</div>\n    </div>\n  )\n}\n","import { Input, InputGroup, InputRightElement } from \"@chakra-ui/react\"\nimport React, { ReactElement } from \"react\"\nimport {\n  updateInfiniteApproval,\n  updateSlippageCustom,\n  updateSlippageSelected,\n} from \"../state/user\"\nimport { useDispatch, useSelector } from \"react-redux\"\n\nimport { AppDispatch } from \"../state\"\nimport { AppState } from \"../state/index\"\nimport CheckboxInput from \"./CheckboxInput\"\nimport { PayloadAction } from \"@reduxjs/toolkit\"\nimport { Slippages } from \"../state/user\"\nimport ToolTip from \"./ToolTip\"\nimport classNames from \"classnames\"\nimport styles from \"./AdvancedOptions.module.scss\"\nimport { useTranslation } from \"react-i18next\"\n\nexport default function AdvancedOptions(): ReactElement {\n  const { t } = useTranslation()\n  const dispatch = useDispatch<AppDispatch>()\n  const { infiniteApproval, slippageCustom, slippageSelected } = useSelector(\n    (state: AppState) => state.user,\n  )\n\n  return (\n    <div className={styles.advancedOptions}>\n      <div className={styles.parameter}>\n        <div className={styles.infiniteApproval} style={{ zIndex: 3 }}>\n          <CheckboxInput\n            checked={infiniteApproval}\n            onChange={(): PayloadAction<boolean> =>\n              dispatch(updateInfiniteApproval(!infiniteApproval))\n            }\n          />\n          <ToolTip content={t(\"infiniteApprovalTooltip\")}>\n            <span className={styles.label}>{t(\"infiniteApproval\")}</span>\n          </ToolTip>\n        </div>\n      </div>\n      <div className={styles.parameter}>\n        <div className={styles.inputGroup}>\n          <div className={styles.options}>\n            <div className={styles.label}>{t(\"maxSlippage\")}: </div>\n            <button\n              className={classNames({\n                [styles.selected]: slippageSelected === Slippages.OneTenth,\n              })}\n              onClick={(): PayloadAction<Slippages> =>\n                dispatch(updateSlippageSelected(Slippages.OneTenth))\n              }\n            >\n              <span>0.1%</span>\n            </button>\n            <button\n              className={classNames({\n                [styles.selected]: slippageSelected === Slippages.One,\n              })}\n              onClick={(): PayloadAction<Slippages> =>\n                dispatch(updateSlippageSelected(Slippages.One))\n              }\n            >\n              <span>1%</span>\n            </button>\n            <div style={{ display: \"flex\", alignItems: \"center\" }}>\n              <InputGroup marginLeft=\"5px\" width=\"90px\">\n                <Input\n                  value={slippageCustom?.valueRaw}\n                  type=\"text\"\n                  variant=\"outline\"\n                  onChange={(e: React.ChangeEvent<HTMLInputElement>): void => {\n                    const value = e.target.value\n                    if (value && !isNaN(+value)) {\n                      dispatch(updateSlippageCustom(value))\n                      if (slippageSelected !== Slippages.Custom) {\n                        dispatch(updateSlippageSelected(Slippages.Custom))\n                      }\n                    } else {\n                      dispatch(updateSlippageSelected(Slippages.OneTenth))\n                    }\n                  }}\n                />\n                <InputRightElement width=\"2rem\">%</InputRightElement>\n              </InputGroup>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n","import React, { ReactElement } from \"react\"\nimport { Link } from \"react-router-dom\"\nimport styles from \"./BackButton.module.scss\"\n\ninterface Props {\n  wrapperClass?: string\n  route: string\n  buttonText: string\n}\n\nexport default function BackButton(props: Props): ReactElement {\n  const { wrapperClass, route, buttonText } = props\n  return (\n    <div className={wrapperClass}>\n      <Link to={route} className={styles.arrowLeft}>\n        <i>{buttonText}</i>\n      </Link>\n    </div>\n  )\n}\n","import {\n  IconButton,\n  IconButtonProps,\n  Popover,\n  PopoverArrow,\n  PopoverBody,\n  PopoverCloseButton,\n  PopoverContent,\n  PopoverTrigger,\n  Portal,\n} from \"@chakra-ui/react\"\nimport React, { ReactElement, ReactNode } from \"react\"\nimport { AppState } from \"../state\"\nimport { useSelector } from \"react-redux\"\n\ninterface Props {\n  IconButtonProps: IconButtonProps\n  PopoverBodyContent: ReactNode\n}\n\nexport const IconButtonPopover = ({\n  IconButtonProps,\n  PopoverBodyContent,\n}: Props): ReactElement => {\n  const { userDarkMode } = useSelector((state: AppState) => state.user)\n  return (\n    <Popover>\n      <PopoverTrigger>\n        <IconButton {...IconButtonProps} />\n      </PopoverTrigger>\n      <Portal>\n        <PopoverContent\n          bgColor={\n            userDarkMode ? \"rgba(28, 29, 33, 0.8)\" : \"rgba(235, 229, 229, 0.8)\"\n          }\n          borderColor={userDarkMode ? \"inherit\" : \"#555555\"}\n          _focus={{ boxShadow: \"none\" }}\n          _active={{ boxShadow: \"none\" }}\n          style={{\n            backdropFilter: \"blur(8px)\",\n            WebkitBackdropFilter: \"blur(8px)\",\n          }}\n        >\n          <PopoverArrow />\n          <PopoverCloseButton />\n          <PopoverBody>{PopoverBodyContent}</PopoverBody>\n        </PopoverContent>\n      </Portal>\n    </Popover>\n  )\n}\n","import \"./LPStakingBanner.scss\"\n\nimport React, { ReactElement } from \"react\"\n\nimport { useTranslation } from \"react-i18next\"\n\ninterface Props {\n  stakingLink: string\n}\n\nfunction LPStakingBanner({ stakingLink }: Props): ReactElement {\n  const { t } = useTranslation()\n\n  return (\n    <div className=\"lpStakingBanner\">\n      <p>\n        {t(\"lpMustStakeForRewards\")} &lt;\n        <a href={stakingLink} target=\"_blank\" rel=\"noopener noreferrer\">\n          {t(\"stakeHere\")}\n        </a>\n        &gt;\n      </p>\n    </div>\n  )\n}\n\nexport default LPStakingBanner\n","import \"./Modal.scss\"\n\nimport React, { ReactElement, ReactNode } from \"react\"\n\ninterface Props {\n  isOpen: boolean\n  onClose: () => void\n  children: ReactNode\n  height?: string\n}\n\nfunction Modal({ isOpen, onClose, children }: Props): ReactElement | null {\n  if (!isOpen) return null\n  else\n    return (\n      // Modal container, provide the dark background\n      <div\n        className=\"modal\"\n        onClick={(e: React.MouseEvent<HTMLSpanElement, MouseEvent>): void => {\n          if (e.target === e.currentTarget) {\n            onClose()\n          }\n        }}\n      >\n        {/* Modal content */}\n        <div className=\"modalContent\">\n          <span\n            className=\"close\"\n            onClick={(\n              e: React.MouseEvent<HTMLSpanElement, MouseEvent>,\n            ): void => {\n              e.stopPropagation()\n              onClose()\n            }}\n          >\n            &times;\n          </span>\n          {children}\n        </div>\n      </div>\n    )\n}\n\nexport default Modal\n","import \"./Button.scss\"\n\nimport React, { ReactElement } from \"react\"\n\nimport classNames from \"classnames\"\n\ntype Props = {\n  disabled?: boolean\n  kind?: \"primary\" | \"secondary\" | \"ternary\" | \"cancel\" | \"temporary\"\n  size?: \"xlarge\" | \"large\" | \"medium\" | \"small\"\n  onClick?: (e: React.MouseEvent<HTMLButtonElement>) => void\n}\nexport default function Button(\n  props: React.PropsWithChildren<Props>,\n): ReactElement {\n  const { kind = \"primary\", size = \"large\", ...buttonProps } = props\n  return (\n    <button className={classNames(\"button\", kind, size)} {...buttonProps} />\n  )\n}\n","import \"./HighPriceImpactConfirmation.scss\"\n\nimport React, { ReactElement } from \"react\"\n\nimport CheckboxInput from \"./CheckboxInput\"\nimport { useTranslation } from \"react-i18next\"\n\ninterface Props {\n  checked: boolean\n  onCheck: () => void\n}\nexport default function HighPriceImpactConfirmation({\n  checked,\n  onCheck,\n}: Props): ReactElement {\n  const { t } = useTranslation()\n  return (\n    <div className=\"highPriceImpactConfirmation\">\n      {t(\"highPriceImpactConfirmation\")}\n      <div className=\"confirmationBox\">\n        <span>{t(\"iConfirm\")}</span>{\" \"}\n        <CheckboxInput checked={checked} onChange={onCheck} />\n      </div>\n    </div>\n  )\n}\n","import { BigNumber } from \"ethers\"\nimport { GasPrices } from \"../state/user\"\nimport { NumberInputState } from \"./numberInputState\"\n\nexport function gasBNFromState(\n  gasPricesGwei: {\n    gasStandard?: number\n    gasFast?: number\n    gasInstant?: number\n  },\n  gasSelected: GasPrices,\n  gasCustom?: NumberInputState,\n): BigNumber {\n  const { gasStandard = 0, gasFast = 0, gasInstant = 0 } = gasPricesGwei\n  let gasPrice\n  if (gasSelected === GasPrices.Custom) {\n    gasPrice = gasCustom?.valueSafe\n  } else if (gasSelected === GasPrices.Fast) {\n    gasPrice = gasFast\n  } else if (gasSelected === GasPrices.Instant) {\n    gasPrice = gasInstant\n  } else {\n    gasPrice = gasStandard\n  }\n  return BigNumber.from(gasPrice)\n}\n\nexport function formatGasToString(\n  gasPricesGwei: {\n    gasStandard?: number\n    gasFast?: number\n    gasInstant?: number\n  },\n  gasSelected: GasPrices,\n  gasCustom?: NumberInputState,\n): string {\n  return gasBNFromState(gasPricesGwei, gasSelected, gasCustom).toString()\n}\n","import { BigNumber } from \"@ethersproject/bignumber\"\nimport { NumberInputState } from \"./numberInputState\"\nimport { Slippages } from \"../state/user\"\nimport { formatUnits } from \"@ethersproject/units\"\n\n/**\n * Given an input value and slippage redux state values, do the math.\n * @param {BigNumber} inputValue\n * @param {Slippages} slippageSelected\n * @param {NumberInputState} slippageCustom\n * @param {boolean} add\n * @return {BigNumber}\n */\nexport function _applySlippage(\n  inputValue: BigNumber,\n  slippageSelected: Slippages,\n  slippageCustom?: NumberInputState,\n  add = false,\n): BigNumber {\n  let numerator\n  let denominator\n  if (slippageSelected === Slippages.Custom && !!slippageCustom) {\n    denominator = BigNumber.from(10).pow(slippageCustom.precision + 2)\n    numerator = add\n      ? denominator.add(slippageCustom.valueSafe)\n      : denominator.sub(slippageCustom.valueSafe)\n  } else if (slippageSelected === Slippages.OneTenth) {\n    denominator = 1000\n    numerator = denominator + (add ? 1 : -1)\n  } else {\n    // default to 1%\n    denominator = 100\n    numerator = denominator + (add ? 1 : -1)\n  }\n  return inputValue.mul(numerator).div(denominator)\n}\n\nexport function addSlippage(\n  inputValue: BigNumber,\n  slippageSelected: Slippages,\n  slippageCustom?: NumberInputState,\n): BigNumber {\n  return _applySlippage(inputValue, slippageSelected, slippageCustom, true)\n}\n\nexport function subtractSlippage(\n  inputValue: BigNumber,\n  slippageSelected: Slippages,\n  slippageCustom?: NumberInputState,\n): BigNumber {\n  return _applySlippage(inputValue, slippageSelected, slippageCustom, false)\n}\n\nexport function formatSlippageToString(\n  slippageSelected: Slippages,\n  slippageCustom?: NumberInputState,\n): string {\n  if (slippageSelected === Slippages.Custom && !!slippageCustom) {\n    return formatUnits(slippageCustom.valueSafe, slippageCustom?.precision)\n  } else if (slippageSelected === Slippages.OneTenth) {\n    return formatUnits(BigNumber.from(100), 3)\n  } else if (slippageSelected === Slippages.One) {\n    return formatUnits(BigNumber.from(100), 2)\n  } else {\n    return \"N/A\"\n  }\n}\n","import { BigNumber } from \"@ethersproject/bignumber\"\nimport { Zero } from \"@ethersproject/constants\"\n\nexport function isHighPriceImpact(priceImpact: BigNumber): boolean {\n  // assumes that priceImpact has 18d precision\n  const negOne = BigNumber.from(10)\n    .pow(18 - 2)\n    .mul(-1)\n  return priceImpact.lte(negOne)\n}\n\nexport function calculatePriceImpact(\n  tokenInputAmount: BigNumber, // assumed to be 18d precision\n  tokenOutputAmount: BigNumber,\n  virtualPrice = BigNumber.from(10).pow(18),\n  isWithdraw = false,\n): BigNumber {\n  // We want to multiply the lpTokenAmount by virtual price\n  // Deposits: (VP * output) / input - 1\n  // Swaps: (1 * output) / input - 1\n  // Withdraws: output / (input * VP) - 1\n  if (tokenInputAmount.lte(0)) return Zero\n\n  return isWithdraw\n    ? tokenOutputAmount\n        .mul(BigNumber.from(10).pow(36))\n        .div(tokenInputAmount.mul(virtualPrice))\n        .sub(BigNumber.from(10).pow(18))\n    : virtualPrice\n        .mul(tokenOutputAmount)\n        .div(tokenInputAmount)\n        .sub(BigNumber.from(10).pow(18))\n}\n","import \"./ReviewDeposit.scss\"\n\nimport React, { ReactElement, useState } from \"react\"\nimport { commify, formatBNToPercentString, formatBNToString } from \"../utils\"\n\nimport { AppState } from \"../state/index\"\nimport Button from \"./Button\"\nimport { DepositTransaction } from \"../interfaces/transactions\"\nimport HighPriceImpactConfirmation from \"./HighPriceImpactConfirmation\"\nimport { formatGasToString } from \"../utils/gas\"\nimport { formatSlippageToString } from \"../utils/slippage\"\nimport { isHighPriceImpact } from \"../utils/priceImpact\"\nimport { useSelector } from \"react-redux\"\nimport { useTranslation } from \"react-i18next\"\n\ninterface Props {\n  onClose: () => void\n  onConfirm: () => void\n  transactionData: DepositTransaction\n}\n\nfunction ReviewDeposit({\n  onClose,\n  onConfirm,\n  transactionData,\n}: Props): ReactElement {\n  const { t } = useTranslation()\n  const {\n    slippageCustom,\n    slippageSelected,\n    gasPriceSelected,\n    gasCustom,\n  } = useSelector((state: AppState) => state.user)\n  const { gasStandard, gasFast, gasInstant } = useSelector(\n    (state: AppState) => state.application,\n  )\n  const [\n    hasConfirmedHighPriceImpact,\n    setHasConfirmedHighPriceImpact,\n  ] = useState(false)\n  const isHighPriceImpactTxn = isHighPriceImpact(transactionData.priceImpact)\n\n  return (\n    <div className=\"reviewDeposit\">\n      <h3>{t(\"reviewDeposit\")}</h3>\n      <div className=\"table\">\n        <h4>{t(\"depositing\")}</h4>\n        <div>\n          {transactionData.from.items.map(({ token, amount }) => (\n            <div className=\"eachToken\" key={token.symbol}>\n              <div className=\"token\">\n                <img src={token.icon} alt=\"icon\" />\n                <span>{token.symbol}</span>\n              </div>\n              <div className=\"value\">\n                <span className=\"value\">\n                  {commify(formatBNToString(amount, token.decimals))}\n                </span>\n              </div>\n            </div>\n          ))}\n          <div className=\"eachToken\">\n            <div className=\"token\">\n              <b>{t(\"total\")}</b>\n            </div>\n            <div className=\"value\">\n              <b className=\"value\">\n                {commify(\n                  formatBNToString(transactionData.from.totalAmount, 18),\n                )}\n              </b>\n            </div>\n          </div>\n        </div>\n        <div className=\"divider\" style={{ height: \"1px\", width: \"100%\" }}></div>\n        <h4>{t(\"receiving\")}</h4>\n        <div>\n          <div className=\"eachToken\" key={transactionData.to.item.token.symbol}>\n            <div className=\"token\">\n              <img src={transactionData.to.item.token.icon} alt=\"icon\" />\n              <span>{transactionData.to.item.token.symbol}</span>\n            </div>\n            <div className=\"value\">\n              <span className=\"value\">\n                {commify(\n                  formatBNToString(\n                    transactionData.to.item.amount,\n                    transactionData.to.item.token.decimals,\n                  ),\n                )}\n              </span>\n            </div>\n          </div>\n        </div>\n        <div className=\"divider\" style={{ height: \"1px\", width: \"100%\" }}></div>\n        <div className=\"depositInfoItem\">\n          <span className=\"label\">{t(\"shareOfPool\")}</span>\n          <span className=\"value\">\n            {formatBNToPercentString(transactionData.shareOfPool, 18)}\n          </span>\n        </div>\n        <div className=\"depositInfoItem\">\n          <span className=\"label\">{t(\"gas\")}</span>\n          <span className=\"value\">\n            {formatGasToString(\n              { gasStandard, gasFast, gasInstant },\n              gasPriceSelected,\n              gasCustom,\n            )}{\" \"}\n            GWEI\n          </span>\n        </div>\n        {transactionData.txnGasCost?.valueUSD && (\n          <div className=\"depositInfoItem\">\n            <span className=\"label\">{t(\"estimatedTxCost\")}</span>\n            <span className=\"value\">\n              {`≈$${commify(\n                formatBNToString(transactionData.txnGasCost.valueUSD, 2, 2),\n              )}`}\n            </span>\n          </div>\n        )}\n        <div className=\"depositInfoItem\">\n          <span className=\"label\">{t(\"maxSlippage\")}</span>\n          <span className=\"value\">\n            {formatSlippageToString(slippageSelected, slippageCustom)}%\n          </span>\n        </div>\n        <div className=\"depositInfoItem\">\n          <span className=\"label\">{t(\"rates\")}</span>\n          <div className=\"rates value\">\n            {transactionData.from.items.map(\n              ({ token, singleTokenPriceUSD }) => (\n                <span key={token.symbol}>\n                  1 {token.symbol} = $\n                  {commify(formatBNToString(singleTokenPriceUSD, 18, 2))}\n                </span>\n              ),\n            )}\n            {[transactionData.to.item].map(({ token, singleTokenPriceUSD }) => (\n              <span key={token.symbol}>\n                1 {token.symbol} = $\n                {commify(formatBNToString(singleTokenPriceUSD, 18, 2))}\n              </span>\n            ))}\n          </div>\n        </div>\n      </div>\n      {isHighPriceImpactTxn && (\n        <HighPriceImpactConfirmation\n          checked={hasConfirmedHighPriceImpact}\n          onCheck={(): void =>\n            setHasConfirmedHighPriceImpact((prevState) => !prevState)\n          }\n        />\n      )}\n      <div className=\"bottom\">\n        <p>{t(\"estimatedOutput\")}</p>\n        <div className=\"buttonWrapper\">\n          <Button\n            onClick={onConfirm}\n            kind=\"primary\"\n            disabled={isHighPriceImpactTxn && !hasConfirmedHighPriceImpact}\n          >\n            {t(\"confirmDeposit\")}\n          </Button>\n          <Button onClick={onClose} kind=\"cancel\">\n            {t(\"cancel\")}\n          </Button>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default ReviewDeposit\n","import {\n  Collapse,\n  IconButton,\n  Stat,\n  StatGroup,\n  StatLabel,\n  StatNumber,\n  Tooltip,\n  useDisclosure,\n} from \"@chakra-ui/react\"\nimport React, { ReactElement, ReactNode } from \"react\"\nimport { BsChevronExpand } from \"react-icons/bs\"\nimport styles from \"./StakeDetails.module.scss\"\n\ninterface StakeStatLabel {\n  statLabel: string\n  statTooltip?: string\n  statPopOver?: ReactNode\n  onClick?: () => void\n}\ninterface StakeStats {\n  statLabel: string\n  statValue: string\n  statTooltip?: string\n  statPopOver?: ReactNode\n}\ninterface StakedDetailsView {\n  items: {\n    tokenName: string\n    amount: string\n    icon: string\n  }[]\n  title?: string\n}\ninterface Props {\n  balanceView: StakedDetailsView\n  stakedView: StakedDetailsView\n  extraStakeDetailChild?: ReactNode\n  stats?: StakeStats[]\n}\nconst StakeStat = (props: StakeStatLabel): ReactElement => {\n  const { statLabel, statTooltip, statPopOver, onClick } = props\n  if (statTooltip) {\n    return (\n      <Tooltip bgColor=\"#cc3a59\" closeOnClick={false} label={statTooltip}>\n        <div className={styles.statLabel}>\n          <div className={styles.underline}>{statLabel}</div>\n        </div>\n      </Tooltip>\n    )\n  } else if (statPopOver) {\n    return (\n      <div className={styles.statLabel}>\n        {statLabel}\n        <IconButton\n          onClick={onClick}\n          aria-label=\"Expand\"\n          variant=\"outline\"\n          size=\"xs\"\n          marginLeft=\"5px\"\n          icon={<BsChevronExpand />}\n          title=\"Expand\"\n        />\n      </div>\n    )\n  } else {\n    return <div className={styles.statLabel}>{statLabel}</div>\n  }\n}\nconst StakeDetails = (props: Props): ReactElement => {\n  const { balanceView, stakedView, stats, extraStakeDetailChild } = props\n  const { isOpen, onToggle } = useDisclosure()\n  return (\n    <>\n      {extraStakeDetailChild && (\n        <div className={styles.stakeDetails}>\n          <div\n            style={{\n              display: \"flex\",\n              justifyContent: \"space-between\",\n              alignItems: \"center\",\n            }}\n          >\n            {extraStakeDetailChild}\n          </div>\n        </div>\n      )}\n      <div className={styles.stakeDetails}>\n        <div className={styles.row}>\n          <h3 className={styles.title}>{balanceView.title}</h3>\n        </div>\n        {balanceView.items.map(({ icon, tokenName, amount }, index) => {\n          const iconStyle = /rose-/.exec(icon)\n            ? { width: \"70px\", marginRight: \"10px\" }\n            : { width: \"40px\", marginRight: \"10px\" }\n          return (\n            <div className={styles.row} key={index}>\n              <div style={iconStyle}>\n                <img src={icon} alt=\"tokenIcon\" width=\"100%\" />\n              </div>\n              <div className={styles.balanceDetails}>\n                <StatGroup>\n                  <Stat>\n                    <StatLabel>{tokenName}</StatLabel>\n                    <StatNumber fontSize=\"18px\">{amount}</StatNumber>\n                  </Stat>\n                </StatGroup>\n              </div>\n            </div>\n          )\n        })}\n      </div>\n      <div className={styles.stakeDetails}>\n        <div className={styles.row}>\n          <h3 className={styles.title}>{stakedView.title}</h3>\n        </div>\n        {stakedView.items.map(({ icon, tokenName, amount }, index) => {\n          const iconStyle = /rose-/.exec(icon)\n            ? { width: \"70px\", marginRight: \"10px\" }\n            : { width: \"40px\", marginRight: \"10px\" }\n          return (\n            <div className={styles.row} key={index}>\n              <div style={iconStyle}>\n                <img src={icon} alt=\"tokenIcon\" width=\"100%\" />\n              </div>\n              <div className={styles.balanceDetails}>\n                <StatGroup>\n                  <Stat>\n                    <StatLabel>{tokenName}</StatLabel>\n                    <StatNumber fontSize=\"18px\">{amount}</StatNumber>\n                  </Stat>\n                </StatGroup>\n              </div>\n            </div>\n          )\n        })}\n      </div>\n      {stats && (\n        <div className={styles.statsDetails}>\n          {stats.map(\n            ({ statLabel, statValue, statTooltip, statPopOver }, index) => {\n              return (\n                <div key={index}>\n                  <div className={styles.statRow}>\n                    <StakeStat\n                      statLabel={statLabel}\n                      statTooltip={statTooltip}\n                      statPopOver={statPopOver}\n                      onClick={onToggle}\n                    />\n                    <div className={styles.statValue}>{statValue}</div>\n                  </div>\n                  {statPopOver && (\n                    <Collapse in={isOpen} animateOpacity>\n                      {statPopOver}\n                    </Collapse>\n                  )}\n                </div>\n              )\n            },\n          )}\n        </div>\n      )}\n    </>\n  )\n}\n\nexport default StakeDetails\n","import { LPTOKEN_TO_POOL_MAP, TOKENS_MAP } from \"../constants\"\nimport React, { ReactElement } from \"react\"\nimport { calculatePrice, commify } from \"../utils\"\nimport { AppState } from \"../state/index\"\nimport { BigNumber } from \"ethers\"\nimport { Zero } from \"@ethersproject/constants\"\nimport { formatBNToString } from \"../utils\"\nimport styles from \"./TokenInput.module.scss\"\nimport usePoolData from \"../hooks/usePoolData\"\nimport { useSelector } from \"react-redux\"\nimport { useTranslation } from \"react-i18next\"\n\ninterface Props {\n  symbol: string\n  icon: string\n  max?: string\n  inputValue: string\n  onChange: (value: string) => void\n  disabled?: boolean\n  readonly?: boolean\n}\n\nfunction TokenInput({\n  symbol,\n  icon,\n  max,\n  inputValue,\n  onChange,\n  disabled,\n  readonly,\n}: Props): ReactElement {\n  const { t } = useTranslation()\n  const { name } = TOKENS_MAP[symbol]\n\n  let tokenUSDValue: number | BigNumber | undefined\n  const poolName = LPTOKEN_TO_POOL_MAP[symbol]\n  const [poolData] = usePoolData(poolName)\n  const { tokenPricesUSD } = useSelector((state: AppState) => state.application)\n\n  if (poolData.lpTokenPriceUSD != Zero) {\n    tokenUSDValue = parseFloat(\n      formatBNToString(poolData.lpTokenPriceUSD, 18, 2),\n    )\n  } else {\n    tokenUSDValue = tokenPricesUSD?.[symbol]\n  }\n\n  function onChangeInput(e: React.ChangeEvent<HTMLInputElement>): void {\n    const { decimals } = TOKENS_MAP[symbol]\n    // remove all chars that aren't a digit or a period\n    const newValue = e.target.value.replace(/[^\\d|.]/g, \"\")\n    // disallow more than one period\n    if (newValue.indexOf(\".\") !== newValue.lastIndexOf(\".\")) return\n    const parsedValue = parseFloat(\"0\" + newValue)\n    const periodIndex = newValue.indexOf(\".\")\n    const isValidInput = newValue === \"\" || !isNaN(parsedValue)\n    const isValidPrecision =\n      periodIndex === -1 || newValue.length - 1 - periodIndex <= decimals\n    if (isValidInput && isValidPrecision) {\n      // don't allow input longer than the token allows\n      onChange(newValue)\n    }\n  }\n\n  return (\n    <div>\n      {max != null && (\n        <div className={styles.balanceContainer}>\n          <span>{t(\"max\")}:</span>\n          &nbsp;\n          <a onClick={() => onChange(String(max))}>{max}</a>\n        </div>\n      )}\n\n      <div className={styles.tokenInputContainer} id=\"tokenInput\">\n        <img alt=\"icon\" src={icon} />\n        <div className={styles.tokenSymbolAndName}>\n          <p className={styles.boldText}>{symbol}</p>\n          <p className={styles.smallText}>{name}</p>\n        </div>\n        <div className={styles.inputGroup}>\n          <input\n            autoComplete=\"off\"\n            autoCorrect=\"off\"\n            type=\"text\"\n            placeholder=\"0.0\"\n            spellCheck=\"false\"\n            disabled={disabled ? true : false}\n            readOnly={readonly}\n            value={inputValue}\n            onChange={onChangeInput}\n            onFocus={(e: React.ChangeEvent<HTMLInputElement>): void =>\n              e.target.select()\n            }\n          />\n          <p className={styles.smallText}>\n            ≈$\n            {commify(\n              formatBNToString(\n                calculatePrice(inputValue, tokenUSDValue),\n                18,\n                2,\n              ),\n            )}\n          </p>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default TokenInput\n","/* eslint @typescript-eslint/no-unsafe-assignment: 0 */\n/* eslint @typescript-eslint/no-explicit-any: 0 */\n/* eslint @typescript-eslint/no-unsafe-member-access: 0 */\n/* eslint @typescript-eslint/no-unsafe-return: 0 */\nimport \"chartjs-adapter-moment\"\nimport React, { ReactElement, useMemo } from \"react\"\nimport { Line } from \"react-chartjs-2\"\nimport { useColorModeValue } from \"@chakra-ui/react\"\n\ninterface Props {\n  chart: Chart\n}\n\ninterface Chart {\n  datasets: ChartInfo\n  timeUnit: string\n}\n\ninterface ChartInfo {\n  label: string\n  data: AxisData[]\n}\n\ninterface AxisData {\n  x: number\n  y: number\n}\n\ninterface ChartColors {\n  datasets: string\n  grid: string\n  ticks: string\n}\n\nconst LineChart = (props: Props): ReactElement => {\n  const { chart } = props\n  const colors = {\n    datasets: useColorModeValue(\"#070605\", \"#f8f9fa\"),\n    grid: useColorModeValue(\"rgba(0, 0, 0, .2)\", \"rgba(255, 255, 255, .2)\"),\n    ticks: useColorModeValue(\"#070605\", \"#f8f9fa\"),\n  }\n  const { data, options } = configs(chart, colors)\n  return useMemo(() => <Line data={data} options={options} />, [data, options])\n}\n\nfunction configs(chart: Chart, colors: ChartColors): { [key: string]: any } {\n  const formattedData =\n    chart.timeUnit === \"hour\"\n      ? chart.datasets.data.slice(-chart.datasets.data.length / 6)\n      : chart.datasets.data\n  return {\n    data: {\n      datasets: [\n        {\n          label: chart.datasets.label,\n          tension: 0,\n          pointRadius: 1,\n          pointBorderColor: \"transparent\",\n          pointBackgroundColor: colors.datasets,\n          borderColor: colors.datasets,\n          borderWidth: 4,\n          backgroundColor: \"transparent\",\n          fill: true,\n          data: formattedData,\n          maxBarThickness: 6,\n        },\n      ],\n    },\n    options: {\n      responsive: true,\n      maintainAspectRatio: false,\n      plugins: {\n        legend: {\n          display: false,\n        },\n        tooltip: {\n          callbacks: {\n            label: (context: { [key: string]: any }) => {\n              let label = context.dataset.label || \"\"\n              if (label) {\n                label += \": \"\n              }\n              if (context.parsed.y !== null) {\n                label += new Intl.NumberFormat(\"en-US\", {\n                  style: \"currency\",\n                  currency: \"USD\",\n                }).format(context.parsed.y)\n              }\n              return label\n            },\n          },\n        },\n      },\n      interaction: {\n        intersect: false,\n        mode: \"index\",\n      },\n      scales: {\n        y: {\n          grid: {\n            drawBorder: false,\n            display: true,\n            drawOnChartArea: true,\n            drawTicks: false,\n            borderDash: [3, 3],\n            color: colors.grid,\n          },\n          ticks: {\n            display: true,\n            color: colors.ticks,\n            padding: 10,\n            font: {\n              size: 12,\n              weight: 300,\n              family: \"Neue Machina, sans-serif\",\n              style: \"normal\",\n              lineHeight: 2,\n            },\n            callback: (value: string) => \"$\" + value,\n          },\n        },\n        x: {\n          type: \"time\",\n          time: {\n            unit: chart.timeUnit,\n          },\n          grid: {\n            drawBorder: false,\n            display: false,\n            drawOnChartArea: false,\n            drawTicks: false,\n            borderDash: [5, 5],\n          },\n          ticks: {\n            display: true,\n            color: colors.ticks,\n            padding: 10,\n            autoSkip: true,\n            maxTicksLimit: 7,\n            font: {\n              size: 14,\n              weight: 300,\n              family: \"Neue Machina, sans-serif\",\n              style: \"normal\",\n              lineHeight: 2,\n            },\n          },\n        },\n      },\n    },\n  }\n}\n\nexport default LineChart\n","import { Token } from \"../constants\"\nimport { imageIconToUrl } from \"../utils\"\nimport { useActiveWeb3React } from \"./index\"\nimport { useCallback } from \"react\"\n\nexport default function useAddTokenToMetamask(\n  token: Token | undefined,\n): () => Promise<void> {\n  const { library, chainId } = useActiveWeb3React()\n\n  const addToken = useCallback(async (): Promise<void> => {\n    if (library && window.ethereum && token && chainId) {\n      try {\n        await window.ethereum.request({\n          method: \"wallet_watchAsset\",\n          params: {\n            //@ts-ignore // need this for incorrect ethers provider type\n            type: \"ERC20\",\n            options: {\n              address: token.addresses[chainId],\n              symbol: token.symbol,\n              decimals: token.decimals,\n              image: imageIconToUrl(token.icon),\n            },\n          },\n        })\n      } catch (e) {\n        console.log(e)\n      }\n    }\n  }, [library, token, chainId])\n\n  return addToken\n}\n","import {\n  Box,\n  Button,\n  Icon,\n  Menu,\n  MenuButton,\n  MenuDivider,\n  MenuGroup,\n  MenuItem,\n  MenuList,\n  Radio,\n  RadioGroup,\n  Spinner,\n  Stack,\n  Text,\n  useColorModeValue,\n} from \"@chakra-ui/react\"\nimport { ROSE, SROSE } from \"../constants\"\nimport React, { ReactElement, useState } from \"react\"\nimport { AppState } from \"../state\"\nimport LineChart from \"./LineChart\"\nimport styles from \"./RosePriceButton.module.scss\"\nimport useAddTokenToMetamask from \"../hooks/useAddTokenToMetamask\"\nimport { useSelector } from \"react-redux\"\n\nexport default function RosePriceButton(): ReactElement {\n  const { stakeStats, rosePriceHistory } = useSelector(\n    (state: AppState) => state.application,\n  )\n  const { priceOfRose } = { ...stakeStats }\n  const addRoseToken = useAddTokenToMetamask(ROSE)\n  const addStRoseToken = useAddTokenToMetamask(SROSE)\n  const [timeUnit, setTimeUnit] = useState(\"hour\")\n\n  return (\n    <div style={{ marginRight: \"10px\" }}>\n      <Menu isLazy>\n        <MenuButton\n          variant=\"outline\"\n          lineHeight=\"unset\"\n          as={Button}\n          className={styles.addToken}\n          leftIcon={\n            <Icon viewBox=\"0 0 180 150\">\n              <text fontSize=\"180px\" y=\"89%\">\n                🌹\n              </text>\n            </Icon>\n          }\n        >\n          {priceOfRose ? `$${Number(priceOfRose).toFixed(2)}` : \"-\"}\n        </MenuButton>\n        <MenuList bg={useColorModeValue(\"#fff\", \"rgb(28, 29, 33)\")}>\n          <Box p=\"10px\" textAlign=\"center\" height=\"100%\">\n            {rosePriceHistory ? (\n              <>\n                <RadioGroup value={timeUnit} onChange={setTimeUnit}>\n                  <Stack\n                    spacing={5}\n                    direction=\"row\"\n                    justifyContent=\"flex-end\"\n                    p=\"10px\"\n                  >\n                    <Text>Rose Price Chart</Text>\n                    <Radio colorScheme=\"green\" value=\"hour\">\n                      24h\n                    </Radio>\n                    <Radio colorScheme=\"green\" value=\"day\">\n                      7d\n                    </Radio>\n                  </Stack>\n                </RadioGroup>\n                <Box height=\"12.5rem\">\n                  <LineChart\n                    chart={{\n                      datasets: {\n                        label: \"ROSE 🌹 Price\",\n                        data: rosePriceHistory.map(({ time, price }) => ({\n                          x: time,\n                          y: price,\n                        })),\n                      },\n                      timeUnit,\n                    }}\n                  />\n                </Box>\n              </>\n            ) : (\n              <Spinner size=\"xl\" color=\"#cc3a59\" />\n            )}\n          </Box>\n          <MenuGroup title=\"ROSE TOKEN\">\n            <MenuItem\n              icon={\n                <Icon viewBox=\"0 0 125 99\" fill=\"none\">\n                  <g clipPath=\"url(#clip0)\">\n                    <path\n                      d=\"M17.9456 95.4377C17.9456 87.5692 24.3639 81.1886 32.279 81.1886H42.1944C48.7998 81.1886 54.1389 86.5105 54.1389 93.0628C54.1389 96.339 51.4621 99 48.1666 99H21.5289C19.543 99 17.9456 97.412 17.9456 95.4377Z\"\n                      fill=\"#D0C5F8\"\n                    />\n                    <path\n                      fillRule=\"evenodd\"\n                      clipRule=\"evenodd\"\n                      d=\"M54.2684 93.2202C54.2684 93.163 54.2684 93.1201 54.2684 93.0628C54.2684 86.4962 48.915 81.1886 42.3239 81.1886H32.4085C31.2573 81.1886 30.1348 81.3173 29.0698 81.5748C35.9343 87.7409 44.6409 91.9183 54.2684 93.2202Z\"\n                      fill=\"#BBB3F4\"\n                    />\n                    <path\n                      d=\"M103.745 95.4377C103.745 87.5692 97.3262 81.1886 89.4112 81.1886H79.4958C72.8903 81.1886 67.5513 86.5105 67.5513 93.0628C67.5513 96.339 70.228 99 73.5235 99H100.176C102.133 99 103.745 97.412 103.745 95.4377Z\"\n                      fill=\"#D0C5F8\"\n                    />\n                    <path\n                      fillRule=\"evenodd\"\n                      clipRule=\"evenodd\"\n                      d=\"M34.2793 99C28.451 96.711 23.6588 92.3762 20.8094 86.8825C19.0105 89.2717 17.9456 92.2188 17.9456 95.4377C17.9456 97.412 19.5573 99 21.5289 99H34.2793Z\"\n                      fill=\"url(#paint0_linear)\"\n                    />\n                    <path\n                      fillRule=\"evenodd\"\n                      clipRule=\"evenodd\"\n                      d=\"M67.4218 93.2202C67.4218 93.163 67.4218 93.1201 67.4218 93.0628C67.4218 86.4962 72.7752 81.1886 79.3663 81.1886H89.2817C90.4329 81.1886 91.5554 81.3173 92.6204 81.5748C85.7415 87.7409 77.0349 91.9183 67.4218 93.2202Z\"\n                      fill=\"#BBB3F4\"\n                    />\n                    <path\n                      fillRule=\"evenodd\"\n                      clipRule=\"evenodd\"\n                      d=\"M87.3965 99C93.2248 96.711 98.017 92.3762 100.866 86.8825C102.665 89.2717 103.73 92.2188 103.73 95.4377C103.73 97.412 102.118 99 100.147 99H87.3965Z\"\n                      fill=\"url(#paint1_linear)\"\n                    />\n                    <path\n                      d=\"M60.8738 90.0156C85.8997 90.0156 106.162 69.8722 106.162 45.0078C106.162 20.1434 85.8566 0 60.8738 0C35.8479 0 15.571 20.1434 15.571 45.0078C15.571 69.8722 35.8479 90.0156 60.8738 90.0156Z\"\n                      fill=\"#DDD5FF\"\n                    />\n                    <path\n                      d=\"M60.8739 84.8653C83.0072 84.8653 100.982 67.011 100.982 45.0221C100.982 23.0333 83.0072 5.16461 60.8739 5.16461C38.7118 5.16461 20.7662 23.0189 20.7662 45.0078C20.7662 66.9967 38.7118 84.8653 60.8739 84.8653Z\"\n                      fill=\"#CBC1F7\"\n                    />\n                    <path\n                      d=\"M60.8163 79.3288C79.8699 79.3288 95.3546 63.978 95.3546 45.0078C95.3546 26.0376 79.8987 10.6869 60.8163 10.6869C41.7626 10.6869 26.278 26.0376 26.278 45.0078C26.278 63.978 41.7626 79.3288 60.8163 79.3288Z\"\n                      fill=\"url(#paint2_linear)\"\n                    />\n                    <g style={{ mixBlendMode: \"screen\" }} opacity=\"0.1\">\n                      <path\n                        d=\"M61.6836 75.1655C61.6836 75.1655 51.0517 75.3672 41.9064 67.373C32.5662 59.2805 33.7572 52.1444 33.7572 52.1444C33.7572 52.1444 39.3107 54.2183 44.4594 61.4069C49.6081 68.5955 56.1301 73.0916 61.6836 75.1655Z\"\n                        fill=\"url(#paint3_linear)\"\n                      />\n                    </g>\n                    <path\n                      style={{ mixBlendMode: \"screen\" }}\n                      opacity=\"0.5\"\n                      d=\"M34.1642 28.4696C33.5166 32.4754 41.2014 32.0033 53.3905 31.6314C68.1269 31.1592 82.9352 43.7488 91.5842 34.7215C92.9945 33.2337 78.9201 13.6626 61.838 14.0345C44.8711 14.4923 34.7254 24.936 34.1642 28.4696Z\"\n                      fill=\"url(#paint4_linear)\"\n                    />\n                    <path\n                      d=\"M75.0489 33.8774H73.1925C71.1346 33.8774 69.494 35.537 69.494 37.5542V49.7289C69.494 51.7747 71.1634 53.4056 73.1925 53.4056H75.0489C77.1068 53.4056 78.7474 51.7461 78.7474 49.7289V37.5542C78.7762 35.537 77.1068 33.8774 75.0489 33.8774Z\"\n                      fill=\"#200D67\"\n                    />\n                    <path\n                      d=\"M75.9412 35.7516H75.0489C74.5308 35.7516 74.0991 36.1665 74.0991 36.6958V39.0134C74.0991 39.5285 74.5165 39.9577 75.0489 39.9577H75.9412C76.4592 39.9577 76.891 39.5428 76.891 39.0134V36.6958C76.891 36.1808 76.4592 35.7516 75.9412 35.7516Z\"\n                      fill=\"#CEF2E7\"\n                    />\n                    <path\n                      d=\"M48.7855 34.0062H46.9291C44.8712 34.0062 43.2306 35.6658 43.2306 37.683V49.8577C43.2306 51.9035 44.8999 53.5344 46.9291 53.5344H48.7855C50.8434 53.5344 52.484 51.8749 52.484 49.8577V37.683C52.5128 35.6658 50.8434 34.0062 48.7855 34.0062Z\"\n                      fill=\"#200D67\"\n                    />\n                    <path\n                      d=\"M49.6777 35.8804H48.7855C48.2674 35.8804 47.8357 36.2953 47.8357 36.8246V39.1422C47.8357 39.6572 48.253 40.0864 48.7855 40.0864H49.6777C50.1958 40.0864 50.6275 39.6716 50.6275 39.1422V36.8246C50.5988 36.3096 50.1814 35.8804 49.6777 35.8804Z\"\n                      fill=\"#CEF2E7\"\n                    />\n                    <path\n                      fillRule=\"evenodd\"\n                      clipRule=\"evenodd\"\n                      d=\"M105.932 40.4298C105.687 38.7988 105.443 36.6815 105.069 35.0077C112.624 36.0949 108.465 35.4512 113.948 36.4526C116.754 37.1393 119.215 38.012 121.086 39.1994C122.971 40.3582 124.54 41.9892 124.914 44.1351C125.504 47.4113 123.1 50.3012 120.222 52.49C117.186 54.7934 112.825 57.0251 107.529 59.071C96.8801 63.2341 82.0286 66.9538 65.3782 69.3429C48.7567 71.7321 33.3295 72.3759 21.7736 71.446C16.0316 70.9738 11.0955 70.0869 7.4114 68.7707C3.92878 67.4688 0.647641 65.423 0.0863926 62.1468C-0.287773 60.0009 0.63325 58.0123 2.00039 56.3814C3.39632 54.7504 5.38227 53.1624 7.84313 51.7604C12.2899 49.2282 9.35418 50.6016 15.6718 47.7975C15.8157 49.6574 15.9884 51.2025 16.305 53.0337C11.9158 55.2369 14.1608 54.078 10.9372 55.9951C8.80732 57.2684 7.33944 58.4272 6.49038 59.4286C5.64131 60.4301 5.59814 61.0309 5.64131 61.3457C5.74205 61.8321 6.43281 62.9337 9.57005 64.0639C12.5202 65.1369 16.8519 65.9666 22.3348 66.4101C33.272 67.2971 48.2242 66.7249 64.5292 64.35C80.8342 62.0038 95.2395 58.3699 105.328 54.4357C110.393 52.4757 114.192 50.4585 116.639 48.6273C119.229 46.6673 119.503 45.437 119.416 44.9506C119.373 44.6358 119.1 44.0779 117.948 43.3626C116.812 42.6473 115.013 41.9606 112.537 41.3597C108.407 40.5871 111.789 41.2023 105.932 40.4298Z\"\n                      fill=\"#29E7F6\"\n                    />\n                    <path\n                      fillRule=\"evenodd\"\n                      clipRule=\"evenodd\"\n                      d=\"M24.8389 69.1283C24.8677 68.742 25.2418 68.4845 25.6592 68.4988C31.1278 68.8565 37.4598 68.8851 44.3962 68.4988C44.8136 68.4702 45.1733 68.7706 45.1877 69.1283C45.2165 69.5146 44.8855 69.815 44.497 69.8436C37.5173 70.2299 31.099 70.2299 25.5584 69.8436C25.1123 69.815 24.7957 69.4717 24.8389 69.1283ZM48.8143 68.8708C48.7855 68.4845 49.0877 68.1841 49.505 68.1412C50.1958 68.0982 50.901 68.0267 51.6205 67.9695C52.0378 67.9266 52.412 68.2127 52.4408 68.5704C52.484 68.9566 52.1674 69.2857 51.7644 69.3C51.0449 69.3715 50.3541 69.4144 49.6489 69.4717C49.2172 69.5289 48.843 69.2571 48.8143 68.8708Z\"\n                      fill=\"white\"\n                    />\n                    <path\n                      opacity=\"0.16\"\n                      fillRule=\"evenodd\"\n                      clipRule=\"evenodd\"\n                      d=\"M7.82874 51.7461C12.2755 49.2139 9.33979 50.5873 15.6574 47.7832C15.8013 49.6431 15.974 51.1882 16.2906 53.0194C11.9014 55.2225 14.1464 54.0637 10.9228 55.9808L7.82874 51.7461Z\"\n                      fill=\"black\"\n                    />\n                    <path\n                      opacity=\"0.16\"\n                      fillRule=\"evenodd\"\n                      clipRule=\"evenodd\"\n                      d=\"M112.509 41.3454C108.407 40.5871 111.789 41.2023 105.932 40.4298C105.687 38.7988 105.443 36.6815 105.068 35.0077C112.624 36.0949 108.465 35.4512 113.948 36.4526L112.509 41.3454Z\"\n                      fill=\"black\"\n                    />\n                  </g>\n                  <defs>\n                    <linearGradient\n                      id=\"paint0_linear\"\n                      x1=\"21.0995\"\n                      y1=\"86.673\"\n                      x2=\"26.6002\"\n                      y2=\"98.8131\"\n                      gradientUnits=\"userSpaceOnUse\"\n                    >\n                      <stop stopColor=\"#ACA4F1\" />\n                      <stop offset=\"1\" stopColor=\"#D3C9F9\" stopOpacity=\"0.4\" />\n                    </linearGradient>\n                    <linearGradient\n                      id=\"paint1_linear\"\n                      x1=\"91.2907\"\n                      y1=\"86.3394\"\n                      x2=\"96.791\"\n                      y2=\"98.4795\"\n                      gradientUnits=\"userSpaceOnUse\"\n                    >\n                      <stop stopColor=\"#ACA4F1\" />\n                      <stop offset=\"1\" stopColor=\"#D3C9F9\" stopOpacity=\"0.4\" />\n                    </linearGradient>\n                    <linearGradient\n                      id=\"paint2_linear\"\n                      x1=\"60.8174\"\n                      y1=\"10.6907\"\n                      x2=\"60.8174\"\n                      y2=\"79.3279\"\n                      gradientUnits=\"userSpaceOnUse\"\n                    >\n                      <stop stopColor=\"#322F82\" />\n                      <stop offset=\"1\" stopColor=\"#6366F1\" />\n                    </linearGradient>\n                    <linearGradient\n                      id=\"paint3_linear\"\n                      x1=\"42.9705\"\n                      y1=\"68.5365\"\n                      x2=\"48.3956\"\n                      y2=\"62.758\"\n                      gradientUnits=\"userSpaceOnUse\"\n                    >\n                      <stop stopColor=\"#D4E2FF\" />\n                      <stop offset=\"1\" />\n                    </linearGradient>\n                    <linearGradient\n                      id=\"paint4_linear\"\n                      x1=\"34.099\"\n                      y1=\"25.9943\"\n                      x2=\"91.7154\"\n                      y2=\"25.9943\"\n                      gradientUnits=\"userSpaceOnUse\"\n                    >\n                      <stop />\n                      <stop offset=\"1\" stopColor=\"#6A9BFF\" />\n                    </linearGradient>\n                    <clipPath id=\"clip0\">\n                      <rect width=\"125\" height=\"99\" fill=\"white\" />\n                    </clipPath>\n                  </defs>\n                </Icon>\n              }\n              href=\"https://dex.nearpad.io/swap?outputCurrency=0xdcD6D4e2B3e1D1E1E6Fa8C21C8A323DcbecfF970\"\n              as=\"a\"\n              margin=\"0\"\n              target=\"_blank\"\n              rel=\"noreferrer\"\n            >\n              Buy ROSE\n            </MenuItem>\n            <MenuItem\n              icon={\n                <Icon\n                  width=\"1em\"\n                  height=\"1em\"\n                  fill={useColorModeValue(\"#000\", \"#fff\")}\n                  fillRule=\"evenodd\"\n                  viewBox=\"0 0 252 300\"\n                  focusable=\"false\"\n                >\n                  <path d=\"M151.818 106.866c9.177-4.576 20.854-11.312 32.545-20.541 2.465 5.119 2.735 9.586 1.465 13.193-.9 2.542-2.596 4.753-4.826 6.512-2.415 1.901-5.431 3.285-8.765 4.033-6.326 1.425-13.712.593-20.419-3.197m1.591 46.886l12.148 7.017c-24.804 13.902-31.547 39.716-39.557 64.859-8.009-25.143-14.753-50.957-39.556-64.859l12.148-7.017a5.95 5.95 0 003.84-5.845c-1.113-23.547 5.245-33.96 13.821-40.498 3.076-2.342 6.434-3.518 9.747-3.518s6.671 1.176 9.748 3.518c8.576 6.538 14.934 16.951 13.821 40.498a5.95 5.95 0 003.84 5.845zM126 0c14.042.377 28.119 3.103 40.336 8.406 8.46 3.677 16.354 8.534 23.502 14.342 3.228 2.622 5.886 5.155 8.814 8.071 7.897.273 19.438-8.5 24.796-16.709-9.221 30.23-51.299 65.929-80.43 79.589-.012-.005-.02-.012-.029-.018-5.228-3.992-11.108-5.988-16.989-5.988s-11.76 1.996-16.988 5.988c-.009.005-.017.014-.029.018-29.132-13.66-71.209-49.359-80.43-79.589 5.357 8.209 16.898 16.982 24.795 16.709 2.929-2.915 5.587-5.449 8.814-8.071C69.31 16.94 77.204 12.083 85.664 8.406 97.882 3.103 111.959.377 126 0m-25.818 106.866c-9.176-4.576-20.854-11.312-32.544-20.541-2.465 5.119-2.735 9.586-1.466 13.193.901 2.542 2.597 4.753 4.826 6.512 2.416 1.901 5.432 3.285 8.766 4.033 6.326 1.425 13.711.593 20.418-3.197\"></path>\n                  <path d=\"M197.167 75.016c6.436-6.495 12.107-13.684 16.667-20.099l2.316 4.359c7.456 14.917 11.33 29.774 11.33 46.494l-.016 26.532.14 13.754c.54 33.766 7.846 67.929 24.396 99.193l-34.627-27.922-24.501 39.759-25.74-24.231L126 299.604l-41.132-66.748-25.739 24.231-24.501-39.759L0 245.25c16.55-31.264 23.856-65.427 24.397-99.193l.14-13.754-.016-26.532c0-16.721 3.873-31.578 11.331-46.494l2.315-4.359c4.56 6.415 10.23 13.603 16.667 20.099l-2.01 4.175c-3.905 8.109-5.198 17.176-2.156 25.799 1.961 5.554 5.54 10.317 10.154 13.953 4.48 3.531 9.782 5.911 15.333 7.161 3.616.814 7.3 1.149 10.96 1.035-.854 4.841-1.227 9.862-1.251 14.978L53.2 160.984l25.206 14.129a41.926 41.926 0 015.734 3.869c20.781 18.658 33.275 73.855 41.861 100.816 8.587-26.961 21.08-82.158 41.862-100.816a41.865 41.865 0 015.734-3.869l25.206-14.129-32.665-18.866c-.024-5.116-.397-10.137-1.251-14.978 3.66.114 7.344-.221 10.96-1.035 5.551-1.25 10.854-3.63 15.333-7.161 4.613-3.636 8.193-8.399 10.153-13.953 3.043-8.623 1.749-17.689-2.155-25.799l-2.01-4.175z\"></path>\n                </Icon>\n              }\n              href=\"https://dexscreener.com/aurora/0xc6c3cc84eabd4643c382c988fa2830657fc70a6b\"\n              as=\"a\"\n              margin=\"0\"\n              target=\"_blank\"\n              rel=\"noreferrer\"\n            >\n              DexScreener\n            </MenuItem>\n            <MenuItem\n              icon={\n                <Icon viewBox=\"0 0 276 276\" focusable=\"false\">\n                  <path\n                    fill=\"#8dc63f\"\n                    d=\"M276,137.39A138,138,0,1,1,137.39,0h0A138,138,0,0,1,276,137.39Z\"\n                    transform=\"translate(0 0)\"\n                  />\n                  <path\n                    fill=\"#f9e988\"\n                    d=\"M265.65,137.44a127.63,127.63,0,1,1-128.21-127h0A127.65,127.65,0,0,1,265.65,137.44Z\"\n                    transform=\"translate(0 0)\"\n                  />\n                  <path\n                    fill=\"#fff\"\n                    d=\"M140.35,18.66a70.18,70.18,0,0,1,24.53,0,74.75,74.75,0,0,1,23.43,7.85c7.28,4,13.57,9.43,19.83,14.52s12.49,10.3,18.42,16a93.32,93.32,0,0,1,15.71,19,108.28,108.28,0,0,1,11,22.17c5.33,15.66,7.18,32.53,4.52,48.62H257c-2.67-15.95-6.29-31.15-12-45.61A177.51,177.51,0,0,0,235.56,80,209.1,209.1,0,0,0,223.14,60a72.31,72.31,0,0,0-16.64-16.8c-6.48-4.62-13.93-7.61-21.14-10.45S171,27,163.48,24.84s-15.16-3.78-23.14-5.35Z\"\n                    transform=\"translate(0 0)\"\n                  />\n                  <path\n                    fill=\"#8bc53f\"\n                    d=\"M202.74,92.39c-9.26-2.68-18.86-6.48-28.58-10.32-.56-2.44-2.72-5.48-7.09-9.19-6.35-5.51-18.28-5.37-28.59-2.93-11.38-2.68-22.62-3.63-33.41-1C16.82,93.26,66.86,152.57,34.46,212.19c4.61,9.78,54.3,66.84,126.2,51.53,0,0-24.59-59.09,30.9-87.45C236.57,153.18,269.09,110.46,202.74,92.39Z\"\n                    transform=\"translate(0 0)\"\n                  />\n                  <path\n                    fill=\"#fff\"\n                    d=\"M213.64,131.2a5.35,5.35,0,1,1-5.38-5.32A5.36,5.36,0,0,1,213.64,131.2Z\"\n                    transform=\"translate(0 0)\"\n                  />\n                  <path\n                    fill=\"#009345\"\n                    d=\"M138.48,69.91c6.43.46,29.68,8,35.68,12.12-5-14.5-21.83-16.43-35.68-12.12Z\"\n                    transform=\"translate(0 0)\"\n                  />\n                  <path\n                    fill=\"#fff\"\n                    d=\"M144.6,106.58a24.68,24.68,0,1,1-24.69-24.67h0a24.68,24.68,0,0,1,24.68,24.66Z\"\n                    transform=\"translate(0 0)\"\n                  />\n                  <path\n                    fill=\"#58595b\"\n                    d=\"M137.28,106.8a17.36,17.36,0,1,1-17.36-17.36h0A17.36,17.36,0,0,1,137.28,106.8Z\"\n                    transform=\"translate(0 0)\"\n                  />\n                  <path\n                    fill=\"#8bc53f\"\n                    d=\"M233.63,142.08c-20,14.09-42.74,24.78-75,24.78-15.1,0-18.16-16-28.14-8.18-5.15,4.06-23.31,13.14-37.72,12.45S55,162,48.49,131.23C45.91,162,44.59,184.65,33,210.62c23,36.83,77.84,65.24,127.62,53C155.31,226.27,188,189.69,206.34,171c7-7.09,20.3-18.66,27.29-28.91Z\"\n                    transform=\"translate(0 0)\"\n                  />\n                  <path\n                    fill=\"#58595b\"\n                    d=\"M232.85,143c-6.21,5.66-13.6,9.85-21.12,13.55a134.9,134.9,0,0,1-23.7,8.63c-8.16,2.11-16.67,3.7-25.29,2.92s-17.43-3.71-23.14-10.17l.27-.31c7,4.54,15.08,6.14,23.12,6.37a108.27,108.27,0,0,0,24.3-2,132.71,132.71,0,0,0,23.61-7.3c7.63-3.15,15.18-6.8,21.68-12Z\"\n                    transform=\"translate(0 0)\"\n                  />\n                </Icon>\n              }\n              href=\"https://www.coingecko.com/en/coins/rose\"\n              as=\"a\"\n              margin=\"0\"\n              target=\"_blank\"\n              rel=\"noreferrer\"\n            >\n              CoinGecko\n            </MenuItem>\n          </MenuGroup>\n          <MenuDivider />\n          <MenuGroup title=\"ADD TOKEN TO WALLET\">\n            <MenuItem\n              onClick={async () => {\n                await addRoseToken()\n              }}\n              icon={\n                <Icon viewBox=\"0 0 180 150\">\n                  <text fontSize=\"180px\" y=\"89%\">\n                    🌹\n                  </text>\n                </Icon>\n              }\n            >\n              ROSE\n            </MenuItem>\n            <MenuItem\n              icon={\n                <Icon viewBox=\"0 0 180 150\">\n                  <text fontSize=\"180px\" y=\"89%\">\n                    🌷\n                  </text>\n                </Icon>\n              }\n              onClick={async () => await addStRoseToken()}\n            >\n              stROSE\n            </MenuItem>\n          </MenuGroup>\n        </MenuList>\n      </Menu>\n    </div>\n  )\n}\n","import { AppDispatch, AppState } from \"../state\"\nimport { BsMoon, BsSun } from \"react-icons/bs\"\nimport { IconButton, useColorMode } from \"@chakra-ui/react\"\nimport React, { ReactElement, useEffect } from \"react\"\nimport { useDispatch, useSelector } from \"react-redux\"\n\nimport { updateDarkMode } from \"../state/user\"\n\nconst ThemeChanger = (): ReactElement => {\n  const dispatch = useDispatch<AppDispatch>()\n  const { colorMode, toggleColorMode } = useColorMode()\n  const { userDarkMode } = useSelector((state: AppState) => state.user)\n\n  useEffect(() => {\n    if (userDarkMode) {\n      document.body.classList.add(\"dark\")\n    } else {\n      document.body.classList.remove(\"dark\")\n    }\n  }, [userDarkMode])\n\n  return (\n    <IconButton\n      aria-label=\"Change Theme\"\n      variant=\"outline\"\n      size=\"md\"\n      icon={userDarkMode ? <BsSun /> : <BsMoon />}\n      title=\"Connected Network\"\n      marginLeft=\"10px\"\n      onClick={(): void => {\n        dispatch(updateDarkMode(!userDarkMode))\n        if (\n          (userDarkMode && colorMode === \"dark\") ||\n          (!userDarkMode && colorMode === \"light\")\n        ) {\n          toggleColorMode()\n        }\n      }}\n    />\n  )\n}\n\nexport default ThemeChanger\n","import React, { ReactElement } from \"react\"\nimport useCopyClipboard from \"../hooks/useCopyClipboard\"\n\nexport default function CopyHelper(props: {\n  toCopy: string\n  children?: React.ReactNode\n}): ReactElement {\n  const [isCopied, setCopied] = useCopyClipboard()\n\n  return (\n    <button className=\"textStyle\" onClick={() => setCopied(props.toCopy)}>\n      {isCopied ? (\n        <>\n          {/* Shows check icon after copied */}\n          <svg\n            width=\"16\"\n            height=\"16\"\n            viewBox=\"0 0 16 16\"\n            fill=\"none\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n            className=\"buttonGroupIcon\"\n          >\n            <path d=\"M13.4063 4L12.7 4.7125C10.7532 6.66354 8.67606 8.87808 6.73125 10.8563L4.04375 8.64376L3.26875 8.00625L2 9.55L2.76875 10.1875L6.16875 12.9875L6.875 13.5687L7.5125 12.925C9.6663 10.7666 11.9996 8.24244 14.1125 6.125L14.8188 5.4125L13.4063 4V4Z\" />\n          </svg>\n          <span className=\"textStyle\">Copied!</span>\n        </>\n      ) : (\n        // Shows copy icon when isCopied = false\n        <svg\n          width=\"16\"\n          height=\"16\"\n          viewBox=\"0 0 16 16\"\n          fill=\"none\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n          className=\"buttonGroupIcon\"\n        >\n          <path\n            fillRule=\"evenodd\"\n            clipRule=\"evenodd\"\n            d=\"M5.99998 2H12.6667C13.4 2 14 2.6 14 3.33333V10C14 10.7333 13.4 11.3333 12.6667 11.3333H11.2667V12.1333C11.2667 13.1274 10.4608 13.9333 9.46665 13.9333H3.86665C2.87254 13.9333 2.06665 13.1274 2.06665 12.1333V6.53333C2.06665 5.53922 2.87254 4.73333 3.86665 4.73333H4.66665V3.33333C4.66665 2.6 5.25998 2 5.99998 2ZM4.66665 5.93333H3.86665C3.53528 5.93333 3.26665 6.20196 3.26665 6.53333V12.1333C3.26665 12.4647 3.53528 12.7333 3.86665 12.7333H9.46665C9.79802 12.7333 10.0667 12.4647 10.0667 12.1333V11.3333H5.99998C5.25998 11.3333 4.66665 10.7333 4.66665 10V5.93333ZM5.99998 10H12.6667V3.33333H5.99998V10Z\"\n          />\n        </svg>\n      )}\n      {isCopied ? \"\" : props.children}\n    </button>\n  )\n}\n","import { useCallback, useEffect, useState } from \"react\"\nimport copy from \"copy-to-clipboard\"\n\nexport default function useCopyClipboard(\n  timeout = 500,\n): [boolean, (toCopy: string) => void] {\n  const [isCopied, setIsCopied] = useState(false)\n  const staticCopy = useCallback((text) => {\n    const didCopy = copy(text)\n    setIsCopied(didCopy)\n  }, [])\n\n  useEffect(() => {\n    if (isCopied) {\n      const hide = setTimeout(() => {\n        setIsCopied(false)\n      }, timeout)\n\n      return () => {\n        clearTimeout(hide)\n      }\n    }\n    return undefined\n  }, [isCopied, setIsCopied, timeout])\n\n  return [isCopied, staticCopy]\n}\n","import React, { ReactElement, useEffect, useRef } from \"react\"\n\nimport Jazzicon from \"@metamask/jazzicon\"\nimport styled from \"@emotion/styled\"\nimport { useActiveWeb3React } from \"../hooks\"\n\nconst StyledIdenticonContainer = styled.div`\n  height: 24px;\n  width: 24px;\n  border-radius: 1.125rem;\n  display: inline-block;\n  vertical-align: text-bottom;\n`\n\nexport default function Identicon(): ReactElement {\n  const ref = useRef<HTMLDivElement>()\n\n  const { account } = useActiveWeb3React()\n\n  useEffect(() => {\n    if (account && ref.current) {\n      ref.current.innerHTML = \"\"\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-call\n      ref.current.appendChild(Jazzicon(24, parseInt(account.slice(2, 10), 16)))\n    }\n  }, [account])\n\n  // https://github.com/DefinitelyTyped/DefinitelyTyped/issues/30451\n  return (\n    <StyledIdenticonContainer ref={ref as React.RefObject<HTMLDivElement>} />\n  )\n}\n","export function getFormattedShortTime(timestamp: string | number): string {\n  const timestampNumber =\n    typeof timestamp === \"string\" ? parseInt(timestamp) : timestamp\n  const timeoptions = {\n    month: \"numeric\",\n    day: \"numeric\",\n    hour: \"2-digit\",\n    minute: \"2-digit\",\n  } as const\n  return new Date(timestampNumber * 1000)\n    .toLocaleTimeString([], timeoptions)\n    .replace(\",\", \"\")\n}\n","import { ChainId, POOLS_MAP, Pool } from \"../constants\"\nimport { find } from \"lodash\"\n\nexport function getPoolByAddress(\n  targetAddress: string,\n  chainId: ChainId,\n): Pool | undefined {\n  return find(POOLS_MAP, (pool) => {\n    return pool.addresses[chainId].toLowerCase() === targetAddress\n  })\n}\n","import \"./Transactions.scss\"\nimport React, { ReactElement, useCallback, useEffect, useState } from \"react\"\nimport { getEtherscanLink } from \"../utils/getEtherscanLink\"\nimport { getFormattedShortTime } from \"../utils/dateTime\"\nimport { getPoolByAddress } from \"../utils/getPoolByAddress\"\nimport { useActiveWeb3React } from \"../hooks\"\nimport { useTranslation } from \"react-i18next\"\n\ninterface Response {\n  data: {\n    addLiquidityEvents: [\n      {\n        swap: {\n          id: string\n        }\n        timestamp: string\n        transaction: string\n      },\n    ]\n    removeLiquidityEvents: [\n      {\n        swap: {\n          id: string\n        }\n        timestamp: string\n        transaction: string\n      },\n    ]\n    swaps: [\n      {\n        address: string\n        exchanges: [\n          {\n            boughtId: string\n            tokensBought: string\n            soldId: string\n            tokensSold: string\n            timestamp: string\n            transaction: string\n          },\n        ]\n      },\n    ]\n  }\n}\n\ninterface Transaction {\n  object: string\n  transaction: string\n  time: string\n  timestamp: number\n  status?: string\n}\n\nexport default function Transactions(): ReactElement {\n  const SADDLE_SUBGRAPH_URL =\n    \"https://api.thegraph.com/subgraphs/name/saddle-finance/saddle\"\n  const { t } = useTranslation()\n  const { chainId, account } = useActiveWeb3React()\n  const [transactionList, setTransactionList] = useState<Transaction[]>([])\n\n  const fetchTxn = useCallback(async () => {\n    if (!account || !chainId) return\n\n    const newTransactionList: Transaction[] = []\n    const time24Hrs = Math.floor(Date.now() / 1000) - 60 * 60 * 24 // 24hrs\n    const query = `\n      {\n        addLiquidityEvents(where:{provider: \"${account}\", timestamp_gte: ${time24Hrs}}) {\n          swap {\n            id\n          }\n          transaction\n          timestamp\n        }\n        removeLiquidityEvents(where:{provider:\"${account}\", timestamp_gte: ${time24Hrs}}) {\n          swap {\n            id\n          }\n          transaction\n          timestamp\n        }\n        swaps {\n          address\n          exchanges(where:{buyer:\"${account}\", timestamp_gte: ${time24Hrs}}) {\n            boughtId\n            soldId\n            timestamp\n            transaction\n          }\n        }\n      }\n    `\n\n    await fetch(SADDLE_SUBGRAPH_URL, {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ query }),\n    })\n      .then((res) => res.json())\n      .then((result: Response) => {\n        const { addLiquidityEvents, removeLiquidityEvents, swaps } = result.data\n        addLiquidityEvents.map((event) => {\n          const poolName = getPoolByAddress(event.swap.id, chainId)?.name\n          if (poolName) {\n            newTransactionList.push({\n              object: `${t(\"depositIn\")} ${poolName}`,\n              transaction: event.transaction,\n              time: getFormattedShortTime(event.timestamp),\n              timestamp: parseInt(event.timestamp),\n            })\n          }\n        })\n\n        removeLiquidityEvents.map((event) => {\n          const poolName = getPoolByAddress(event.swap.id, chainId)?.name\n          if (poolName) {\n            newTransactionList.push({\n              object: `${t(\"withdrawFrom\")} ${poolName}`,\n              transaction: event.transaction,\n              time: getFormattedShortTime(event.timestamp),\n              timestamp: parseInt(event.timestamp),\n            })\n          }\n        })\n\n        swaps.map(({ address, exchanges }) => {\n          const poolTokens = getPoolByAddress(address, chainId)?.poolTokens\n          if (exchanges && poolTokens) {\n            exchanges.map(({ soldId, boughtId, transaction, timestamp }) => {\n              const soldToken = poolTokens[parseInt(soldId)].symbol\n              const boughtToken = poolTokens[parseInt(boughtId)].symbol\n\n              newTransactionList.push({\n                object: `${t(\"swap\")} ${soldToken} ${t(\"toBe\")} ${boughtToken}`,\n                transaction: transaction,\n                time: getFormattedShortTime(timestamp),\n                timestamp: parseInt(timestamp),\n              })\n            })\n          }\n        })\n        setTransactionList(\n          newTransactionList.sort((a, b) => b.timestamp - a.timestamp),\n        )\n      })\n      .catch(console.error)\n  }, [chainId, t, account])\n\n  useEffect(() => {\n    void fetchTxn()\n  }, [fetchTxn])\n\n  return (\n    <>\n      <div className=\"titleRow\">\n        <h4 className=\"txn\">{t(\"recentTransactions\")}</h4>\n        <button\n          className=\"textStyle clear\"\n          onClick={(): void => {\n            setTransactionList([])\n          }}\n        >\n          {t(\"clear\")}\n        </button>\n      </div>\n      <div className=\"transactionList\">\n        {transactionList.length !== 0 ? (\n          transactionList.map((txn, index) => (\n            <div key={index} className=\"transactionItem\">\n              <span className=\"transactionObject\">{txn.object}</span>\n              <a\n                href={getEtherscanLink(txn.transaction, \"tx\")}\n                target=\"_blank\"\n                rel=\"noreferrer\"\n                className=\"transactionLink\"\n              >\n                {/* link icon */}\n                <svg\n                  width=\"16\"\n                  height=\"16\"\n                  viewBox=\"0 0 16 16\"\n                  fill=\"none\"\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                >\n                  <path d=\"M11.6667 11.6667H4.33333V4.33333H8V3H4.33333C3.59333 3 3 3.6 3 4.33333V11.6667C3 12.4 3.59333 13 4.33333 13H11.6667C12.4 13 13 12.4 13 11.6667V8H11.6667V11.6667ZM9.33333 2V3.33333H11.7267L6.17333 8.88667L7.11333 9.82667L12.6667 4.27333V6.66667H14V2H9.33333Z\" />\n                </svg>\n              </a>\n              <span className=\"transactionTime\">{txn.time}</span>\n            </div>\n          ))\n        ) : (\n          <span style={{ fontSize: \"16px\" }}>\n            {t(\"yourRecentTransactions\")}\n          </span>\n        )}\n      </div>\n    </>\n  )\n}\n","import { isAddress } from \"./index\"\n\nexport function shortenAddress(address: string, chars = 4): string {\n  const parsed = isAddress(address)\n  if (!parsed) {\n    throw Error(`Invalid 'address' parameter '${address}'.`)\n  }\n  return `${parsed.substring(0, chars + 2)}...${parsed.substring(42 - chars)}`\n}\n","import { useEffect, useRef } from \"react\"\n\n// Source: https://github.com/austintgriffith/eth-hooks/blob/master/src/Poller.ts\n\nconst usePoller = (fn: () => void, delay: number): void => {\n  const savedCallback = useRef<() => void>()\n\n  // Remember the latest fn.\n  useEffect((): void => {\n    savedCallback.current = fn\n  }, [fn])\n\n  // Set up the interval.\n  useEffect((): void | (() => void) => {\n    // eslint-disable-next-line @typescript-eslint/explicit-function-return-type\n    function tick() {\n      if (savedCallback.current) savedCallback.current()\n    }\n\n    if (delay !== null) {\n      const id = setInterval(tick, delay)\n      // eslint-disable-next-line @typescript-eslint/explicit-function-return-type\n      return () => clearInterval(id)\n    }\n  }, [delay])\n\n  // run at start too\n  useEffect(() => {\n    fn()\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n}\n\nexport default usePoller\n","import {\n  BLOCK_TIME,\n  ChainId,\n  ROSE_TOKENS_MAP,\n  TOKENS_MAP,\n  TokensMap,\n} from \"../../constants\"\nimport { Contract, Provider } from \"ethcall\"\nimport { MulticallContract, MulticallProvider } from \"../../types/ethcall\"\n\nimport { BigNumber } from \"@ethersproject/bignumber\"\nimport ERC20_ABI from \"../../constants/abis/erc20.json\"\nimport { Erc20 } from \"../../../types/ethers-contracts/Erc20\"\nimport { useActiveWeb3React } from \"../../hooks\"\nimport usePoller from \"../../hooks/usePoller\"\nimport { useState } from \"react\"\n\nconst useTokenBalancesHelper = (\n  tokenMap: TokensMap,\n): { [token: string]: BigNumber } | null => {\n  const { account, chainId, library } = useActiveWeb3React()\n  const [balances, setBalances] = useState<{ [token: string]: BigNumber }>({})\n\n  const ethcallProvider = new Provider() as MulticallProvider\n\n  usePoller((): void => {\n    async function pollBalances(): Promise<void> {\n      if (!library || !chainId || !account) return\n\n      await ethcallProvider.init(library)\n      // override the contract address when using aurora\n      if (chainId == ChainId.AURORA_TESTNET) {\n        ethcallProvider.multicallAddress =\n          \"0x508B1508AAd923fB24F6d13cD74Ac640fD8B66E8\"\n      } else if (chainId == ChainId.AURORA_MAINNET) {\n        ethcallProvider.multicallAddress =\n          \"0x49eb1F160e167aa7bA96BdD88B6C1f2ffda5212A\"\n      }\n\n      const tokens = Object.values(tokenMap)\n      const balanceCalls = tokens\n        .map((t) => {\n          return new Contract(\n            t.addresses[chainId],\n            ERC20_ABI,\n          ) as MulticallContract<Erc20>\n        })\n        .map((c) => c.balanceOf(account))\n      const balances = await ethcallProvider.all(balanceCalls, \"latest\")\n      const ethBalance = await library.getBalance(account)\n      setBalances(\n        tokens.reduce(\n          (acc, t, i) => ({\n            ...acc,\n            [t.symbol]: balances[i],\n          }),\n          { ETH: ethBalance },\n        ),\n      )\n    }\n    if (account) {\n      void pollBalances()\n    }\n  }, BLOCK_TIME)\n\n  return balances\n}\n\nexport function usePoolTokenBalances(): { [token: string]: BigNumber } | null {\n  return useTokenBalancesHelper(TOKENS_MAP)\n}\n\nexport function useRoseTokenBalances(): { [token: string]: BigNumber } | null {\n  return useTokenBalancesHelper(ROSE_TOKENS_MAP)\n}\n","import \"./AccountDetails.scss\"\n\nimport React, { ReactElement } from \"react\"\nimport { commify, formatBNToString } from \"../utils\"\nimport Copy from \"./Copy\"\nimport Identicon from \"./Identicon\"\nimport { SUPPORTED_WALLETS } from \"../constants\"\nimport Transactions from \"./Transactions\"\nimport { Zero } from \"@ethersproject/constants\"\nimport { find } from \"lodash\"\nimport { getEtherscanLink } from \"../utils/getEtherscanLink\"\nimport { shortenAddress } from \"../utils/shortenAddress\"\nimport { useActiveWeb3React } from \"../hooks\"\nimport { useRoseTokenBalances } from \"../state/wallet/hooks\"\nimport { useTranslation } from \"react-i18next\"\n\ninterface Props {\n  openOptions: () => void\n}\n\nexport default function AccountDetail({ openOptions }: Props): ReactElement {\n  const { t } = useTranslation()\n  const { account, connector } = useActiveWeb3React()\n  const tokenBalances = useRoseTokenBalances()\n  const roseBalanceFormatted = commify(\n    formatBNToString(tokenBalances?.ROSE || Zero, 18, 5),\n  )\n\n  const connectorName = find(SUPPORTED_WALLETS, [\"connector\", connector])?.name\n\n  return (\n    <div className=\"accountDetail\">\n      <div className=\"upperSection\">\n        <h3 className=\"accountTitle\">{t(\"account\")}</h3>\n        <div className=\"accountControl\">\n          <span className=\"label\">\n            {t(\"connectedWith\")}&nbsp;\n            {connectorName}\n          </span>\n          <span className=\"label\">{t(\"balance\")}</span>\n          <div className=\"data\">\n            <Identicon />\n            <span className=\"address\">\n              {account && shortenAddress(account)}\n            </span>\n            {account && (\n              <a\n                href={getEtherscanLink(account, \"address\")}\n                target=\"_blank\"\n                rel=\"noreferrer\"\n              >\n                {/* link icon */}\n                <svg\n                  width=\"16\"\n                  height=\"16\"\n                  viewBox=\"0 0 16 16\"\n                  fill=\"none\"\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                >\n                  <path d=\"M11.6667 11.6667H4.33333V4.33333H8V3H4.33333C3.59333 3 3 3.6 3 4.33333V11.6667C3 12.4 3.59333 13 4.33333 13H11.6667C12.4 13 13 12.4 13 11.6667V8H11.6667V11.6667ZM9.33333 2V3.33333H11.7267L6.17333 8.88667L7.11333 9.82667L12.6667 4.27333V6.66667H14V2H9.33333Z\" />\n                </svg>\n              </a>\n            )}\n          </div>\n          <span className=\"data\">{roseBalanceFormatted}🌹</span>\n          <div className=\"buttonGroup\">\n            {account && (\n              <Copy toCopy={account}>\n                <span className=\"textStyle\">{t(\"copyAddress\")}</span>\n              </Copy>\n            )}\n          </div>\n          <div className=\"buttonGroup\">\n            <button\n              className=\"textStyle\"\n              onClick={() => {\n                openOptions()\n              }}\n            >\n              {/* change Icon */}\n              <svg\n                width=\"16\"\n                height=\"16\"\n                viewBox=\"0 0 16 16\"\n                fill=\"none\"\n                xmlns=\"http://www.w3.org/2000/svg\"\n                className=\"buttonGroupIcon\"\n              >\n                <g clipPath=\"url(#clip0)\">\n                  <path d=\"M6.07194 14.0719C6.19014 14.1901 6.35016 14.2568 6.5168 14.2574C6.68343 14.2579 6.84304 14.1922 6.9605 14.0747L13.2552 7.78006L13.2659 11.2235C13.2693 11.3883 13.3372 11.5455 13.4551 11.6613C13.573 11.7772 13.7313 11.8424 13.8961 11.8429C14.0608 11.8434 14.2188 11.7792 14.3359 11.6641C14.453 11.549 14.52 11.3922 14.5223 11.2274L14.5065 6.26722C14.5061 6.14303 14.4688 6.02154 14.3995 5.91808C14.3301 5.81462 14.2318 5.73384 14.1169 5.68595C14.0021 5.63805 13.8758 5.62518 13.754 5.64897C13.6323 5.67275 13.5206 5.73212 13.433 5.81959L6.06916 13.1834C5.9517 13.3008 5.88601 13.4605 5.88653 13.6271C5.88705 13.7937 5.95374 13.9537 6.07194 14.0719ZM10.2919 2.6785L2.92808 10.0423C2.84046 10.1298 2.72873 10.1891 2.60699 10.2129C2.48525 10.2367 2.35897 10.2238 2.24409 10.1759C2.12922 10.128 2.0309 10.0473 1.96156 9.9438C1.89221 9.84034 1.85496 9.71885 1.85449 9.59466L1.83869 4.63443C1.83698 4.55101 1.8519 4.46819 1.88258 4.3908C1.91326 4.31341 1.95908 4.243 2.01737 4.18368C2.07566 4.12435 2.14526 4.07731 2.2221 4.04529C2.29894 4.01327 2.38148 3.99691 2.46491 3.99717C2.54833 3.99743 2.63098 4.01431 2.70802 4.04681C2.78506 4.07931 2.85495 4.12679 2.91362 4.18648C2.97228 4.24616 3.01854 4.31686 3.04971 4.39445C3.08087 4.47203 3.0963 4.55495 3.09512 4.63836L3.10588 8.08182L9.40054 1.78716C9.518 1.6697 9.6776 1.604 9.84424 1.60452C10.0109 1.60505 10.1709 1.67174 10.2891 1.78994C10.4073 1.90814 10.474 2.06816 10.4745 2.23479C10.475 2.40143 10.4093 2.56103 10.2919 2.6785Z\" />\n                </g>\n                <defs>\n                  <clipPath id=\"clip0\">\n                    <rect width=\"16\" height=\"16\" />\n                  </clipPath>\n                </defs>\n              </svg>\n              {t(\"changeAccount\")}\n            </button>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"lowerSection\">\n        <Transactions />\n      </div>\n    </div>\n  )\n}\n","import { Metric } from \"web-vitals\"\n\nexport function logEvent(name: string, params: Record<string, unknown>): void {\n  // gtag is only loaded in index.html when NODE_ENV is set to production, so check if it's a function\n  if (typeof window.gtag === \"function\") {\n    window.gtag(\"event\", name, params)\n  } else {\n    console.debug(`Logging event ${name} with parameters:`, params)\n  }\n}\n\nexport function logError(error: ErrorEvent): void {\n  logEvent(\"exception\", {\n    description: `${error.message} @ ${error.filename}:${error.lineno}:${error.colno}`,\n    fatal: true,\n  })\n}\n\n// See: https://github.com/GoogleChrome/web-vitals#using-gtagjs-google-analytics-4\nexport function sendWebVitalsToGA({ name, delta, value, id }: Metric): void {\n  logEvent(name, {\n    // Use the metric delta as the event's value parameter.\n    value: delta,\n    // Everything below is a custom event parameter.\n    web_vitals_metric_id: id, // Needed to aggregate events.\n    web_vitals_metric_value: value, // Optional\n    // Any additional params or metadata (e.g. debug information) can be\n    // set here as well, within the following limitations:\n    // https://support.google.com/analytics/answer/9267744\n  })\n}\n","import \"./ConnectWallet.scss\"\n\nimport React, { ReactElement } from \"react\"\nimport { UnsupportedChainIdError, useWeb3React } from \"@web3-react/core\"\nimport { SUPPORTED_WALLETS } from \"../constants\"\nimport { logEvent } from \"../utils/googleAnalytics\"\nimport { map } from \"lodash\"\nimport { useTranslation } from \"react-i18next\"\n\ninterface Props {\n  onClose: () => void\n}\n\nfunction ConnectWallet({ onClose }: Props): ReactElement {\n  const { t } = useTranslation()\n  const { activate } = useWeb3React()\n\n  return (\n    <div className=\"connectWallet\">\n      <h3>{t(\"connectWallet\")}</h3>\n      <div className=\"walletList\">\n        {map(SUPPORTED_WALLETS, (wallet, index) => (\n          <button\n            key={index}\n            onClick={(): void => {\n              activate(wallet.connector, undefined, true).catch((error) => {\n                if (error instanceof UnsupportedChainIdError) {\n                  void activate(wallet.connector) // a little janky...can't use setError because the connector isn't set\n                } else {\n                  // TODO: handle error\n                }\n              })\n              logEvent(\"change_wallet\", { name: wallet.name })\n              onClose()\n            }}\n          >\n            <span>{wallet.name}</span>\n            <img src={wallet.icon} alt=\"icon\" className=\"icon\" />\n          </button>\n        ))}\n      </div>\n      <p>\n        {t(\"dontHaveWallet\") + \" \"}\n        <a href=\"https://ethereum.org/en/wallets/\" target=\"blank\">\n          {t(\"getWallet\")}\n        </a>\n      </p>\n    </div>\n  )\n}\n\nexport default ConnectWallet\n","import React, { ReactElement } from \"react\"\nimport { Button } from \"@chakra-ui/react\"\nimport { SUPPORTED_CHAINS } from \"../constants\"\nimport styles from \"./SupportedChains.module.scss\"\nimport useAddNetworkToMetamask from \"../hooks/useAddNetworkToMetamask\"\nimport { useTranslation } from \"react-i18next\"\n\ninterface Props {\n  openOptions: () => void\n}\n\nexport default function SupportedChains({ openOptions }: Props): ReactElement {\n  const { t } = useTranslation()\n  const addNetwork = useAddNetworkToMetamask()\n  return (\n    <div className={styles.supportedChains}>\n      <h3>{t(\"supportedChains\")}</h3>\n      <h5>{t(\"supportedChainsDescription\")}</h5>\n      <div className={styles.chainList}>\n        {Object.entries(SUPPORTED_CHAINS).map(([key, val], index) => (\n          <div key={index} className={styles.chain}>\n            <div className={styles.chainInfo}>\n              <h4>{val.name}</h4>\n              <span>{key}</span>\n            </div>\n            <div className={styles.chainInfo}>\n              <p>\n                <i>{val.rpc}</i>\n              </p>\n              <div className={styles.addNetwork}>\n                <Button\n                  variant=\"light\"\n                  size=\"md\"\n                  width=\"150px\"\n                  onClick={() => addNetwork(+key)}\n                >\n                  {t(\"addToWallet\")}\n                </Button>\n              </div>\n            </div>\n          </div>\n        ))}\n      </div>\n      <button\n        className={styles.textStyle}\n        onClick={() => {\n          openOptions()\n        }}\n      >\n        {/* change Icon */}\n        <svg\n          width=\"16\"\n          height=\"16\"\n          viewBox=\"0 0 16 16\"\n          fill=\"none\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n          className={styles.buttonGroupIcon}\n        >\n          <g clipPath=\"url(#clip1)\">\n            <path d=\"M6.07194 14.0719C6.19014 14.1901 6.35016 14.2568 6.5168 14.2574C6.68343 14.2579 6.84304 14.1922 6.9605 14.0747L13.2552 7.78006L13.2659 11.2235C13.2693 11.3883 13.3372 11.5455 13.4551 11.6613C13.573 11.7772 13.7313 11.8424 13.8961 11.8429C14.0608 11.8434 14.2188 11.7792 14.3359 11.6641C14.453 11.549 14.52 11.3922 14.5223 11.2274L14.5065 6.26722C14.5061 6.14303 14.4688 6.02154 14.3995 5.91808C14.3301 5.81462 14.2318 5.73384 14.1169 5.68595C14.0021 5.63805 13.8758 5.62518 13.754 5.64897C13.6323 5.67275 13.5206 5.73212 13.433 5.81959L6.06916 13.1834C5.9517 13.3008 5.88601 13.4605 5.88653 13.6271C5.88705 13.7937 5.95374 13.9537 6.07194 14.0719ZM10.2919 2.6785L2.92808 10.0423C2.84046 10.1298 2.72873 10.1891 2.60699 10.2129C2.48525 10.2367 2.35897 10.2238 2.24409 10.1759C2.12922 10.128 2.0309 10.0473 1.96156 9.9438C1.89221 9.84034 1.85496 9.71885 1.85449 9.59466L1.83869 4.63443C1.83698 4.55101 1.8519 4.46819 1.88258 4.3908C1.91326 4.31341 1.95908 4.243 2.01737 4.18368C2.07566 4.12435 2.14526 4.07731 2.2221 4.04529C2.29894 4.01327 2.38148 3.99691 2.46491 3.99717C2.54833 3.99743 2.63098 4.01431 2.70802 4.04681C2.78506 4.07931 2.85495 4.12679 2.91362 4.18648C2.97228 4.24616 3.01854 4.31686 3.04971 4.39445C3.08087 4.47203 3.0963 4.55495 3.09512 4.63836L3.10588 8.08182L9.40054 1.78716C9.518 1.6697 9.6776 1.604 9.84424 1.60452C10.0109 1.60505 10.1709 1.67174 10.2891 1.78994C10.4073 1.90814 10.474 2.06816 10.4745 2.23479C10.475 2.40143 10.4093 2.56103 10.2919 2.6785Z\" />\n          </g>\n          <defs>\n            <clipPath id=\"clip1\">\n              <rect width=\"16\" height=\"16\" />\n            </clipPath>\n          </defs>\n        </svg>\n        {t(\"changeAccount\")}\n      </button>\n    </div>\n  )\n}\n","// TODO: create types\n/* eslint @typescript-eslint/no-unsafe-member-access: 0 */\nimport { SUPPORTED_CHAINS, SupportedChains } from \"../constants\"\nimport { toHex } from \"../utils\"\nimport { useCallback } from \"react\"\n\nexport default function useAddNetworkToMetamask(): (\n  chainId: SupportedChains,\n) => void {\n  const { ethereum } = window\n\n  const addNetwork = useCallback(\n    async (chainId: SupportedChains) => {\n      if (ethereum) {\n        try {\n          await ethereum.request({\n            method: \"wallet_switchEthereumChain\",\n            params: [\n              {\n                chainId: toHex(chainId),\n              },\n            ],\n          })\n          // eslint-disable-next-line\n        } catch (error: any) {\n          // This error code indicates that the chain has not been added to MetaMask.\n          if (error.code === 4902) {\n            await ethereum.request({\n              method: \"wallet_addEthereumChain\",\n              params: [\n                {\n                  chainId: toHex(chainId),\n                  chainName: SUPPORTED_CHAINS[chainId].name,\n                  rpcUrls: [SUPPORTED_CHAINS[chainId].rpc],\n                },\n              ],\n            })\n          }\n        }\n      }\n    },\n    [ethereum],\n  )\n\n  return addNetwork\n}\n","import \"./Web3Status.scss\"\n\nimport { Box, Button, Flex, Icon, useBreakpointValue } from \"@chakra-ui/react\"\nimport { FaExclamationTriangle, FaWallet } from \"react-icons/fa\"\nimport React, { ReactElement, useEffect, useState } from \"react\"\nimport AccountDetails from \"./AccountDetails\"\nimport { AppState } from \"../state\"\nimport { ChainId } from \"../constants\"\nimport ConnectWallet from \"./ConnectWallet\"\nimport { IconButtonPopover } from \"./Popover\"\nimport Identicon from \"./Identicon\"\nimport Modal from \"./Modal\"\nimport SupportedChains from \"./SupportedChains\"\nimport { injected } from \"../connectors\"\nimport { useSelector } from \"react-redux\"\nimport { useTranslation } from \"react-i18next\"\nimport { useWeb3React } from \"@web3-react/core\"\n\nconst WALLET_VIEWS = {\n  OPTIONS: \"options\",\n  ACCOUNT: \"account\",\n}\n\nfunction chainIdToName(chainId: number | undefined) {\n  if (typeof chainId == undefined) {\n    return \"\"\n  }\n  switch (chainId) {\n    case ChainId.AURORA_TESTNET:\n      return \"Aurora Testnet\"\n    case ChainId.AURORA_MAINNET:\n      return \"Aurora\"\n    default:\n      return \"Unknown Network\"\n  }\n}\n\nconst Web3Status = (): ReactElement => {\n  const { account, chainId, error } = useWeb3React()\n  const [modalOpen, setModalOpen] = useState(false)\n  const [walletConnected, setWalletConnected] = useState(false)\n  void injected.isAuthorized().then((isAuthorized) => {\n    setWalletConnected(isAuthorized)\n  })\n  const [walletView, setWalletView] = useState(WALLET_VIEWS.ACCOUNT)\n  const { t } = useTranslation()\n  const { userDarkMode } = useSelector((state: AppState) => state.user)\n  const variant = useBreakpointValue({ base: \"primary\", lg: \"outline\" })\n  const padding = useBreakpointValue({ base: \"20px\", lg: \"16px\" })\n  const color = useBreakpointValue({ base: \"white\", lg: \"inherit\" })\n\n  // always reset to account view\n  useEffect(() => {\n    if (modalOpen) {\n      setWalletView(WALLET_VIEWS.ACCOUNT)\n    }\n  }, [modalOpen])\n\n  return (\n    <div className=\"walletStatus\">\n      {account ? (\n        <IconButtonPopover\n          IconButtonProps={{\n            \"aria-label\": \"Connected Network\",\n            variant: \"outline\",\n            size: \"md\",\n            title: chainIdToName(chainId),\n            marginRight: \"10px\",\n            icon: (\n              <Icon viewBox=\"-5 -1 37 37\">\n                <path\n                  d=\"M15 2.292a3.317 3.317 0 012.981 1.841l9.375 18.75a3.333 3.333 0 01-2.981 4.825H5.625a3.333 3.333 0 01-2.98-4.825l9.374-18.75A3.317 3.317 0 0115 2.292M15 0a5.625 5.625 0 00-5.031 3.108L.594 21.858A5.625 5.625 0 005.625 30h18.75a5.625 5.625 0 005.03-8.142l-9.374-18.75A5.625 5.625 0 0015 0z\"\n                  stroke={userDarkMode ? \"rgba(120,214,75)\" : \"rgba(70,164,25)\"}\n                  fill={userDarkMode ? \"rgba(120,214,75)\" : \"rgba(70,164,25)\"}\n                />\n              </Icon>\n            ),\n          }}\n          PopoverBodyContent={\n            <Flex flexDirection=\"column\">\n              <Flex justifyContent=\"space-between\" fontSize=\"15px\">\n                You are connected on the\n              </Flex>\n              <Flex\n                fontSize=\"21px\"\n                fontWeight=\"700\"\n                alignItems=\"center\"\n                marginTop=\"5px\"\n              >\n                <Box>{chainIdToName(chainId)} Network &nbsp;</Box>\n                <Icon viewBox=\"-5 -1 37 37\">\n                  <path\n                    d=\"M15 2.292a3.317 3.317 0 012.981 1.841l9.375 18.75a3.333 3.333 0 01-2.981 4.825H5.625a3.333 3.333 0 01-2.98-4.825l9.374-18.75A3.317 3.317 0 0115 2.292M15 0a5.625 5.625 0 00-5.031 3.108L.594 21.858A5.625 5.625 0 005.625 30h18.75a5.625 5.625 0 005.03-8.142l-9.374-18.75A5.625 5.625 0 0015 0z\"\n                    stroke={\n                      userDarkMode ? \"rgba(120,214,75)\" : \"rgba(70,164,25)\"\n                    }\n                    fill={userDarkMode ? \"rgba(120,214,75)\" : \"rgba(70,164,25)\"}\n                  />\n                </Icon>\n              </Flex>\n            </Flex>\n          }\n        />\n      ) : null}\n      <Button\n        variant={variant}\n        lineHeight=\"unset\"\n        size=\"md\"\n        p={padding}\n        color={color}\n        onClick={(): void => setModalOpen(true)}\n        rightIcon={\n          account ? (\n            <Identicon />\n          ) : error || walletConnected ? (\n            <FaExclamationTriangle size=\"20px\" />\n          ) : (\n            <FaWallet size=\"20px\" />\n          )\n        }\n      >\n        {account ? (\n          <span className=\"userAddress\">\n            {account.substring(0, 6)}...\n            {account.substring(account.length - 4, account.length)}\n          </span>\n        ) : error || walletConnected ? (\n          t(\"unsupported\")\n        ) : (\n          t(\"connectWallet\")\n        )}\n      </Button>\n      <Modal isOpen={modalOpen} onClose={(): void => setModalOpen(false)}>\n        {account && walletView === WALLET_VIEWS.ACCOUNT ? (\n          <AccountDetails\n            openOptions={() => setWalletView(WALLET_VIEWS.OPTIONS)}\n          />\n        ) : (error || walletConnected) &&\n          walletView !== WALLET_VIEWS.OPTIONS ? (\n          <SupportedChains\n            openOptions={() => setWalletView(WALLET_VIEWS.OPTIONS)}\n          />\n        ) : (\n          <ConnectWallet onClose={(): void => setModalOpen(false)} />\n        )}\n      </Modal>\n    </div>\n  )\n}\n\nexport default Web3Status\n","import \"./TopMenu.scss\"\n\nimport {\n  Box,\n  IconButton,\n  Menu,\n  MenuButton,\n  MenuDivider,\n  MenuGroup,\n  MenuItem,\n  MenuList,\n  useColorModeValue,\n} from \"@chakra-ui/react\"\nimport {\n  BsArrowLeftRight,\n  BsMedium,\n  BsRainbow,\n  BsReceipt,\n} from \"react-icons/bs\"\nimport { CloseIcon, HamburgerIcon } from \"@chakra-ui/icons\"\nimport {\n  FaChartPie,\n  FaDiscord,\n  FaGift,\n  FaGithub,\n  FaHandHoldingUsd,\n  FaRegCircle,\n  FaTelegram,\n  FaTwitter,\n} from \"react-icons/fa\"\nimport React, { ReactElement } from \"react\"\nimport { Link } from \"react-router-dom\"\nimport RosePriceButton from \"./RosePriceButton\"\nimport ThemeChanger from \"./ThemeChanger\"\nimport ToolTip from \"./ToolTip\"\nimport Web3Status from \"./Web3Status\"\nimport classNames from \"classnames\"\nimport { useTranslation } from \"react-i18next\"\n\ninterface Props {\n  activeTab: string\n}\n\nfunction TopMenu({ activeTab }: Props): ReactElement {\n  const { t } = useTranslation()\n  const menuColor = useColorModeValue(\"#fff\", \"rgb(28, 29, 33)\")\n\n  return (\n    <header className=\"top\">\n      <h1>\n        <Link to=\"/\">Rose</Link>\n      </h1>\n      <div style={{ zIndex: 3, display: \"flex\" }}>\n        <Menu>\n          {({ isOpen }) => (\n            <>\n              <MenuButton\n                isActive={isOpen}\n                as={IconButton}\n                aria-label=\"Open Menu\"\n                display={{ lg: \"none\" }}\n                variant=\"outline\"\n                lineHeight=\"unset\"\n              >\n                {isOpen ? <CloseIcon /> : <HamburgerIcon />}\n              </MenuButton>\n              <MenuList bg={menuColor}>\n                <MenuGroup title=\"Pages\">\n                  <MenuItem\n                    icon={<BsArrowLeftRight />}\n                    as={Link}\n                    to=\"/\"\n                    margin=\"0\"\n                  >\n                    {t(\"swap\")}\n                  </MenuItem>\n                  <MenuItem\n                    icon={<FaChartPie />}\n                    as={Link}\n                    to=\"/pools\"\n                    margin=\"0\"\n                  >\n                    {t(\"pools\")}\n                  </MenuItem>\n                  <MenuItem icon={<FaGift />} as={Link} to=\"/farms\" margin=\"0\">\n                    {t(\"farms\")}\n                  </MenuItem>\n                  <MenuItem\n                    icon={<BsReceipt />}\n                    as={Link}\n                    to=\"/stake\"\n                    margin=\"0\"\n                  >\n                    {t(\"stake\")}\n                  </MenuItem>\n                  <MenuItem\n                    icon={<FaHandHoldingUsd />}\n                    as={Link}\n                    to=\"#\"\n                    margin=\"0\"\n                    command=\"Coming Soon!\"\n                  >\n                    <span className=\"disabled\">{t(\"borrow\")}</span>\n                  </MenuItem>\n                </MenuGroup>\n                <MenuDivider />\n                <MenuGroup title=\"Bridges\">\n                  <MenuItem\n                    icon={<BsRainbow />}\n                    href=\"https://rainbowbridge.app/transfer\"\n                    as=\"a\"\n                    margin=\"0\"\n                    target=\"_blank\"\n                    rel=\"noreferrer\"\n                  >\n                    Rainbow Bridge↗\n                  </MenuItem>\n                  <MenuItem\n                    icon={<FaRegCircle />}\n                    href=\"https://app.allbridge.io/bridge\"\n                    as=\"a\"\n                    margin=\"0\"\n                    target=\"_blank\"\n                    rel=\"noreferrer\"\n                  >\n                    Allbridge↗\n                  </MenuItem>\n                </MenuGroup>\n                <MenuDivider />\n                <MenuGroup title=\"Socials\">\n                  <MenuItem\n                    icon={<FaTwitter />}\n                    href=\"https://twitter.com/roseonaurora\"\n                    as=\"a\"\n                    margin=\"0\"\n                    target=\"_blank\"\n                    rel=\"noreferrer\"\n                  >\n                    Twitter↗\n                  </MenuItem>\n                  <MenuItem\n                    icon={<BsMedium />}\n                    href=\"https://medium.com/@roseonaurora\"\n                    as=\"a\"\n                    margin=\"0\"\n                    target=\"_blank\"\n                    rel=\"noreferrer\"\n                  >\n                    Medium↗\n                  </MenuItem>\n                  <MenuItem\n                    icon={<FaTelegram />}\n                    href=\"https://t.me/RoseOnAurora\"\n                    as=\"a\"\n                    margin=\"0\"\n                    target=\"_blank\"\n                    rel=\"noreferrer\"\n                  >\n                    Telegram↗\n                  </MenuItem>\n                  <MenuItem\n                    icon={<FaDiscord />}\n                    href=\"https://discord.gg/dG6mWH4rHj\"\n                    as=\"a\"\n                    margin=\"0\"\n                    target=\"_blank\"\n                    rel=\"noreferrer\"\n                  >\n                    Discord↗\n                  </MenuItem>\n                  <MenuItem\n                    icon={<FaGithub />}\n                    href=\"https://github.com/RoseOnAurora\"\n                    as=\"a\"\n                    margin=\"0\"\n                    target=\"_blank\"\n                    rel=\"noreferrer\"\n                  >\n                    Github↗\n                  </MenuItem>\n                </MenuGroup>\n              </MenuList>\n            </>\n          )}\n        </Menu>\n        <Box display={{ lg: \"none\" }}>\n          <ThemeChanger />\n        </Box>\n      </div>\n      <ul className=\"nav\">\n        <li>\n          <Link to=\"/\" className={classNames({ active: activeTab === \"swap\" })}>\n            {t(\"swap\")}\n          </Link>\n        </li>\n        <li>\n          <Link\n            to=\"/pools\"\n            className={classNames({\n              active:\n                activeTab === \"pools\" ||\n                activeTab === \"deposit\" ||\n                activeTab === \"withdraw\",\n            })}\n          >\n            {t(\"pools\")}\n          </Link>\n        </li>\n        <li>\n          <Link\n            to=\"/farms\"\n            className={classNames({\n              active: activeTab === \"farms\" || activeTab === \"farm\",\n            })}\n          >\n            {t(\"farms\")}\n          </Link>\n        </li>\n        <li>\n          <Link\n            to=\"/stake\"\n            className={classNames({\n              active: activeTab === \"stake\",\n              // add additional checks here in case stake will require subpages\n            })}\n          >\n            {t(\"stake\")}\n          </Link>\n        </li>\n        <li>\n          <ToolTip content={t(\"underconstruction\")}>\n            <Link\n              to=\"#\"\n              className={classNames({\n                active: activeTab === \"borrow\",\n              })}\n            >\n              <span className=\"disabled\">{t(\"borrow\")}</span>\n            </Link>\n          </ToolTip>\n        </li>\n        <li>\n          <Menu>\n            <MenuButton>\n              <Link to=\"#\">Bridge↗</Link>\n            </MenuButton>\n            <MenuList bg={useColorModeValue(\"#fff\", \"rgb(28, 29, 33)\")}>\n              <MenuGroup>\n                <MenuItem>\n                  <a\n                    href=\"https://rainbowbridge.app/transfer\"\n                    target=\"_blank\"\n                    rel=\"noreferrer\"\n                  >\n                    Rainbow Bridge↗\n                  </a>\n                </MenuItem>\n                <MenuItem>\n                  <a\n                    href=\"https://app.allbridge.io/bridge\"\n                    target=\"_blank\"\n                    rel=\"noreferrer\"\n                  >\n                    Allbridge↗\n                  </a>\n                </MenuItem>\n              </MenuGroup>\n            </MenuList>\n          </Menu>\n        </li>\n      </ul>\n      <div className=\"topMenuBar\">\n        <RosePriceButton />\n        <Web3Status />\n        <ThemeChanger />\n      </div>\n    </header>\n  )\n}\n\nexport default TopMenu\n","import \"./DepositPage.scss\"\n\nimport {\n  ALETH_POOL_NAME,\n  FRAX_STABLES_LP_POOL_NAME,\n  POOLS_MAP,\n  POOL_FEE_PRECISION,\n  TOKENS_MAP,\n  UST_METAPOOL_NAME,\n  VETH2_POOL_NAME,\n  isMetaPool,\n} from \"../constants\"\nimport { Button, Center } from \"@chakra-ui/react\"\nimport ConfirmTransaction, { ModalType } from \"./ConfirmTransaction\"\nimport { PoolDataType, UserShareType } from \"../hooks/usePoolData\"\nimport React, { ReactElement, useState } from \"react\"\nimport { Trans, useTranslation } from \"react-i18next\"\nimport { formatBNToPercentString, formatBNToString } from \"../utils\"\nimport AdvancedOptions from \"./AdvancedOptions\"\nimport BackButton from \"./BackButton\"\nimport { BsSliders } from \"react-icons/bs\"\nimport { ContractReceipt } from \"@ethersproject/contracts\"\nimport { DepositTransaction } from \"../interfaces/transactions\"\nimport { FaChartPie } from \"react-icons/fa\"\nimport { IconButtonPopover } from \"./Popover\"\nimport LPStakingBanner from \"./LPStakingBanner\"\nimport Modal from \"./Modal\"\nimport ReviewDeposit from \"./ReviewDeposit\"\nimport StakeDetails from \"./StakeDetails\"\n// import { Switch } from \"@chakra-ui/react\"\nimport TokenInput from \"./TokenInput\"\nimport TopMenu from \"./TopMenu\"\nimport { Zero } from \"@ethersproject/constants\"\nimport { commify } from \"@ethersproject/units\"\nimport { getEtherscanLink } from \"../utils/getEtherscanLink\"\nimport { logEvent } from \"../utils/googleAnalytics\"\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\ninterface Props {\n  title: string\n  onConfirmTransaction: () => Promise<ContractReceipt | void>\n  onChangeTokenInputValue: (tokenSymbol: string, value: string) => void\n  onToggleDepositWrapped: () => void\n  shouldDepositWrapped: boolean\n  tokens: Array<{\n    symbol: string\n    name: string\n    icon: string\n    max: string\n    inputValue: string\n  }>\n  exceedsWallet: boolean\n  selected?: { [key: string]: any }\n  poolData: PoolDataType | null\n  myShareData: UserShareType | null\n  transactionData: DepositTransaction\n}\n\n/* eslint-enable @typescript-eslint/no-explicit-any */\nconst DepositPage = (props: Props): ReactElement => {\n  const { t } = useTranslation()\n  const {\n    tokens,\n    exceedsWallet,\n    poolData,\n    myShareData,\n    transactionData,\n    // shouldDepositWrapped,\n    onChangeTokenInputValue,\n    onConfirmTransaction,\n    // onToggleDepositWrapped,\n  } = props\n\n  const [currentModal, setCurrentModal] = useState<string | null>(null)\n  const [txnHash, setTxnHash] = useState<string | undefined>(undefined)\n\n  const validDepositAmount =\n    transactionData.to.totalAmount.gt(0) && !exceedsWallet\n  const shouldDisplayWrappedOption = isMetaPool(poolData?.name)\n  const formattedShareTokens =\n    myShareData?.tokens.map((coin) => {\n      const token = TOKENS_MAP[coin.symbol]\n      return {\n        tokenName: token.name,\n        icon: token.icon,\n        amount: commify(formatBNToString(coin.value, 18, 5)),\n      }\n    }) || []\n  const formattedPoolDataTokens =\n    poolData?.tokens.map((coin) => {\n      const token = TOKENS_MAP[coin.symbol]\n      return {\n        symbol: token.symbol,\n        name: token.name,\n        icon: token.icon,\n        percent: coin.percent,\n        value: commify(formatBNToString(coin.value, 18, 5)),\n      }\n    }) || []\n\n  return (\n    <div className=\"deposit\">\n      <TopMenu activeTab={\"deposit\"} />\n      {poolData?.aprs?.keep?.apr.gt(Zero) &&\n        myShareData?.lpTokenBalance.gt(0) && (\n          <LPStakingBanner\n            stakingLink={\"https://dashboard.keep.network/liquidity\"}\n          />\n        )}\n      {poolData?.name === VETH2_POOL_NAME &&\n        myShareData?.lpTokenBalance.gt(0) && (\n          <LPStakingBanner stakingLink={\"https://www.sharedstake.org/earn\"} />\n        )}\n      {poolData?.name === ALETH_POOL_NAME &&\n        myShareData?.lpTokenBalance.gt(0) && (\n          <LPStakingBanner stakingLink={\"https://app.alchemix.fi/farms\"} />\n        )}\n\n      <div className=\"content\">\n        <div className=\"left\">\n          <div className=\"form\">\n            <div\n              style={{\n                display: \"flex\",\n                justifyContent: \"space-between\",\n                alignItems: \"baseline\",\n              }}\n            >\n              <h3>{t(\"addLiquidity\")}</h3>\n              <IconButtonPopover\n                IconButtonProps={{\n                  \"aria-label\": \"Configure Settings\",\n                  variant: \"outline\",\n                  size: \"lg\",\n                  icon: <BsSliders size=\"25px\" />,\n                  title: \"Configure Settings\",\n                }}\n                PopoverBodyContent={<AdvancedOptions />}\n              />\n            </div>\n            {exceedsWallet ? (\n              <div className=\"error\">{t(\"depositBalanceExceeded\")}</div>\n            ) : null}\n            {poolData?.isPaused && poolData?.name === VETH2_POOL_NAME ? (\n              <div className=\"error\">\n                <Trans i18nKey=\"sgtPoolPaused\" t={t}>\n                  This pool is paused, please see{\" \"}\n                  <a\n                    href=\"https://medium.com/immunefi/sharedstake-insider-exploit-postmortem-17fa93d5c90e\"\n                    target=\"_blank\"\n                    rel=\"noreferrer\"\n                    style={{ textDecoration: \"underline\" }}\n                  >\n                    this postmortem\n                  </a>{\" \"}\n                  for more information.\n                </Trans>\n              </div>\n            ) : null}\n            {/* disable deposit wrapped button until gas limit is raised on aurora */}\n            {/* {shouldDisplayWrappedOption && (\n              <div className=\"wrappedDeposit\">\n                <Switch\n                  colorScheme=\"red\"\n                  onChange={onToggleDepositWrapped}\n                  isChecked={shouldDepositWrapped}\n                />\n                <span>\n                  <small>{t(\"depositWrapped\")}</small>\n                </span>\n              </div>\n            )} */}\n            {tokens.map((token, index) => (\n              <div key={index}>\n                <TokenInput\n                  {...token}\n                  disabled={poolData?.isPaused}\n                  onChange={(value): void =>\n                    onChangeTokenInputValue(token.symbol, value)\n                  }\n                />\n                {index === tokens.length - 1 ? (\n                  \"\"\n                ) : (\n                  <div className=\"formSpace\"></div>\n                )}\n              </div>\n            ))}\n            <div className=\"transactionInfo\">\n              {poolData?.aprs?.keep?.apr.gt(Zero) && (\n                <div className=\"transactionInfoItem\">\n                  <a\n                    href=\"https://docs.saddle.finance/faq#what-are-saddles-liquidity-provider-rewards\"\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                  >\n                    <span>{`KEEP APR:`}</span>\n                  </a>{\" \"}\n                  <span className=\"value\">\n                    {formatBNToPercentString(poolData.aprs.keep.apr, 18)}\n                  </span>\n                </div>\n              )}\n              {poolData?.aprs?.sharedStake?.apr.gt(Zero) && (\n                <div className=\"transactionInfoItem\">\n                  <a\n                    href=\"https://docs.saddle.finance/faq#what-are-saddles-liquidity-provider-rewards\"\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                  >\n                    <span>{`SGT APR:`}</span>\n                  </a>{\" \"}\n                  <span className=\"value\">\n                    {formatBNToPercentString(poolData.aprs.sharedStake.apr, 18)}\n                  </span>\n                </div>\n              )}\n              <div className=\"transactionInfoItem\">\n                {transactionData.priceImpact.gte(0) ? (\n                  <span className=\"bonus\">{`${t(\"bonus\")}: `}</span>\n                ) : (\n                  <span className=\"slippage\">{t(\"priceImpact\")}</span>\n                )}\n                <span\n                  className={\n                    \"value \" +\n                    (transactionData.priceImpact.gte(0) ? \"bonus\" : \"slippage\")\n                  }\n                >\n                  {\" \"}\n                  {formatBNToPercentString(transactionData.priceImpact, 18, 4)}\n                </span>\n              </div>\n            </div>\n          </div>\n          {shouldDisplayWrappedOption && (\n            <div className=\"options\">\n              <p className=\"wrappedInfo\">\n                Deposit to the{\" \"}\n                <a href=\"/#/pools/stables/deposit\">Stables Pool</a> to get\n                RoseStablesLP.{\" \"}\n                {poolData?.name === UST_METAPOOL_NAME && (\n                  <>\n                    Get atUST by bridging UST from Terra on{\" \"}\n                    <a\n                      href=\"https://app.allbridge.io/bridge?from=TRA&to=AURO&asset=UST\"\n                      target=\"_blank\"\n                      rel=\"noreferrer\"\n                      style={{ textDecoration: \"underline\", margin: 0 }}\n                    >\n                      Allbridge.\n                    </a>\n                  </>\n                )}\n              </p>\n            </div>\n          )}\n          {poolData?.name === FRAX_STABLES_LP_POOL_NAME && (\n            <div className=\"options\">\n              <p className=\"wrappedInfo\">\n                This pool is outdated. Please{\" \"}\n                <a href=\"/#/pools/frax-stableslp/withdraw\">\n                  go here to withdraw any liquidity\n                </a>{\" \"}\n                from this pool and{\" \"}\n                <a href=\"/#/pools/frax/deposit\">\n                  use the new Frax pool instead.\n                </a>\n              </p>\n            </div>\n          )}\n          <div className=\"options\" style={{ height: \"100%\" }}>\n            <Center width=\"100%\">\n              <Button\n                variant=\"primary\"\n                size=\"lg\"\n                width=\"100%\"\n                onClick={(): void => {\n                  setCurrentModal(\"review\")\n                }}\n                disabled={!validDepositAmount || poolData?.isPaused}\n              >\n                {t(\"deposit\")}\n              </Button>\n            </Center>\n            <div className=\"approvalMessage\">\n              Note: The &quot;Approve&quot; transaction is only needed the first\n              time; subsequent actions will not require approval.\n            </div>\n          </div>\n        </div>\n        <div className=\"infoPanels\">\n          <StakeDetails\n            extraStakeDetailChild={\n              <>\n                <FaChartPie\n                  size=\"40px\"\n                  color=\"#cc3a59\"\n                  title=\"My Share of the Pool\"\n                />\n                <span style={{ fontSize: \"25px\", fontWeight: 700 }}>\n                  {formatBNToPercentString(myShareData?.share || Zero, 18)}\n                </span>\n              </>\n            }\n            balanceView={{\n              title: \"LP Token Balance\",\n              items: [\n                {\n                  tokenName: poolData?.lpToken ?? \"-\",\n                  icon: POOLS_MAP[poolData?.name || \"\"]?.lpToken.icon || \"-\",\n                  amount: commify(\n                    formatBNToString(\n                      myShareData?.lpTokenBalance || Zero,\n                      18,\n                      5,\n                    ),\n                  ),\n                },\n              ],\n            }}\n            stakedView={{\n              title: t(\"deposited\"),\n              items: formattedShareTokens,\n            }}\n            stats={[\n              {\n                statLabel: \"TVL\",\n                statValue: poolData?.reserve\n                  ? `$${commify(formatBNToString(poolData.reserve, 18, 2))}`\n                  : \"-\",\n                statPopOver: (\n                  <div className=\"tokenList\">\n                    {formattedPoolDataTokens.map((token, index) => (\n                      <div className=\"token\" key={index}>\n                        <div style={{ display: \"flex\", alignItems: \"center\" }}>\n                          <img alt=\"icon\" src={token.icon} />\n                          <span className=\"bold\">{`${token.symbol} ${token.percent}`}</span>\n                        </div>\n                        <span className=\"tokenValue\">{token.value}</span>\n                      </div>\n                    ))}\n                  </div>\n                ),\n              },\n              {\n                statLabel: t(\"fee\"),\n                statValue: poolData?.swapFee\n                  ? formatBNToPercentString(\n                      poolData.swapFee,\n                      POOL_FEE_PRECISION,\n                    )\n                  : \"-\",\n              },\n              {\n                statLabel: t(\"virtualPrice\"),\n                statValue: poolData?.virtualPrice\n                  ? commify(formatBNToString(poolData.virtualPrice, 18, 2))\n                  : \"-\",\n              },\n              {\n                statLabel: t(\"aParameter\"),\n                statValue: poolData?.aParameter\n                  ? commify(formatBNToString(poolData.aParameter, 0, 0))\n                  : \"-\",\n                statTooltip: t(\"aParameterTooltip\"),\n              },\n            ]}\n          />\n        </div>\n        <Modal\n          isOpen={!!currentModal}\n          onClose={(): void => setCurrentModal(null)}\n        >\n          {currentModal === \"review\" ? (\n            <ReviewDeposit\n              transactionData={transactionData}\n              onConfirm={(): void => {\n                setTxnHash(undefined)\n                setCurrentModal(ModalType.CONFIRM)\n                logEvent(\n                  \"deposit\",\n                  (poolData && { pool: poolData?.name }) || {},\n                )\n                onConfirmTransaction?.()\n                  .then((res) => {\n                    if (res?.status) {\n                      setCurrentModal(ModalType.SUCCESS)\n                    } else {\n                      setCurrentModal(ModalType.FAILED)\n                      setTxnHash(res?.transactionHash)\n                    }\n                  })\n                  .catch(() => {\n                    setCurrentModal(ModalType.FAILED)\n                  })\n              }}\n              onClose={(): void => setCurrentModal(null)}\n            />\n          ) : null}\n          {currentModal === ModalType.CONFIRM ? (\n            <ConfirmTransaction />\n          ) : currentModal === ModalType.FAILED ? (\n            <ConfirmTransaction\n              title={t(\"failedTitle\")}\n              type={ModalType.FAILED}\n              description={\n                !txnHash\n                  ? t(\"txFailed_internal\", { tx: t(\"deposit\") })\n                  : undefined\n              }\n            >\n              {txnHash && (\n                <Trans i18nKey=\"txFailed\" t={t}>\n                  {{ tx: t(\"deposit\") }}\n                  <a\n                    href={getEtherscanLink(txnHash, \"tx\")}\n                    target=\"_blank\"\n                    rel=\"noreferrer\"\n                    style={{ textDecoration: \"underline\", margin: 0 }}\n                  >\n                    blockscout.\n                  </a>\n                </Trans>\n              )}\n            </ConfirmTransaction>\n          ) : currentModal === ModalType.SUCCESS ? (\n            <ConfirmTransaction\n              title={t(\"successTitle\")}\n              description={t(\"txConfirmed_deposit\")}\n              type={ModalType.SUCCESS}\n            />\n          ) : null}\n        </Modal>\n        <BackButton\n          route=\"/pools\"\n          wrapperClass=\"goBack\"\n          buttonText=\"Go back to pools\"\n        />\n      </div>\n    </div>\n  )\n}\n\nexport default DepositPage\n","import { BigNumber } from \"@ethersproject/bignumber\"\nimport { ContractReceipt } from \"ethers\"\nimport { ContractTransaction } from \"@ethersproject/contracts\"\nimport { Erc20 } from \"../../types/ethers-contracts/Erc20\"\nimport { MaxUint256 } from \"@ethersproject/constants\"\nimport { RoseStablesLP } from \"../../types/ethers-contracts/RoseStablesLP\"\nimport { Zero } from \"@ethersproject/constants\"\n\n/**\n * Checks if a spender is allowed to spend some amount of a token.\n * Approves them to spend if they're not already allowed.\n * Won't make requests if spendingValue eq 0\n * @param {Contract} srcTokenContract\n * @param {string} swapAddress\n * @param {string} spenderAddress\n * @param {BigNumber} spendingValue\n * @param {boolean} infiniteApproval\n * @param {{}} callbacks\n * @return {Promise<void>}\n */\nexport default async function checkAndApproveTokenForTrade(\n  srcTokenContract: Erc20 | RoseStablesLP,\n  swapAddress: string,\n  spenderAddress: string,\n  spendingValue: BigNumber, // max is MaxUint256\n  infiniteApproval = false,\n  gasPrice: BigNumber,\n  callbacks: {\n    onTransactionStart?: (\n      transaction?: ContractTransaction,\n    ) => (() => void) | undefined\n    onTransactionSuccess?: (transaction: ContractReceipt) => () => void\n    onTransactionError?: (error: Error | string) => () => void\n  } = {},\n): Promise<void> {\n  if (srcTokenContract == null) return\n  if (spendingValue.eq(0)) return\n  const tokenName = await srcTokenContract.name()\n  const existingAllowance = await srcTokenContract.allowance(\n    spenderAddress,\n    swapAddress,\n  )\n\n  console.log(`swap address: ${swapAddress}`)\n  console.log(\n    `Existing ${tokenName} Allowance: ${existingAllowance.toString()}`,\n  )\n  console.log(`Spending ${spendingValue.toString()} ${tokenName}`)\n  if (existingAllowance.gte(spendingValue)) return\n  console.log(`need to approve`)\n  async function approve(amount: BigNumber): Promise<void> {\n    try {\n      const cleanupOnStart = callbacks.onTransactionStart?.()\n      const approvalTransaction = await srcTokenContract.approve(\n        swapAddress,\n        amount,\n        {\n          gasPrice,\n        },\n      )\n      const confirmedTransaction = await approvalTransaction.wait()\n      cleanupOnStart?.()\n      callbacks.onTransactionSuccess?.(confirmedTransaction)\n    } catch (error) {\n      callbacks.onTransactionError?.(error as string)\n      throw error\n    }\n  }\n  if (existingAllowance.gt(\"0\")) {\n    // Reset to 0 before updating approval\n    await approve(Zero)\n  }\n  await approve(infiniteApproval ? MaxUint256 : spendingValue)\n  console.debug(`Approving ${tokenName} spend of ${spendingValue.toString()}`)\n}\n","import { PayloadAction, createSlice } from \"@reduxjs/toolkit\"\nimport { FarmStats } from \"../utils/fetchFarmStats\"\nimport { StakeStats } from \"../utils/fetchStakeStats\"\nimport { SwapStatsReponse } from \"../utils/getSwapStats\"\nimport { TRANSACTION_TYPES } from \"../constants\"\n\ninterface GasPrices {\n  gasStandard?: number\n  gasFast?: number\n  gasInstant?: number\n}\ninterface SwapStats {\n  [swapAddress: string]: {\n    oneDayVolume: string\n    apy: string\n    tvl: string\n    utilization: string\n  }\n}\nexport interface TokenPricesUSD {\n  [tokenSymbol: string]: number\n}\ninterface LastTransactionTimes {\n  [transactionType: string]: number\n}\n\ninterface UpdatedFarmStats {\n  [farmName: string]: FarmStats\n}\n\ninterface RosePriceHistory {\n  time: number\n  price: number\n}\n\ntype ApplicationState = GasPrices & { tokenPricesUSD?: TokenPricesUSD } & {\n  lastTransactionTimes: LastTransactionTimes\n} & { swapStats?: SwapStats } & { farmStats?: UpdatedFarmStats } & {\n  stakeStats?: StakeStats\n} & { rosePriceHistory?: RosePriceHistory[] }\n\nconst initialState: ApplicationState = {\n  lastTransactionTimes: {\n    [TRANSACTION_TYPES.STAKE]: 0,\n    [TRANSACTION_TYPES.DEPOSIT]: 0,\n    [TRANSACTION_TYPES.WITHDRAW]: 0,\n    [TRANSACTION_TYPES.SWAP]: 0,\n  },\n}\n\nconst applicationSlice = createSlice({\n  name: \"application\",\n  initialState,\n  reducers: {\n    updateGasPrices(state, action: PayloadAction<GasPrices>): void {\n      const { gasStandard, gasFast, gasInstant } = action.payload\n      state.gasStandard = gasStandard\n      state.gasFast = gasFast\n      state.gasInstant = gasInstant\n    },\n    updateFarmStats(state, action: PayloadAction<UpdatedFarmStats>): void {\n      state.farmStats = {\n        ...state.farmStats,\n        ...action.payload,\n      }\n    },\n    updateStakeStats(state, action: PayloadAction<StakeStats>): void {\n      state.stakeStats = {\n        ...state.stakeStats,\n        ...action.payload,\n      }\n    },\n    updateRosePriceHistory(\n      state,\n      action: PayloadAction<RosePriceHistory[]>,\n    ): void {\n      state.rosePriceHistory = action.payload\n    },\n    updateTokensPricesUSD(state, action: PayloadAction<TokenPricesUSD>): void {\n      state.tokenPricesUSD = action.payload\n    },\n    updateLastTransactionTimes(\n      state,\n      action: PayloadAction<LastTransactionTimes>,\n    ): void {\n      state.lastTransactionTimes = {\n        ...state.lastTransactionTimes,\n        ...action.payload,\n      }\n    },\n    updateSwapStats(state, action: PayloadAction<SwapStatsReponse>): void {\n      const formattedPayload = Object.keys(action.payload).reduce(\n        (acc, key) => {\n          const { APY, TVL, oneDayVolume: ODV } = action.payload[key]\n          if (isNaN(APY) || isNaN(TVL) || isNaN(ODV)) {\n            return acc\n          }\n          const apy = APY.toFixed(18)\n          const tvl = TVL.toFixed(18)\n          const oneDayVolume = ODV.toFixed(18)\n          const utilization = (TVL > 0 ? ODV / TVL : 0).toFixed(18)\n          return {\n            ...acc,\n            [key]: {\n              apy,\n              tvl,\n              oneDayVolume,\n              utilization,\n            },\n          }\n        },\n        {},\n      )\n      state.swapStats = formattedPayload\n    },\n  },\n})\n\nexport const {\n  updateGasPrices,\n  updateTokensPricesUSD,\n  updateLastTransactionTimes,\n  updateSwapStats,\n  updateFarmStats,\n  updateStakeStats,\n  updateRosePriceHistory,\n} = applicationSlice.actions\n\nexport default applicationSlice.reducer\n","/* eslint-disable */\nimport { DepositTransaction, TransactionItem } from \"../interfaces/transactions\"\nimport { POOLS_MAP, PoolName, Token, isMetaPool } from \"../constants\"\nimport React, { ReactElement, useEffect, useMemo, useState } from \"react\"\nimport { TokensStateType, useTokenFormState } from \"../hooks/useTokenFormState\"\nimport { formatBNToString, getContract, shiftBNDecimals } from \"../utils\"\nimport usePoolData, { PoolDataType } from \"../hooks/usePoolData\"\n\nimport { AppState } from \"../state\"\nimport { BigNumber } from \"@ethersproject/bignumber\"\nimport { Contract, ContractReceipt } from \"@ethersproject/contracts\"\nimport DepositPage from \"../components/DepositPage\"\nimport FRAX_POOL_DEPOSIT from \"../constants/abis/FraxPoolDeposit.json\"\nimport { TokenPricesUSD } from \"../state/application\"\nimport { Zero } from \"@ethersproject/constants\"\nimport { calculatePriceImpact } from \"../utils/priceImpact\"\nimport { formatGasToString } from \"../utils/gas\"\nimport { parseUnits } from \"@ethersproject/units\"\nimport { useActiveWeb3React } from \"../hooks\"\nimport { useApproveAndDeposit } from \"../hooks/useApproveAndDeposit\"\nimport { usePoolContract } from \"../hooks/useContract\"\nimport { usePoolTokenBalances } from \"../state/wallet/hooks\"\nimport { useSelector } from \"react-redux\"\n\ninterface Props {\n  poolName: PoolName\n}\n\nfunction Deposit({ poolName }: Props): ReactElement | null {\n  const POOL = POOLS_MAP[poolName]\n  const { account, library, chainId } = useActiveWeb3React()\n  const approveAndDeposit = useApproveAndDeposit(poolName)\n  const [poolData, userShareData] = usePoolData(poolName)\n  // const swapContract = useSwapContract(poolName)\n  const poolContract = usePoolContract(poolName)\n  const allTokens = useMemo(() => {\n    return Array.from(\n      new Set(POOL.poolTokens.concat(POOL.underlyingPoolTokens || [])),\n    )\n  }, [POOL.poolTokens, POOL.underlyingPoolTokens])\n  const [tokenFormState, updateTokenFormState] = useTokenFormState(allTokens)\n  const [shouldDepositWrapped, setShouldDepositWrapped] = useState(false)\n  useEffect(() => {\n    // empty out previous token state when switchng between wrapped and unwrapped\n    if (shouldDepositWrapped) {\n      updateTokenFormState(\n        POOL.poolTokens.reduce(\n          (acc, { symbol }) => ({\n            ...acc,\n            [symbol]: \"\",\n          }),\n          {},\n        ),\n      )\n    } else {\n      updateTokenFormState(\n        (POOL.underlyingPoolTokens || []).reduce(\n          (acc, { symbol }) => ({\n            ...acc,\n            [symbol]: \"\",\n          }),\n          {},\n        ),\n      )\n    }\n  }, [\n    shouldDepositWrapped,\n    updateTokenFormState,\n    POOL.poolTokens,\n    POOL.underlyingPoolTokens,\n  ])\n  const tokenBalances = usePoolTokenBalances()\n  const { tokenPricesUSD, gasStandard, gasFast, gasInstant } = useSelector(\n    (state: AppState) => state.application,\n  )\n\n  // Merge underlying token usd prices and tokenPricesUSD array\n  const [underlyingPoolData] = usePoolData(POOL.underlyingPool)\n  let newTokenPricesUSD\n  if (underlyingPoolData.lpTokenPriceUSD != Zero) {\n    const underlyingTokenUSDValue = parseFloat(\n      formatBNToString(poolData.lpTokenPriceUSD, 18, 2),\n    )\n    newTokenPricesUSD = {\n      ...tokenPricesUSD,\n      ...{\n        [underlyingPoolData.lpToken]: underlyingTokenUSDValue,\n      },\n    }\n  }\n\n  const { gasPriceSelected, gasCustom } = useSelector(\n    (state: AppState) => state.user,\n  )\n  const gasPrice = BigNumber.from(\n    formatGasToString(\n      { gasStandard, gasFast, gasInstant },\n      gasPriceSelected,\n      gasCustom,\n    ),\n  )\n  const [estDepositLPTokenAmount, setEstDepositLPTokenAmount] = useState(Zero)\n  const [priceImpact, setPriceImpact] = useState(Zero)\n  const isMetaSwap = isMetaPool(POOL.name)\n  const metaSwapContract = useMemo(() => {\n    if (isMetaSwap && chainId && library) {\n      return getContract(\n        POOL.metaSwapAddresses?.[chainId] as string,\n        JSON.stringify(FRAX_POOL_DEPOSIT),\n        library,\n        account ?? undefined,\n      ) as Contract\n    }\n    return null\n  }, [isMetaSwap, chainId, library, POOL.metaSwapAddresses, account])\n\n  const exceedsWallet = allTokens.some(({ symbol }) => {\n    const exceedsBoolean = (tokenBalances?.[symbol] || Zero).lt(\n      BigNumber.from(tokenFormState[symbol].valueSafe),\n    )\n    return exceedsBoolean\n  })\n\n  useEffect(() => {\n    // evaluate if a new deposit will exceed the pool's per-user limit\n    async function calculateMaxDeposits(): Promise<void> {\n      if (\n        poolContract == null ||\n        userShareData == null ||\n        poolData == null ||\n        account == null ||\n        exceedsWallet\n      ) {\n        setEstDepositLPTokenAmount(Zero)\n        return\n      }\n      const tokenInputSum = parseUnits(\n        allTokens\n          .reduce(\n            (sum, { symbol }) => sum + (+tokenFormState[symbol].valueRaw || 0),\n            0,\n          )\n          .toFixed(18),\n        18,\n      )\n      let depositLPTokenAmount\n      if (poolData.totalLocked.gt(0) && tokenInputSum.gt(0)) {\n        if (shouldDepositWrapped) {\n          depositLPTokenAmount = metaSwapContract\n            ? await metaSwapContract.calc_token_amount(\n                (POOL.underlyingPoolTokens || []).map(({ symbol }) =>\n                  BigNumber.from(tokenFormState[symbol].valueSafe),\n                ),\n                true, // deposit boolean\n              )\n            : Zero\n        } else {\n          const txnAmounts: BigNumber[] = POOL.poolTokens.map((poolToken) => {\n            return BigNumber.from(tokenFormState[poolToken.symbol].valueSafe)\n          })\n          depositLPTokenAmount = await poolContract.calc_token_amount(\n            txnAmounts,\n            true, // deposit boolean\n          )\n        }\n      } else {\n        // when pool is empty, estimate the lptokens by just summing the input instead of calling contract\n        depositLPTokenAmount = tokenInputSum\n      }\n      setEstDepositLPTokenAmount(depositLPTokenAmount)\n\n      setPriceImpact(\n        calculatePriceImpact(\n          tokenInputSum,\n          depositLPTokenAmount,\n          poolData.virtualPrice,\n        ),\n      )\n    }\n    void calculateMaxDeposits()\n  }, [\n    poolData,\n    tokenFormState,\n    poolContract,\n    userShareData,\n    account,\n    POOL.poolTokens,\n    POOL.underlyingPoolTokens,\n    metaSwapContract,\n    shouldDepositWrapped,\n    allTokens,\n    exceedsWallet,\n  ])\n\n  // A represention of tokens used for UI\n  const tokens = (shouldDepositWrapped\n    ? POOL.underlyingPoolTokens || []\n    : POOL.poolTokens\n  ).map(({ symbol, name, icon, decimals }) => ({\n    symbol,\n    name,\n    icon,\n    max: formatBNToString(tokenBalances?.[symbol] || Zero, decimals),\n    inputValue: tokenFormState[symbol].valueRaw,\n  }))\n\n  async function onConfirmTransaction(): Promise<ContractReceipt | void> {\n    const receipt = await approveAndDeposit(\n      tokenFormState,\n      shouldDepositWrapped,\n    )\n    // Clear input after deposit\n    updateTokenFormState(\n      allTokens.reduce(\n        (acc, t) => ({\n          ...acc,\n          [t.symbol]: \"\",\n        }),\n        {},\n      ),\n    )\n\n    return receipt\n  }\n  function updateTokenFormValue(symbol: string, value: string): void {\n    updateTokenFormState({ [symbol]: value })\n  }\n  const depositTransaction = buildTransactionData(\n    tokenFormState,\n    poolData,\n    shouldDepositWrapped ? POOL.underlyingPoolTokens || [] : POOL.poolTokens,\n    POOL.lpToken,\n    priceImpact,\n    estDepositLPTokenAmount,\n    gasPrice,\n    newTokenPricesUSD,\n  )\n\n  return (\n    <DepositPage\n      onConfirmTransaction={onConfirmTransaction}\n      onChangeTokenInputValue={updateTokenFormValue}\n      onToggleDepositWrapped={() =>\n        setShouldDepositWrapped((prevState) => !prevState)\n      }\n      shouldDepositWrapped={shouldDepositWrapped}\n      title={poolName}\n      tokens={tokens}\n      exceedsWallet={exceedsWallet}\n      poolData={poolData}\n      myShareData={userShareData}\n      transactionData={depositTransaction}\n    />\n  )\n}\n\nfunction buildTransactionData(\n  tokenFormState: TokensStateType,\n  poolData: PoolDataType | null,\n  poolTokens: Token[],\n  poolLpToken: Token,\n  priceImpact: BigNumber,\n  estDepositLPTokenAmount: BigNumber,\n  gasPrice: BigNumber,\n  tokenPricesUSD?: TokenPricesUSD,\n): DepositTransaction {\n  const from = {\n    items: [] as TransactionItem[],\n    totalAmount: Zero,\n    totalValueUSD: Zero,\n  }\n  const TOTAL_AMOUNT_DECIMALS = 18\n  poolTokens.forEach((token) => {\n    const { symbol, decimals } = token\n    const amount = BigNumber.from(tokenFormState[symbol].valueSafe)\n    const usdPriceBN = parseUnits(\n      (tokenPricesUSD?.[symbol] || 0).toFixed(2),\n      18,\n    )\n    if (amount.lte(\"0\")) return\n    const item = {\n      token,\n      amount,\n      singleTokenPriceUSD: usdPriceBN,\n      valueUSD: amount.mul(usdPriceBN).div(BigNumber.from(10).pow(decimals)),\n    }\n    from.items.push(item)\n    from.totalAmount = from.totalAmount.add(\n      shiftBNDecimals(amount, TOTAL_AMOUNT_DECIMALS - decimals),\n    )\n    from.totalValueUSD = from.totalValueUSD.add(usdPriceBN)\n  })\n\n  const lpTokenPriceUSD = poolData?.lpTokenPriceUSD || Zero\n  const toTotalValueUSD = estDepositLPTokenAmount\n    .mul(lpTokenPriceUSD)\n    ?.div(BigNumber.from(10).pow(poolLpToken.decimals))\n  const to = {\n    item: {\n      token: poolLpToken,\n      amount: estDepositLPTokenAmount,\n      singleTokenPriceUSD: lpTokenPriceUSD,\n      valueUSD: toTotalValueUSD,\n    },\n    totalAmount: estDepositLPTokenAmount,\n    totalValueUSD: toTotalValueUSD,\n  }\n  const shareOfPool = poolData?.totalLocked.gt(0)\n    ? estDepositLPTokenAmount\n        .mul(BigNumber.from(10).pow(18))\n        .div(estDepositLPTokenAmount.add(poolData?.totalLocked))\n    : BigNumber.from(10).pow(18)\n  // const gasAmount = calculateGasEstimate(\"addLiquidity\").mul(gasPrice) // units of gas * GWEI/Unit of gas\n  const gasAmount = BigNumber.from(0)\n\n  const txnGasCost = {\n    amount: gasAmount,\n    valueUSD: tokenPricesUSD?.ETH\n      ? parseUnits(tokenPricesUSD.ETH.toFixed(2), 18) // USD / ETH  * 10^18\n          .mul(gasAmount) // GWEI\n          .div(BigNumber.from(10).pow(25)) // USD / ETH * GWEI * ETH / GWEI = USD\n      : null,\n  }\n\n  return {\n    from,\n    to,\n    priceImpact,\n    shareOfPool,\n    txnGasCost,\n  }\n}\n\nexport default Deposit\n","/* eslint-disable */\nimport { POOLS_MAP, PoolName, TRANSACTION_TYPES, Token } from \"../constants\"\nimport {\n  useAllContracts,\n  useLPTokenContract,\n  usePoolContract,\n} from \"./useContract\"\nimport { useDispatch, useSelector } from \"react-redux\"\n\nimport { AppState } from \"../state\"\nimport { BigNumber } from \"@ethersproject/bignumber\"\nimport { ContractReceipt } from \"@ethersproject/contracts\"\nimport { Erc20 } from \"../../types/ethers-contracts/Erc20\"\nimport { FraxPoolDeposit } from \"../../types/ethers-contracts/FraxPoolDeposit\"\nimport FRAX_POOL_DEPOSIT from \"../constants/abis/FraxPoolDeposit.json\"\nimport { NumberInputState } from \"../utils/numberInputState\"\nimport { Zero } from \"@ethersproject/constants\"\nimport checkAndApproveTokenForTrade from \"../utils/checkAndApproveTokenForTrade\"\nimport { getContract } from \"../utils\"\nimport { subtractSlippage } from \"../utils/slippage\"\nimport { updateLastTransactionTimes } from \"../state/application\"\nimport { useActiveWeb3React } from \".\"\nimport { useMemo } from \"react\"\n\ninterface ApproveAndDepositStateArgument {\n  [tokenSymbol: string]: NumberInputState\n}\n\nexport function useApproveAndDeposit(\n  poolName: PoolName,\n): (\n  state: ApproveAndDepositStateArgument,\n  shouldDepositWrapped?: boolean,\n) => Promise<ContractReceipt | void> {\n  const dispatch = useDispatch()\n  // const swapContract = useSwapContract(poolName)\n  const poolContract = usePoolContract(poolName)\n  const lpTokenContract = useLPTokenContract(poolName)\n  const tokenContracts = useAllContracts()\n  const { account, chainId, library } = useActiveWeb3React()\n  const { slippageCustom, slippageSelected, infiniteApproval } = useSelector(\n    (state: AppState) => state.user,\n  )\n  const POOL = POOLS_MAP[poolName]\n  const metaSwapContract = useMemo(() => {\n    if (POOL.metaSwapAddresses && chainId && library) {\n      return getContract(\n        POOL.metaSwapAddresses?.[chainId],\n        JSON.stringify(FRAX_POOL_DEPOSIT),\n        library,\n        account ?? undefined,\n      ) as FraxPoolDeposit\n    }\n    return null\n  }, [chainId, library, POOL.metaSwapAddresses, account])\n\n  return async function approveAndDeposit(\n    state: ApproveAndDepositStateArgument,\n    shouldDepositWrapped = false,\n  ): Promise<ContractReceipt | void> {\n    try {\n      if (!account) throw new Error(\"Wallet must be connected\")\n      if (\n        !poolContract ||\n        !lpTokenContract ||\n        (shouldDepositWrapped && !metaSwapContract)\n      )\n        throw new Error(\"Swap contract is not loaded\")\n\n      const poolTokens = shouldDepositWrapped\n        ? (POOL.underlyingPoolTokens as Token[])\n        : POOL.poolTokens\n      const effectiveSwapContract = shouldDepositWrapped\n        ? (metaSwapContract as FraxPoolDeposit)\n        : poolContract\n\n      // const gasPrice = parseUnits(String(gasPriceUnsafe) || \"45\", 9)\n      const gasPrice = Zero\n      const approveSingleToken = async (token: Token): Promise<void> => {\n        const spendingValue = BigNumber.from(state[token.symbol].valueSafe)\n        if (spendingValue.isZero()) return\n        const tokenContract = tokenContracts?.[token.symbol] as Erc20\n        if (tokenContract == null) return\n        await checkAndApproveTokenForTrade(\n          tokenContract,\n          effectiveSwapContract.address,\n          account,\n          spendingValue,\n          infiniteApproval,\n          gasPrice,\n          {\n            onTransactionError: (error) => {\n              console.error(error)\n              throw new Error(\"Your transaction could not be completed\")\n            },\n          },\n        )\n        return\n      }\n      // For each token being deposited, check the allowance and approve it if necessary\n      for (const token of poolTokens) {\n        await approveSingleToken(token)\n      }\n\n      const effectivePoolContract = effectiveSwapContract\n      const txnAmounts: BigNumber[] = poolTokens.map((poolToken) => {\n        return BigNumber.from(state[poolToken.symbol].valueSafe)\n      })\n\n      const isFirstTransaction = (await lpTokenContract.totalSupply()).isZero()\n      let minToMint: BigNumber\n      if (isFirstTransaction) {\n        minToMint = BigNumber.from(\"0\")\n      } else {\n        minToMint = await effectivePoolContract.calc_token_amount(\n          txnAmounts,\n          true, // deposit boolean\n        )\n      }\n\n      minToMint = subtractSlippage(minToMint, slippageSelected, slippageCustom)\n      \n      // const swapFlashLoanContract = effectiveSwapContract as RoseStablesPool\n      const spendTransaction = await effectivePoolContract.add_liquidity(\n        txnAmounts,\n        minToMint,\n        {\n          gasPrice,\n        },\n      )\n\n      // notifyHandler(spendTransaction.hash, \"deposit\")\n\n      const receipt = await spendTransaction.wait()\n      dispatch(\n        updateLastTransactionTimes({\n          [TRANSACTION_TYPES.DEPOSIT]: Date.now(),\n        }),\n      )\n      return receipt\n    } catch (e) {\n      console.error(e)\n      // notifyCustomError(e as Error)\n    }\n  }\n}\n","import {\n  NumberInputState,\n  numberInputStateCreator,\n} from \"../utils/numberInputState\"\nimport React, { useCallback, useMemo } from \"react\"\n\nimport { BigNumber } from \"@ethersproject/bignumber\"\nimport { Token } from \"../constants\"\n\nexport interface TokensStateType {\n  [token: string]: NumberInputState\n}\ntype UpdateTokensStateType = (newState: {\n  [token: string]: string | BigNumber\n}) => void\ntype UseTokenFormStateReturnType = [TokensStateType, UpdateTokensStateType]\n\nexport function useTokenFormState(\n  tokens: Token[],\n): UseTokenFormStateReturnType {\n  // Token input state handlers\n  const tokenInputStateCreators: {\n    [tokenSymbol: string]: ReturnType<typeof numberInputStateCreator>\n  } = useMemo(\n    () =>\n      tokens.reduce(\n        (acc, token) => ({\n          ...acc,\n          [token.symbol]: numberInputStateCreator(\n            token.decimals,\n            BigNumber.from(\"0\"),\n          ),\n        }),\n        {},\n      ),\n    [tokens],\n  )\n\n  // Token input values, both \"raw\" and formatted \"safe\" BigNumbers\n  const [tokenFormState, setTokenFormState] = React.useState<TokensStateType>(\n    tokens.reduce(\n      (acc, token) => ({\n        ...acc,\n        [token.symbol]: tokenInputStateCreators[token.symbol](\"\"),\n      }),\n      {},\n    ),\n  )\n\n  // function updateTokenFormValue(tokenSymbol: string, value: string): void {\n  //   setTokenFormState((prevState) => ({\n  //     ...prevState,\n  //     [tokenSymbol]: tokenInputStateCreators[tokenSymbol](value),\n  //   }))\n  // }\n  const updateTokenFormState = useCallback(\n    (newState: { [symbol: string]: string | BigNumber }) => {\n      const convertedNewState = Object.keys(newState).reduce(\n        (acc, symbol) => ({\n          ...acc,\n          [symbol]: tokenInputStateCreators[symbol](newState[symbol]),\n        }),\n        {},\n      )\n      setTokenFormState((prevState) => ({\n        ...prevState,\n        ...convertedNewState,\n      }))\n    },\n    [tokenInputStateCreators],\n  )\n\n  return [tokenFormState, updateTokenFormState]\n}\n","/* eslint-disable */\nimport { motion } from \"framer-motion\"\nimport { useEffect, useRef, useState } from \"react\"\nimport useWindowSize from \"../hooks/useWindowSize\"\nimport \"./AnimatingNumber.scss\"\n\nfunction usePrevious(value) {\n  const ref = useRef()\n\n  useEffect(() => {\n    ref.current = value\n  })\n\n  return ref.current\n}\n\nfunction formatForDisplay(number = 0, precision = 2) {\n  return parseFloat(Math.max(number, 0)).toFixed(precision).split(\"\").reverse()\n}\n\nfunction DecimalColumn() {\n  return (\n    <div>\n      <div>.</div>\n    </div>\n  )\n}\n\nfunction NumberColumn({ digit, delta }) {\n  const [position, setPosition] = useState(0)\n  const [animationClass, setAnimationClass] = useState(null)\n  const previousDigit = usePrevious(digit)\n  const columnContainer = useRef()\n  const [width, height] = useWindowSize()\n\n  const setColumnToNumber = (number) => {\n    setPosition(columnContainer.current.clientHeight * parseInt(number, 10))\n  }\n\n  useEffect(() => setAnimationClass(previousDigit !== digit ? delta : \"\"), [\n    digit,\n    delta,\n  ])\n  useEffect(() => setColumnToNumber(digit), [digit, width, height])\n\n  return (\n    <div className=\"ticker-column-container\" ref={columnContainer}>\n      <motion.div\n        animate={{ y: position }}\n        className={`ticker-column ${animationClass}`}\n        onAnimationComplete={() => setAnimationClass(\"\")}\n      >\n        {[9, 8, 7, 6, 5, 4, 3, 2, 1, 0].map((num) => (\n          <div key={num} className=\"ticker-digit\">\n            {num}\n          </div>\n        ))}\n      </motion.div>\n      <span className=\"number-placeholder\">0</span>\n    </div>\n  )\n}\n\nexport default function AnimatingNumber({ value, precision = 2 }) {\n  const numArray = formatForDisplay(value, precision)\n  const previousNumber = usePrevious(value)\n\n  let delta = null\n  if (value > previousNumber) delta = \"increase\"\n  if (value < previousNumber) delta = \"decrease\"\n\n  return (\n    <motion.div layout className=\"ticker-view\">\n      {numArray.map((number, index) =>\n        number === \".\" ? (\n          <DecimalColumn key={index} />\n        ) : (\n          <NumberColumn key={index} digit={number} delta={delta} />\n        ),\n      )}\n    </motion.div>\n  )\n}\n","import { useLayoutEffect, useState } from \"react\"\n\nexport default function useWindowSize(): [number, number] {\n  const [size, setSize] = useState<[number, number]>([0, 0])\n  useLayoutEffect(() => {\n    function updateSize() {\n      setSize([window.innerWidth, window.innerHeight])\n    }\n    window.addEventListener(\"resize\", updateSize)\n    updateSize()\n    return () => window.removeEventListener(\"resize\", updateSize)\n  }, [])\n  return size\n}\n","import React, { ReactElement } from \"react\"\nimport BackButton from \"./BackButton\"\nimport styles from \"./FarmFooter.module.scss\"\n\nconst FarmFooter = (): ReactElement => {\n  return (\n    <div className={styles.farmFooter}>\n      <BackButton\n        route=\"/farms\"\n        wrapperClass={styles.goBack}\n        buttonText=\"Go back to farms\"\n      />\n    </div>\n  )\n}\n\nexport default FarmFooter\n","// TODO: create types\n/* eslint @typescript-eslint/no-unsafe-member-access: 0 */\n/* eslint @typescript-eslint/no-unsafe-call: 0 */\n/* eslint @typescript-eslint/no-unsafe-assignment: 0 */\n/* eslint @typescript-eslint/no-explicit-any: 0 */\nimport {\n  Button,\n  FormControl,\n  FormErrorMessage,\n  Input,\n  InputGroup,\n  InputLeftElement,\n  InputRightElement,\n  Text,\n} from \"@chakra-ui/react\"\nimport { Field, FieldAttributes, Form, Formik } from \"formik\"\nimport React, { ReactElement, ReactNode } from \"react\"\nimport { AppState } from \"../state\"\nimport { ContractReceipt } from \"@ethersproject/contracts\"\nimport parseStringToBigNumber from \"../utils/parseStringToBigNumber\"\nimport styles from \"./StakeForm.module.scss\"\nimport { useSelector } from \"react-redux\"\nimport { useTranslation } from \"react-i18next\"\n\ninterface Props {\n  fieldName: string\n  token: string\n  tokenIcon: string\n  max: string\n  isLoading: boolean\n  submitButtonLabel: string\n  formDescription?: ReactNode\n  handleSubmit: (amount: string) => Promise<ContractReceipt | void>\n  validator: (amount: string) => string | undefined\n  handlePreSubmit?: () => void\n  handlePostSubmit?: (receipt: ContractReceipt | null) => void\n  handleInputChanged?: (value: string) => void\n}\nfunction StakeForm(props: Props): ReactElement {\n  const { t } = useTranslation()\n  const { userDarkMode } = useSelector((state: AppState) => state.user)\n  const {\n    fieldName,\n    token,\n    tokenIcon,\n    max,\n    isLoading,\n    submitButtonLabel,\n    formDescription,\n    handleSubmit,\n    handleInputChanged,\n    handlePreSubmit,\n    handlePostSubmit,\n    validator,\n  } = props\n  return (\n    <div className={styles.inputContainer}>\n      <Formik\n        initialValues={{ [fieldName]: \"\" }}\n        onSubmit={async (values, actions) => {\n          handlePreSubmit?.()\n          const valueSafe = parseStringToBigNumber(values?.[fieldName], 18)\n          actions.resetForm({ values: { [fieldName]: \"\" } })\n          const receipt = (await handleSubmit(\n            valueSafe.value.toString(),\n          )) as ContractReceipt\n          handlePostSubmit?.(receipt)\n        }}\n      >\n        {(props) => (\n          <Form>\n            <Field name={fieldName} validate={validator}>\n              {({ field, form }: FieldAttributes<any>) => (\n                <FormControl\n                  padding=\"10px\"\n                  bgColor={\n                    userDarkMode\n                      ? \"rgba(28, 29, 33, 0.4)\"\n                      : \"rgba(245, 239, 239, 0.6)\"\n                  }\n                  borderRadius=\"10px\"\n                  isInvalid={\n                    form.errors?.[fieldName] && form.touched?.[fieldName]\n                  }\n                >\n                  <InputGroup>\n                    <InputLeftElement\n                      pointerEvents=\"none\"\n                      color=\"gray.300\"\n                      fontSize=\"2em\"\n                      marginLeft=\"5px\"\n                    >\n                      <img src={tokenIcon} alt=\"roseIcon\" />\n                    </InputLeftElement>\n                    <Input\n                      {...field}\n                      paddingLeft=\"60px\"\n                      autoComplete=\"off\"\n                      autoCorrect=\"off\"\n                      type=\"text\"\n                      isInvalid={form.errors?.[fieldName]}\n                      placeholder=\"0.0\"\n                      variant=\"primary\"\n                      onChange={(e) => {\n                        props.handleChange(e)\n                        handleInputChanged?.(e.target.value)\n                      }}\n                    />\n                    <InputRightElement width=\"6rem\" padding=\"10px\">\n                      <Button\n                        variant=\"light\"\n                        size=\"sm\"\n                        onClick={() => {\n                          handleInputChanged?.(max)\n                          props.setFieldTouched(fieldName, true)\n                          props.setFieldValue(fieldName, max)\n                        }}\n                      >\n                        {t(\"max\")}\n                      </Button>\n                    </InputRightElement>\n                  </InputGroup>\n                  {props.isValid && props.dirty ? (\n                    <Text mt=\"5px\" fontSize=\"sm\" as=\"p\">\n                      You are about to {fieldName} ≈{+props.values?.[fieldName]}{\" \"}\n                      {token} {\"Token\"}\n                    </Text>\n                  ) : (\n                    <FormErrorMessage color=\"#cc3a59\">\n                      {form.errors?.[fieldName]}\n                    </FormErrorMessage>\n                  )}\n                </FormControl>\n              )}\n            </Field>\n            {formDescription && (\n              <div className={styles.stakeInfoContainer}>\n                <div className={styles.infoMessage}>\n                  <span>{formDescription}</span>\n                </div>\n              </div>\n            )}\n\n            <div className={styles.submitButton}>\n              <Button\n                variant=\"primary\"\n                isLoading={isLoading}\n                size=\"lg\"\n                width=\"100%\"\n                type=\"submit\"\n                disabled={!props.isValid || !props.dirty}\n              >\n                {props.isValid ? submitButtonLabel : props.errors?.[fieldName]}\n              </Button>\n              <div className={styles.approvalMessage}>\n                Note: The &quot;Approve&quot; transaction is only needed the\n                first time; subsequent actions will not require approval.\n              </div>\n            </div>\n          </Form>\n        )}\n      </Formik>\n    </div>\n  )\n}\n\nexport default StakeForm\n","import { BigNumber } from \"@ethersproject/bignumber\"\nimport { Erc20 } from \"../../types/ethers-contracts/Erc20\"\nimport { RoseFraxLP } from \"../../types/ethers-contracts/RoseFraxLP\"\nimport { RoseStablesLP } from \"../../types/ethers-contracts/RoseStablesLP\"\n\nexport default async function checkTokenAllowance(\n  srcTokenContract: Erc20 | RoseStablesLP | RoseFraxLP | null,\n  swapAddress: string,\n  spenderAddress: string,\n  spendingValue: BigNumber,\n): Promise<boolean> {\n  if (srcTokenContract == null) return false\n  if (spendingValue.eq(0)) return false\n\n  const existingAllowance = await srcTokenContract.allowance(\n    spenderAddress,\n    swapAddress,\n  )\n\n  if (existingAllowance.gte(spendingValue)) return true\n\n  return false\n}\n","import { Erc20 } from \"../../types/ethers-contracts/Erc20\"\nimport { RoseFraxLP } from \"../../types/ethers-contracts/RoseFraxLP\"\nimport { RoseStablesFarm } from \"../../types/ethers-contracts/RoseStablesFarm\"\nimport { RoseStablesLP } from \"../../types/ethers-contracts/RoseStablesLP\"\nimport checkTokenAllowance from \"../utils/checkTokenAllowance\"\nimport parseStringToBigNumber from \"../utils/parseStringToBigNumber\"\nimport { useActiveWeb3React } from \".\"\nimport { useState } from \"react\"\n\nexport function useCheckTokenRequiresApproval(\n  srcTokenContract: Erc20 | RoseStablesLP | RoseFraxLP | null,\n  dstTokenContract: RoseStablesFarm | Erc20 | null,\n  timeout = 500,\n): [boolean, boolean, (spendingValue: string) => void] {\n  const { account } = useActiveWeb3React()\n  const [approved, setApproved] = useState<boolean>(false)\n  const [loading, setLoading] = useState<boolean>(false)\n  const [timer, setTimer] = useState<NodeJS.Timer>()\n  const checkApproval = function tokenRequiresApproval(\n    spendingValue: string,\n  ): void {\n    try {\n      if (!account) throw new Error(\"Wallet must be connected\")\n      if (!srcTokenContract || !dstTokenContract)\n        throw new Error(\"Contracts are not loaded\")\n      const valueSafe = parseStringToBigNumber(spendingValue, 18)\n      clearTimeout(timer as NodeJS.Timer)\n      setLoading(true)\n      const newTimer = setTimeout(() => {\n        checkTokenAllowance(\n          srcTokenContract,\n          dstTokenContract.address,\n          account,\n          valueSafe.value,\n        )\n          .then((isApproved) => {\n            setApproved(isApproved)\n            setLoading(false)\n          })\n          .catch((e) => console.error(e))\n      }, timeout)\n      setTimer(newTimer)\n    } catch (e) {\n      console.error(e)\n    }\n  }\n  return [approved, loading, checkApproval]\n}\n","import { FARMS_MAP, FarmName } from \"../constants\"\nimport React, { ReactElement } from \"react\"\nimport { Tab, TabList, TabPanel, TabPanels, Tabs } from \"@chakra-ui/react\"\nimport { Trans, useTranslation } from \"react-i18next\"\nimport {\n  useFarmContract,\n  useLPTokenContractForFarm,\n} from \"../hooks/useContract\"\nimport { AppState } from \"../state\"\nimport { BigNumber } from \"@ethersproject/bignumber\"\nimport { ContractReceipt } from \"@ethersproject/contracts\"\nimport { ModalType } from \"./ConfirmTransaction\"\nimport StakeForm from \"./StakeForm\"\nimport { Zero } from \"@ethersproject/constants\"\nimport { formatBNToString } from \"../utils\"\nimport { parseUnits } from \"@ethersproject/units\"\nimport styles from \"./FarmTabs.module.scss\"\nimport { useApproveAndDepositFarm } from \"../hooks/useApproveAndDepositFarm\"\nimport { useCheckTokenRequiresApproval } from \"../hooks/useCheckTokenRequiresApproval\"\nimport { useSelector } from \"react-redux\"\nimport { useWithdrawFarm } from \"../hooks/useWithdrawFarm\"\n\ninterface Props {\n  lpTokenName: string\n  lpTokenIcon: string\n  balance: BigNumber\n  deposited: BigNumber\n  farmName: FarmName\n  poolName: string\n  handleModal: (\n    modalType: ModalType,\n    txnType?: string,\n    txnHash?: string,\n  ) => void\n}\n\nconst FarmTabs = (props: Props): ReactElement => {\n  const {\n    lpTokenName,\n    balance,\n    deposited,\n    farmName,\n    lpTokenIcon,\n    poolName,\n    handleModal,\n  } = props\n  const { t } = useTranslation()\n  const { userDarkMode } = useSelector((state: AppState) => state.user)\n  const farm = useApproveAndDepositFarm(farmName)\n  const withdraw = useWithdrawFarm(farmName)\n  const { poolUrl, isRose } = FARMS_MAP[farmName]\n  const farmContract = useFarmContract(farmName)\n  const lpTokenContract = useLPTokenContractForFarm(farmName)\n\n  const [\n    approved,\n    loading,\n    checkLpTokenApproved,\n  ] = useCheckTokenRequiresApproval(lpTokenContract, farmContract)\n\n  const validateBalance = (amount: string) => {\n    const generalValidation = validateAmount(amount)\n    if (generalValidation) {\n      return generalValidation\n    }\n    if (parseUnits(amount, 18).gt(balance)) {\n      return t(\"insufficientBalance\")\n    }\n  }\n\n  const validateDeposited = (amount: string) => {\n    const generalValidation = validateAmount(amount)\n    if (generalValidation) {\n      return generalValidation\n    }\n    if (parseUnits(amount, 18).gt(deposited)) {\n      return t(\"insufficientBalance\")\n    }\n  }\n\n  const validateAmount = (amount: string) => {\n    const decimalRegex = /^[0-9]\\d*(\\.\\d{1,18})?$/\n    if (!amount) {\n      return t(\"You must enter a value.\")\n    }\n    if (!decimalRegex.exec(amount)) {\n      return t(\"Invalid number.\")\n    }\n    if (parseUnits(amount, 18).lte(Zero)) {\n      return t(\"Enter a positive amount.\")\n    }\n    return null\n  }\n\n  const postDeposit = (receipt: ContractReceipt | null) => {\n    if (receipt?.status) {\n      handleModal(ModalType.SUCCESS, t(\"deposit\"))\n    } else {\n      handleModal(ModalType.FAILED, t(\"deposit\"), receipt?.transactionHash)\n    }\n  }\n\n  const postWithdraw = (receipt: ContractReceipt | null) => {\n    if (receipt?.status) {\n      handleModal(ModalType.SUCCESS, t(\"Withdraw\"))\n    } else {\n      handleModal(ModalType.FAILED, t(\"Withdraw\"), receipt?.transactionHash)\n    }\n  }\n\n  return (\n    <div className={styles.farmTabs}>\n      <Tabs\n        isFitted\n        variant=\"primary\"\n        bgColor={\n          userDarkMode ? \"rgba(28, 29, 33, 0.3)\" : \"rgba(242, 236, 236, 0.8)\"\n        }\n        borderRadius=\"10px\"\n        height=\"100%\"\n      >\n        <TabList mb=\"1em\">\n          <Tab>{t(\"deposit\")}</Tab>\n          <Tab>{t(\"Withdraw\")}</Tab>\n        </TabList>\n        <TabPanels>\n          <TabPanel>\n            <h4 className={styles.farmTitle}>\n              {t(\"farm\")} {lpTokenName}\n            </h4>\n            <StakeForm\n              fieldName={\"deposit\"}\n              token={lpTokenName}\n              tokenIcon={lpTokenIcon}\n              submitButtonLabel={\n                approved\n                  ? t(\"deposit\")\n                  : t(\"approveAnd\", { action: t(\"deposit\") })\n              }\n              isLoading={loading}\n              formDescription={\n                isRose ? (\n                  <Trans t={t} i18nKey=\"farmDescription\">\n                    {{ tokenName: lpTokenName }}\n                    <a href={poolUrl} style={{ margin: 0, fontWeight: \"bold\" }}>\n                      {{ poolName: poolName }}\n                    </a>\n                  </Trans>\n                ) : (\n                  <Trans t={t} i18nKey=\"farmDescription\">\n                    {{ tokenName: lpTokenName }}\n                    <a\n                      href={poolUrl}\n                      target=\"_blank\"\n                      rel=\"noreferrer\"\n                      style={{ margin: 0, fontWeight: \"bold\" }}\n                    >\n                      {{ poolName: poolName }}\n                      <sup>{{ externalUrlArrow: \"↗\" }}</sup>\n                    </a>\n                  </Trans>\n                )\n              }\n              max={formatBNToString(balance || Zero, 18, 18)}\n              handleSubmit={farm}\n              handlePostSubmit={postDeposit}\n              handlePreSubmit={() => handleModal(ModalType.CONFIRM)}\n              handleInputChanged={checkLpTokenApproved}\n              validator={validateBalance}\n            />\n          </TabPanel>\n          <TabPanel>\n            <h4 className={styles.farmTitle}>\n              {t(\"Withdraw\")} {lpTokenName}\n            </h4>\n            <StakeForm\n              fieldName={\"withdraw\"}\n              token={lpTokenName}\n              tokenIcon={lpTokenIcon}\n              isLoading={false}\n              submitButtonLabel={t(\"Withdraw\")}\n              formDescription={\n                isRose ? (\n                  <Trans t={t} i18nKey=\"farmDescription\">\n                    {{ tokenName: lpTokenName }}\n                    <a href={poolUrl} style={{ margin: 0, fontWeight: \"bold\" }}>\n                      {{ poolName: poolName }}\n                    </a>\n                  </Trans>\n                ) : (\n                  <Trans t={t} i18nKey=\"farmDescription\">\n                    {{ tokenName: lpTokenName }}\n                    <a\n                      href={poolUrl}\n                      target=\"_blank\"\n                      rel=\"noreferrer\"\n                      style={{ margin: 0, fontWeight: \"bold\" }}\n                    >\n                      {{ poolName: poolName }}\n                      <sup>{{ externalUrlArrow: \"↗\" }}</sup>\n                    </a>\n                  </Trans>\n                )\n              }\n              max={formatBNToString(deposited || Zero, 18, 18)}\n              handleSubmit={withdraw}\n              validator={validateDeposited}\n              handlePostSubmit={postWithdraw}\n              handlePreSubmit={() => handleModal(ModalType.CONFIRM)}\n            />\n          </TabPanel>\n        </TabPanels>\n      </Tabs>\n    </div>\n  )\n}\n\nexport default FarmTabs\n","import { FarmName, TRANSACTION_TYPES } from \"../constants\"\nimport { useFarmContract, useLPTokenContractForFarm } from \"./useContract\"\nimport { BigNumber } from \"@ethersproject/bignumber\"\nimport { ContractReceipt } from \"@ethersproject/contracts\"\nimport { RoseStablesFarm } from \"../../types/ethers-contracts/RoseStablesFarm\"\nimport { Zero } from \"@ethersproject/constants\"\nimport checkAndApproveTokenForTrade from \"../utils/checkAndApproveTokenForTrade\"\nimport { updateLastTransactionTimes } from \"../state/application\"\nimport { useActiveWeb3React } from \".\"\nimport { useDispatch } from \"react-redux\"\n\nexport function useApproveAndDepositFarm(\n  farmName: FarmName,\n): (amount: string) => Promise<ContractReceipt | void> {\n  const dispatch = useDispatch()\n  const farmContract = useFarmContract(farmName) as RoseStablesFarm\n  const lpTokenContract = useLPTokenContractForFarm(farmName)\n  const { account } = useActiveWeb3React()\n  return async function approveAndStake(\n    amount: string,\n  ): Promise<ContractReceipt | void> {\n    try {\n      if (!account) throw new Error(\"Wallet must be connected\")\n      if (!farmContract) throw new Error(\"Farm contract is not loaded\")\n      if (!lpTokenContract) throw new Error(\"LP Token contract is not loaded\")\n      const gasPrice = Zero\n      const amountToStake = BigNumber.from(amount)\n      await checkAndApproveTokenForTrade(\n        lpTokenContract,\n        farmContract.address,\n        account,\n        amountToStake,\n        true,\n        gasPrice,\n        {\n          onTransactionError: (error) => {\n            console.error(error)\n            throw new Error(\"Your transaction could not be completed\")\n          },\n        },\n      )\n      const tx = await farmContract.stake(amountToStake)\n      const receipt = await tx.wait()\n      dispatch(\n        updateLastTransactionTimes({\n          [TRANSACTION_TYPES.DEPOSIT]: Date.now(),\n        }),\n      )\n      return receipt\n    } catch (e) {\n      console.error(e)\n    }\n  }\n}\n","import { FarmName, TRANSACTION_TYPES } from \"../constants\"\nimport { BigNumber } from \"@ethersproject/bignumber\"\nimport { ContractReceipt } from \"@ethersproject/contracts\"\nimport { updateLastTransactionTimes } from \"../state/application\"\nimport { useActiveWeb3React } from \".\"\nimport { useDispatch } from \"react-redux\"\nimport { useFarmContract } from \"./useContract\"\n\nexport function useWithdrawFarm(\n  farmName: FarmName,\n): (amount: string) => Promise<ContractReceipt | void> {\n  const dispatch = useDispatch()\n  const farmContract = useFarmContract(farmName)\n  const { account } = useActiveWeb3React()\n  return async function approveAndStake(\n    amount: string,\n  ): Promise<ContractReceipt | void> {\n    try {\n      if (!account) throw new Error(\"Wallet must be connected\")\n      if (!farmContract) throw new Error(\"Rose contract is not loaded\")\n      const amountToWithdraw = BigNumber.from(amount)\n      const tx = await farmContract.withdraw(amountToWithdraw)\n      const receipt = await tx.wait()\n      dispatch(\n        updateLastTransactionTimes({\n          [TRANSACTION_TYPES.WITHDRAW]: Date.now(),\n        }),\n      )\n      return receipt\n    } catch (e) {\n      console.error(e)\n    }\n  }\n}\n","export default __webpack_public_path__ + \"static/media/terra-luna-logo.bd9a09bd.svg\";","import {\n  Box,\n  Button,\n  Flex,\n  IconButton,\n  Text,\n  useColorModeValue,\n} from \"@chakra-ui/react\"\nimport ConfirmTransaction, {\n  ConfirmTransactionProps,\n  ModalType,\n} from \"./ConfirmTransaction\"\nimport React, { ReactElement, useState } from \"react\"\nimport { Trans, useTranslation } from \"react-i18next\"\nimport { commify, formatBNToShortString, formatBNToString } from \"../utils\"\nimport AnimatingNumber from \"./AnimateNumber\"\nimport { AppState } from \"../state\"\nimport { BigNumber } from \"@ethersproject/bignumber\"\nimport { FaGift } from \"react-icons/fa\"\nimport FarmFooter from \"./FarmFooter\"\nimport { FarmName } from \"../constants\"\nimport FarmTabs from \"./FarmTabs\"\n// import HarvestRewards from \"./HarvestRewards\"\nimport Modal from \"./Modal\"\nimport StakeDetails from \"./StakeDetails\"\nimport { getEtherscanLink } from \"../utils/getEtherscanLink\"\nimport roseIcon from \"../assets/icons/rose.svg\"\nimport styles from \"./FarmPage.module.scss\"\nimport terraLunaIcon from \"../assets/icons/terra-luna-logo.svg\"\nimport useClaimReward from \"../hooks/useClaimReward\"\nimport useEarnedRewards from \"../hooks/useEarnedRewards\"\nimport useFarmExit from \"../hooks/useFarmExit\"\nimport { useSelector } from \"react-redux\"\n\ninterface Props {\n  lpTokenName: string\n  lpTokenIcon: string\n  balance: BigNumber\n  deposited: BigNumber\n  farmName: FarmName\n  poolName: string\n}\n\nconst FarmPage = (props: Props): ReactElement => {\n  const { lpTokenName, lpTokenIcon, balance, deposited, farmName } = props\n  const formattedBalance = commify(formatBNToString(balance, 18, 5))\n  const formattedDeposited = commify(formatBNToString(deposited, 18, 5))\n  const { farmStats } = useSelector((state: AppState) => state.application)\n  const { roseRewards, dualRewards, totalRewards } = useEarnedRewards(\n    farmName,\n    farmStats?.[farmName].dualReward.address,\n  )\n  const rewardsEarned = totalRewards ? totalRewards : roseRewards\n  const exit = useFarmExit(farmName)\n  const getReward = useClaimReward(farmName)\n  const [\n    currentModal,\n    setCurrentModal,\n  ] = useState<ConfirmTransactionProps | null>(null)\n  const tvl = farmStats?.[farmName]?.tvl\n  const formattedTvl = tvl\n    ? `$${formatBNToShortString(BigNumber.from(tvl), 18)}`\n    : \"-\"\n  const apr = farmStats?.[farmName]?.apr || \"-\"\n  const dualRewardApr = farmStats?.[farmName]?.dualReward.apr\n  const dualRewardTokenName = farmStats?.[farmName]?.dualReward.token\n  const { t } = useTranslation()\n\n  const updateModal = (\n    modalType: ModalType,\n    txnType?: string,\n    txnHash?: string,\n  ): void => {\n    switch (modalType) {\n      case ModalType.CONFIRM:\n        setCurrentModal({ type: ModalType.CONFIRM })\n        break\n      case ModalType.SUCCESS:\n        setCurrentModal({\n          type: ModalType.SUCCESS,\n          title: t(\"successTitle\"),\n          description: t(\"txConfirmed\", { tx: txnType }),\n        })\n        break\n      case ModalType.FAILED:\n        setCurrentModal({\n          type: ModalType.FAILED,\n          title: t(\"failedTitle\"),\n          description: !txnHash\n            ? t(\"txFailed_internal\", { tx: txnType })\n            : undefined,\n          children: txnHash ? (\n            <Trans i18nKey=\"txFailed\" t={t}>\n              {{ tx: txnType }}\n              <a\n                href={getEtherscanLink(txnHash, \"tx\")}\n                target=\"_blank\"\n                rel=\"noreferrer\"\n                style={{ textDecoration: \"underline\", margin: 0 }}\n              >\n                blockscout.\n              </a>\n            </Trans>\n          ) : null,\n        })\n        break\n      case ModalType.APPROVE:\n        setCurrentModal({\n          type: ModalType.APPROVE,\n          title: t(\"chooseOption\"),\n          description: `Use the Harvest Rewards action to redeem all rewards from this farm. Use the Withdraw & Harvest action to redeem all rewards as well as withdraw your LP Token balance of ${formattedDeposited}.`,\n        })\n        break\n      default:\n        break\n    }\n  }\n\n  return (\n    <div className={styles.farmPage}>\n      <Modal\n        isOpen={!!currentModal}\n        onClose={(): void => setCurrentModal(null)}\n      >\n        <ConfirmTransaction {...currentModal}>\n          <Box\n            bg=\"var(--secondary-background)\"\n            borderRadius=\"10px\"\n            p=\"15px\"\n            mt=\"30px\"\n          >\n            <Flex justifyContent=\"center\">\n              <Text as=\"p\" color=\"var(--text-lighter)\">\n                Current Rewards\n              </Text>\n            </Flex>\n            <Flex justifyContent=\"center\">\n              <Box bg=\"#cc3a59\" borderRadius=\"5px\" p=\"20px\" mt=\"5px\">\n                <Text as=\"h3\" color=\"white\">\n                  {(+rewardsEarned).toFixed(8)}\n                </Text>\n              </Box>\n            </Flex>\n            <Box mt=\"20px\">\n              <Flex\n                justifyContent=\"space-between\"\n                mb=\"10px\"\n                alignItems=\"center\"\n                flexWrap=\"wrap\"\n              >\n                <Flex alignItems=\"center\">\n                  <Box width=\"40px\">\n                    <img alt=\"icon\" src={roseIcon} width=\"100%\" />\n                  </Box>\n                  <Text as=\"p\">ROSE:</Text>\n                </Flex>\n                <Text as=\"b\">{(+roseRewards).toFixed(8)}</Text>\n              </Flex>\n              {dualRewardApr && dualRewardTokenName ? (\n                <Flex\n                  justifyContent=\"space-between\"\n                  alignItems=\"center\"\n                  flexWrap=\"wrap\"\n                >\n                  <Flex alignItems=\"center\">\n                    <Box width=\"40px\" mr=\"3px\">\n                      <img alt=\"icon\" src={terraLunaIcon} width=\"100%\" />\n                    </Box>\n                    <Text as=\"p\">{dualRewardTokenName}:</Text>\n                  </Flex>\n                  <Text as=\"b\">\n                    {dualRewards ? (+dualRewards).toFixed(8) : \"0.0\"}\n                  </Text>\n                </Flex>\n              ) : null}\n            </Box>\n          </Box>\n          {currentModal?.type === ModalType.APPROVE ? (\n            <div className={styles.approveButtons}>\n              <Button\n                p=\"20px\"\n                variant=\"primary\"\n                onClick={async () => {\n                  updateModal(ModalType.CONFIRM)\n                  const receipt = await getReward()\n                  if (receipt?.status) {\n                    updateModal(ModalType.SUCCESS, t(\"harvestRewards\"))\n                  } else {\n                    updateModal(\n                      ModalType.FAILED,\n                      t(\"harvestRewards\"),\n                      receipt?.transactionHash,\n                    )\n                  }\n                }}\n              >\n                {t(\"harvestRewards\")}\n              </Button>\n              <Button\n                variant=\"outline\"\n                onClick={async () => {\n                  updateModal(ModalType.CONFIRM)\n                  const receipt = await exit()\n                  if (receipt?.status) {\n                    updateModal(ModalType.SUCCESS, t(\"withdrawAndHarvest\"))\n                  } else {\n                    updateModal(\n                      ModalType.FAILED,\n                      t(\"withdrawAndHarvest\"),\n                      receipt?.transactionHash,\n                    )\n                  }\n                }}\n              >\n                {t(\"withdrawAndHarvest\")}\n              </Button>\n            </div>\n          ) : null}\n        </ConfirmTransaction>\n      </Modal>\n      <FarmTabs {...props} handleModal={updateModal} />\n      <div className={styles.stakeDetailsContainer}>\n        <StakeDetails\n          extraStakeDetailChild={\n            <>\n              <IconButton\n                aria-label=\"Harvest Rewards\"\n                variant=\"primary\"\n                size=\"lg\"\n                disabled={+rewardsEarned <= 0}\n                onClick={() => updateModal(ModalType.APPROVE)}\n                icon={<FaGift size=\"30px\" />}\n                title=\"Harvest Rewards\"\n              />\n              <AnimatingNumber\n                value={+rewardsEarned}\n                precision={+rewardsEarned ? 5 : 1}\n              ></AnimatingNumber>\n            </>\n          }\n          balanceView={{\n            title: t(\"balance\"),\n            items: [\n              {\n                tokenName: lpTokenName,\n                icon: lpTokenIcon,\n                amount: formattedBalance,\n              },\n            ],\n          }}\n          stakedView={{\n            title: t(\"deposited\"),\n            items: [\n              {\n                tokenName: lpTokenName,\n                icon: lpTokenIcon,\n                amount: formattedDeposited,\n              },\n            ],\n          }}\n          stats={[\n            {\n              statLabel: \"TVL\",\n              statValue: formattedTvl,\n            },\n            {\n              statLabel: \"APR\",\n              statValue: farmStats?.[farmName]?.apr\n                ? `${(\n                    +apr.slice(0, -1) + +(dualRewardApr?.slice(0, -1) || 0)\n                  ).toString()}%`\n                : \"-\",\n              statPopOver: (\n                <Flex\n                  flexDirection=\"column\"\n                  color={useColorModeValue(\"#555555\", \"#bbbbbb\")}\n                >\n                  <Flex justifyContent=\"space-between\">\n                    <Box>ROSE APR</Box>\n                    <Box>{apr}</Box>\n                  </Flex>\n                  {dualRewardApr && dualRewardTokenName ? (\n                    <Flex justifyContent=\"space-between\">\n                      <Box>{dualRewardTokenName} APR</Box>\n                      <Box>{dualRewardApr}</Box>\n                    </Flex>\n                  ) : null}\n                </Flex>\n              ),\n            },\n          ]}\n        />\n      </div>\n      <FarmFooter />\n    </div>\n  )\n}\n\nexport default FarmPage\n","import { BLOCK_TIME, FarmName } from \"../constants\"\nimport { useFarmContract, useRoseContract } from \"./useContract\"\nimport { Zero } from \"@ethersproject/constants\"\nimport { formatBNToString } from \"../utils\"\nimport { useActiveWeb3React } from \".\"\nimport usePoller from \"./usePoller\"\nimport { useState } from \"react\"\n\ninterface EarnedRewards {\n  roseRewards: string\n  totalRewards?: string\n  dualRewards?: string\n}\n\nexport default function useEarnedRewards(\n  farmName: FarmName,\n  dualRewardAddress?: string,\n): EarnedRewards {\n  const { account } = useActiveWeb3React()\n\n  const [rewardsEarned, setRewardsEarned] = useState<EarnedRewards>({\n    roseRewards: \"\",\n    totalRewards: \"\",\n    dualRewards: \"\",\n  })\n  const roseContract = useRoseContract()\n  const farmContract = useFarmContract(farmName)\n\n  usePoller(() => {\n    async function pollRewards(): Promise<void> {\n      if (!account) throw new Error(\"Wallet must be connected\")\n      if (!farmContract || !roseContract)\n        throw new Error(\"Contracts are not loaded\")\n\n      const roseEarned = await farmContract.earned(\n        account,\n        roseContract.address,\n      )\n\n      setRewardsEarned((prevState) => ({\n        ...prevState,\n        roseRewards: formatBNToString(roseEarned || Zero, 18),\n      }))\n\n      if (dualRewardAddress) {\n        const dualRewardEarned = await farmContract.earned(\n          account,\n          dualRewardAddress,\n        )\n        setRewardsEarned((prevState) => ({\n          ...prevState,\n          dualRewards: formatBNToString(dualRewardEarned || Zero, 18),\n        }))\n        setRewardsEarned((prevState) => ({\n          ...prevState,\n          totalRewards: formatBNToString(\n            dualRewardEarned.add(roseEarned) || Zero,\n            18,\n          ),\n        }))\n      }\n    }\n    if (account) {\n      void pollRewards()\n    }\n  }, BLOCK_TIME)\n\n  return rewardsEarned\n}\n","import { FarmName, TRANSACTION_TYPES } from \"../constants\"\nimport { ContractReceipt } from \"@ethersproject/contracts\"\nimport { updateLastTransactionTimes } from \"../state/application\"\nimport { useActiveWeb3React } from \".\"\nimport { useDispatch } from \"react-redux\"\nimport { useFarmContract } from \"./useContract\"\n\nexport default function useFarmExit(\n  farmName: FarmName,\n): () => Promise<ContractReceipt | void> {\n  const farmContract = useFarmContract(farmName)\n  const { account } = useActiveWeb3React()\n  const dispatch = useDispatch()\n  return async function exitFarm(): Promise<ContractReceipt | void> {\n    try {\n      if (!account) throw new Error(\"Wallet must be connected\")\n      if (!farmContract) throw new Error(\"Rose Farm contract is not loaded\")\n\n      const tx = await farmContract.exit()\n      const receipt = await tx.wait()\n      dispatch(\n        updateLastTransactionTimes({\n          [TRANSACTION_TYPES.WITHDRAW]: Date.now(),\n        }),\n      )\n      return receipt\n    } catch (e) {\n      console.error(e)\n    }\n  }\n}\n","import { ContractReceipt } from \"@ethersproject/contracts\"\nimport { FarmName } from \"../constants\"\nimport { useActiveWeb3React } from \".\"\nimport { useFarmContract } from \"./useContract\"\n\nexport default function useClaimReward(\n  farmName: FarmName,\n): () => Promise<ContractReceipt | void> {\n  const farmContract = useFarmContract(farmName)\n  const { account } = useActiveWeb3React()\n  return async function claimReward(): Promise<ContractReceipt | void> {\n    try {\n      if (!account) throw new Error(\"Wallet must be connected\")\n      if (!farmContract) throw new Error(\"Rose Farm contract is not loaded\")\n\n      const tx = await farmContract.getReward()\n      return await tx.wait()\n    } catch (e) {\n      console.error(e)\n    }\n  }\n}\n","import { FarmName, TRANSACTION_TYPES } from \"../constants\"\nimport { useEffect, useState } from \"react\"\nimport { AppState } from \"../state\"\nimport { BigNumber } from \"@ethersproject/bignumber\"\nimport { Zero } from \"@ethersproject/constants\"\nimport { useActiveWeb3React } from \".\"\nimport { useFarmContract } from \"./useContract\"\nimport { useSelector } from \"react-redux\"\n\nexport default function useCalculateFarmDeposited(\n  balance: BigNumber | undefined,\n  farmName: FarmName,\n): BigNumber {\n  const { account } = useActiveWeb3React()\n\n  const [depositedBalance, setDepositedBalance] = useState<BigNumber>(Zero)\n  const farmContract = useFarmContract(farmName)\n  const { lastTransactionTimes } = useSelector(\n    (state: AppState) => state.application,\n  )\n  const lastDepositTime = lastTransactionTimes[TRANSACTION_TYPES.DEPOSIT]\n  const lastWithdrawTime = lastTransactionTimes[TRANSACTION_TYPES.WITHDRAW]\n\n  useEffect(() => {\n    async function calculateDeposit(): Promise<void> {\n      if (!account || !farmContract) {\n        setDepositedBalance(Zero)\n        return\n      }\n\n      const deposited = await farmContract.balanceOf(account)\n\n      setDepositedBalance(deposited || Zero)\n    }\n    void calculateDeposit()\n  }, [account, farmContract, lastDepositTime, lastWithdrawTime, balance])\n\n  return depositedBalance\n}\n","import { AddressZero, Zero } from \"@ethersproject/constants\"\nimport { FARMS_MAP, FarmName, TRANSACTION_TYPES } from \"../constants\"\nimport { useEffect, useState } from \"react\"\nimport { AppState } from \"../state\"\nimport { BigNumber } from \"@ethersproject/bignumber\"\nimport LPTOKEN_UNGUARDED_ABI from \"../constants/abis/lpTokenUnguarded.json\"\nimport { LpTokenUnguarded } from \"../../types/ethers-contracts/LpTokenUnguarded\"\nimport { getContract } from \"../utils\"\nimport { useActiveWeb3React } from \".\"\nimport { useSelector } from \"react-redux\"\n\nexport interface FarmDataType {\n  lpTokenBalance: BigNumber\n}\n\nexport type FarmDataHookReturnType = FarmDataType\n\nconst emptyFarmData = {\n  lpTokenBalance: Zero,\n} as FarmDataType\n\nexport default function useFarmData(\n  farmName: FarmName,\n): FarmDataHookReturnType {\n  const { account, library, chainId } = useActiveWeb3React()\n  const { lastTransactionTimes } = useSelector(\n    (state: AppState) => state.application,\n  )\n  const lastDepositTime = lastTransactionTimes[TRANSACTION_TYPES.DEPOSIT]\n  const lastWithdrawTime = lastTransactionTimes[TRANSACTION_TYPES.WITHDRAW]\n\n  const [farmData, setFarmData] = useState<FarmDataHookReturnType>(\n    emptyFarmData,\n  )\n\n  useEffect(() => {\n    async function getFarmData(): Promise<void> {\n      if (library == null || chainId == null) return\n\n      const FARM = FARMS_MAP[farmName]\n\n      const lpTokenContract = getContract(\n        FARM.lpToken.addresses[chainId],\n        LPTOKEN_UNGUARDED_ABI,\n        library,\n        account ?? undefined,\n      ) as LpTokenUnguarded\n      let userLpTokenBalance: BigNumber\n      if (account && account != AddressZero && account != null) {\n        console.log(\n          `Getting user LPToken balance for account ${account?.toString()}`,\n        )\n        try {\n          userLpTokenBalance = await lpTokenContract.balanceOf(\n            account || AddressZero,\n          )\n        } catch (e) {\n          console.log(e)\n        }\n      }\n\n      setFarmData((prevState) => ({\n        ...prevState,\n        lpTokenBalance: userLpTokenBalance,\n      }))\n    }\n    void getFarmData()\n  }, [lastDepositTime, lastWithdrawTime, farmName, account, library, chainId])\n\n  return farmData\n}\n","import { FARMS_MAP, FarmName } from \"../constants\"\nimport React, { ReactElement } from \"react\"\nimport FarmPage from \"../components/FarmPage\"\nimport TopMenu from \"../components/TopMenu\"\nimport { Zero } from \"@ethersproject/constants\"\nimport styles from \"./Farm.module.scss\"\nimport useCalculateFarmDeposited from \"../hooks/useCalculateFarmDeposited\"\nimport useFarmData from \"../hooks/useFarmData\"\n\ninterface Props {\n  farmName: FarmName\n}\n\nconst Farm = ({ farmName }: Props): ReactElement => {\n  const farmData = useFarmData(farmName)\n  const { lpToken, poolName } = FARMS_MAP[farmName]\n  const deposited = useCalculateFarmDeposited(\n    farmData?.lpTokenBalance,\n    farmName,\n  )\n  return (\n    <div className={styles.farm}>\n      <TopMenu activeTab=\"farm\" />\n      <div className={styles.container}>\n        <FarmPage\n          farmName={farmName}\n          poolName={poolName}\n          lpTokenName={lpToken.name}\n          lpTokenIcon={lpToken.icon}\n          balance={farmData?.lpTokenBalance || Zero}\n          deposited={deposited}\n        />\n      </div>\n    </div>\n  )\n}\n\nexport default Farm\n","import {\n  Box,\n  Button,\n  Flex,\n  HStack,\n  Stat,\n  StatGroup,\n  StatLabel,\n  StatNumber,\n  Tag,\n  Tooltip,\n} from \"@chakra-ui/react\"\nimport React, { ReactElement } from \"react\"\nimport { Trans, useTranslation } from \"react-i18next\"\nimport { BigNumber } from \"@ethersproject/bignumber\"\nimport { FarmName } from \"../constants\"\nimport { FarmStats } from \"../utils/fetchFarmStats\"\nimport { Link } from \"react-router-dom\"\nimport { Zero } from \"@ethersproject/constants\"\nimport classNames from \"classnames\"\nimport { formatBNToShortString } from \"../utils\"\nimport roseIcon from \"../assets/icons/rose.svg\"\nimport styles from \"./FarmsOverview.module.scss\"\nimport terraLunaIcon from \"../assets/icons/terra-luna-logo.svg\"\nimport useCalculateFarmDeposited from \"../hooks/useCalculateFarmDeposited\"\nimport useFarmData from \"../hooks/useFarmData\"\n\ninterface Props {\n  farmRoute: string\n  farmName: string\n  poolName: string\n  lpTokenName: string\n  lpTokenIcon: string\n  isRose: boolean\n  farmStats?: FarmStats\n  poolUrl?: string\n}\n\nfunction FarmsOverview(props: Props): ReactElement {\n  const {\n    farmRoute,\n    farmName,\n    poolName,\n    poolUrl,\n    lpTokenName,\n    lpTokenIcon,\n    isRose,\n    farmStats,\n  } = props\n  const { t } = useTranslation()\n  const formattedTvl = farmStats?.tvl\n    ? `$${formatBNToShortString(BigNumber.from(farmStats.tvl), 18)}`\n    : \"-\"\n  const formattedApr = farmStats?.apr || \"-\"\n  const dualRewardApr = farmStats?.dualReward.apr\n  const dualRewardTokenName = farmStats?.dualReward.token\n  const farmData = useFarmData(farmName as FarmName)\n  const deposited = useCalculateFarmDeposited(\n    farmData?.lpTokenBalance,\n    farmName as FarmName,\n  )\n  const iconWidth = /rose-/.exec(lpTokenIcon) ? \"70px\" : \"30px\"\n\n  return (\n    <div className={styles.farmsOverview}>\n      <div className={styles.container}>\n        <div className={styles.row}>\n          <div className={styles.titleBox}>\n            <Box width={iconWidth} marginRight=\"5px\">\n              <img alt=\"icon\" src={lpTokenIcon} width=\"100%\" />\n            </Box>\n            {dualRewardApr && dualRewardTokenName ? (\n              <Tooltip\n                bgColor=\"#cc3a59\"\n                closeOnClick={false}\n                label={`Dual Rewards Farms payout rewards in multiple tokens. This farm pays out rewards in ROSE and ${dualRewardTokenName}.`}\n              >\n                <h4 className={classNames(styles.title, styles.underline)}>\n                  {farmName}\n                </h4>\n              </Tooltip>\n            ) : (\n              <h4 className={styles.title}>{farmName}</h4>\n            )}\n          </div>\n          <div className={styles.stats}>\n            <div className={styles.row}>\n              <StatGroup\n                display=\"flex\"\n                flexWrap=\"nowrap\"\n                justifyContent=\"space-between\"\n                minWidth=\"115px\"\n              >\n                {farmData?.lpTokenBalance && farmData?.lpTokenBalance.gt(Zero) && (\n                  <Stat>\n                    <StatLabel>\n                      <span className={styles.label}>Balance</span>\n                    </StatLabel>\n                    <StatNumber\n                      fontSize=\"15px\"\n                      fontWeight=\"400\"\n                    >{`${formatBNToShortString(\n                      farmData?.lpTokenBalance || Zero,\n                      18,\n                    )}`}</StatNumber>\n                  </Stat>\n                )}\n                {deposited && deposited.gt(Zero) && (\n                  <Stat ml={3}>\n                    <StatLabel>\n                      <span className={styles.label}>Deposited</span>\n                    </StatLabel>\n                    <StatNumber\n                      fontSize=\"15px\"\n                      fontWeight=\"400\"\n                    >{`${formatBNToShortString(deposited, 18)}`}</StatNumber>\n                  </Stat>\n                )}\n                <Stat ml={3}>\n                  <StatLabel>\n                    <span className={styles.label}>TVL</span>\n                  </StatLabel>\n                  <StatNumber fontSize=\"15px\" fontWeight=\"400\">\n                    {formattedTvl}\n                  </StatNumber>\n                </Stat>\n                <Stat ml={3}>\n                  <StatLabel>\n                    {dualRewardApr && dualRewardTokenName ? (\n                      <Tooltip\n                        bgColor=\"#cc3a59\"\n                        closeOnClick={false}\n                        label={\n                          <StatGroup\n                            display=\"flex\"\n                            flexWrap=\"nowrap\"\n                            justifyContent=\"space-between\"\n                            minWidth=\"115px\"\n                          >\n                            <Stat ml={3}>\n                              <StatLabel whiteSpace=\"nowrap\">\n                                <span className={styles.label}>ROSE APR</span>\n                              </StatLabel>\n                              <StatNumber fontSize=\"15px\" fontWeight=\"400\">\n                                {formattedApr}\n                              </StatNumber>\n                            </Stat>\n                            <Stat ml={3}>\n                              <StatLabel whiteSpace=\"nowrap\">\n                                <span className={styles.label}>\n                                  {dualRewardTokenName} APR\n                                </span>\n                              </StatLabel>\n                              <StatNumber fontSize=\"15px\" fontWeight=\"400\">\n                                {dualRewardApr}\n                              </StatNumber>\n                            </Stat>\n                          </StatGroup>\n                        }\n                      >\n                        <span\n                          className={classNames(styles.label, styles.underline)}\n                        >\n                          APR\n                        </span>\n                      </Tooltip>\n                    ) : (\n                      <span className={styles.label}>APR</span>\n                    )}\n                  </StatLabel>\n                  <StatNumber fontSize=\"15px\" fontWeight=\"400\">\n                    {farmStats?.apr\n                      ? `${(\n                          +formattedApr.slice(0, -1) +\n                          +(dualRewardApr?.slice(0, -1) || 0)\n                        ).toString()}%`\n                      : \"-\"}\n                  </StatNumber>\n                </Stat>\n              </StatGroup>\n            </div>\n          </div>\n        </div>\n        <HStack\n          mt=\"10px\"\n          mb=\"5px\"\n          spacing=\"20px\"\n          justifyContent={{ base: \"center\", md: \"start\" }}\n        >\n          <Box\n            color=\"var(--text-lighter)\"\n            fontSize={{ base: \"13px\", md: \"16px\" }}\n          >\n            {dualRewardTokenName ? \"Dual Rewards\" : \"Rewards\"}:\n          </Box>\n          <Tag\n            size=\"md\"\n            borderRadius=\"full\"\n            variant=\"outline\"\n            color=\"var(--text)\"\n            boxShadow=\"inset 0 0 0px 1px #cc3a59\"\n            p=\"7px\"\n          >\n            <Flex alignItems=\"center\">\n              <Box width=\"20px\" mr=\"5px\" ml=\"8px\">\n                <img alt=\"icon\" src={roseIcon} width=\"100%\" />\n              </Box>\n              <span style={{ fontSize: \"12px\", marginRight: \"8px\" }}>ROSE</span>\n            </Flex>\n          </Tag>\n          {dualRewardTokenName ? (\n            <Tag\n              size=\"md\"\n              borderRadius=\"full\"\n              variant=\"outline\"\n              color=\"var(--text)\"\n              boxShadow=\"inset 0 0 0px 1px #cc3a59\"\n              p=\"8px\"\n            >\n              <Flex alignItems=\"center\" mr=\"5x\">\n                <Box width=\"20px\" mr=\"5px\" ml=\"8px\">\n                  <img alt=\"icon\" src={terraLunaIcon} width=\"100%\" />\n                </Box>\n                <span style={{ fontSize: \"12px\", marginRight: \"8px\" }}>\n                  {dualRewardTokenName}\n                </span>\n              </Flex>\n            </Tag>\n          ) : null}\n        </HStack>\n        <div className={styles.farmDescription}>\n          <p>\n            {isRose ? (\n              <Trans t={t} i18nKey=\"farmDescription\">\n                {{ tokenName: lpTokenName }}\n                <a\n                  href={poolUrl}\n                  className={classNames(styles.tag, { [styles.rose]: isRose })}\n                >\n                  <FarmTag isRose={true}>{{ poolName: poolName }}</FarmTag>\n                </a>\n              </Trans>\n            ) : (\n              <Trans t={t} i18nKey=\"farmDescription\">\n                {{ tokenName: lpTokenName }}\n                <a\n                  href={poolUrl}\n                  target=\"_blank\"\n                  rel=\"noreferrer\"\n                  className={classNames(styles.tag, { [styles.rose]: isRose })}\n                >\n                  {{ poolName: poolName }}\n                  <sup>{{ externalUrlArrow: \"↗\" }}</sup>\n                </a>\n              </Trans>\n            )}\n          </p>\n          <div className={styles.farmButton}>\n            <Link to={`farms/${farmRoute}`}>\n              <Button variant=\"primary\" disabled={false} width=\"100px\">\n                {t(\"Farm\")}\n              </Button>\n            </Link>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nfunction FarmTag(props: { children?: React.ReactNode; isRose: boolean }) {\n  const { isRose, ...tagProps } = props\n  return (\n    <span\n      className={classNames(styles.tag, { [styles.rose]: isRose })}\n      {...tagProps}\n    />\n  )\n}\n\nexport default FarmsOverview\n","import React, { ReactElement } from \"react\"\nimport { AppState } from \"../state\"\nimport { FARMS_MAP } from \"../constants\"\nimport FarmsOverview from \"../components/FarmsOverview\"\nimport TopMenu from \"../components/TopMenu\"\nimport styles from \"./Farms.module.scss\"\nimport { useSelector } from \"react-redux\"\n\nfunction Farms(): ReactElement {\n  const { farmStats } = useSelector((state: AppState) => state.application)\n  return (\n    <div className={styles.farms}>\n      <TopMenu activeTab=\"farms\" />\n      <div className={styles.container}>\n        {Object.values(FARMS_MAP)\n          .sort((a) => {\n            return farmStats?.[a.name]?.dualReward.token ? -1 : 1\n          })\n          .map((farm) => (\n            <FarmsOverview\n              key={farm.name}\n              farmStats={farmStats?.[farm.name]}\n              farmName={farm.name}\n              farmRoute={farm.route}\n              poolName={farm.poolName}\n              poolUrl={farm.poolUrl}\n              lpTokenName={farm.lpToken.name}\n              lpTokenIcon={farm.lpToken.icon}\n              isRose={farm.isRose}\n            />\n          ))}\n      </div>\n    </div>\n  )\n}\n\nexport default Farms\n","import {\n  BLOCK_TIME,\n  ChainId,\n  IS_VIRTUAL_SWAP_ACTIVE,\n  SWAP_TYPES,\n  Token,\n} from \"../constants\"\nimport { useCallback, useEffect, useState } from \"react\"\n\nimport { BigNumber } from \"@ethersproject/bignumber\"\nimport { Bridge } from \"../../types/ethers-contracts/Bridge\"\nimport { Event } from \"ethers\"\nimport { Zero } from \"@ethersproject/constants\"\nimport { getTokenByAddress } from \"../utils\"\nimport { omit } from \"lodash\"\nimport { useActiveWeb3React } from \"./\"\nimport { useBridgeContract } from \"./useContract\"\n\nexport interface PendingSwap {\n  swapType: SWAP_TYPES\n  settleableAtTimestamp: number\n  secondsRemaining: number\n  synthTokenFrom: Token\n  synthBalance: BigNumber\n  tokenTo: Token\n  itemId: string\n  transactionHash: string\n  timestamp: number\n  events: Array<SettlementEvent | WithdrawEvent>\n}\n\ninterface SwapEvent {\n  timestamp: number\n  itemId: string\n  transactionHash: string // used for deduping\n  type: \"settlement\" | \"withdraw\"\n}\nexport interface SettlementEvent extends SwapEvent {\n  fromToken: Token\n  fromAmount: BigNumber\n  toToken: Token\n  toAmount: BigNumber\n  type: \"settlement\"\n}\nexport interface WithdrawEvent extends SwapEvent {\n  synthToken: Token\n  amount: BigNumber\n  type: \"withdraw\"\n}\n\ntype BridgeEventSettle = {\n  requester: string\n  itemId: BigNumber\n  settleFrom: string\n  settleFromAmount: BigNumber\n  settleTo: string\n  settleToAmount: BigNumber\n  isFinal: boolean\n}\n\ntype BridgeEventWithdraw = {\n  requester: string\n  itemId: BigNumber\n  synth: string\n  synthAmount: BigNumber\n  isFinal: boolean\n}\n\ntype BridgeEventGenericSwap = {\n  requester: string\n  itemId: BigNumber\n  // other fields exist but we don't use them\n}\n\ntype State = {\n  pendingSwaps: Omit<PendingSwap, \"events\">[]\n  settlements: { [itemId: string]: SettlementEvent[] }\n  withdraws: { [itemId: string]: WithdrawEvent[] }\n}\n\nconst VIRTUAL_SWAP_TOPICS = [\n  \"TokenToSynth\",\n  \"SynthToToken\",\n  \"TokenToToken\",\n] as const\nconst SETTLE = \"Settle\"\nconst WITHDRAW = \"Withdraw\"\n\nconst usePendingSwapData = (): PendingSwap[] => {\n  const { account, chainId, library } = useActiveWeb3React()\n  const bridgeContract = useBridgeContract()\n  const [state, setState] = useState<State>({\n    pendingSwaps: [],\n    settlements: {},\n    withdraws: {},\n  })\n  const queryStartBlock =\n    chainId === ChainId.HARDHAT\n      ? 0\n      : -1 * Math.round((365 * 24 * 60 * 60 * 1000) / BLOCK_TIME) // approx number of blocks in 1 year\n\n  // update the secondsRemaining every 15s\n  useEffect(() => {\n    const timer = setInterval(() => {\n      void library?.getBlock(\"latest\").then(({ timestamp }) => {\n        // block timestamp in secs\n        setState((prevState) => {\n          const shouldUpdateState = prevState.pendingSwaps.some(\n            ({ secondsRemaining }) => secondsRemaining > 0,\n          )\n          if (!shouldUpdateState) return prevState\n          return {\n            ...prevState,\n            pendingSwaps: prevState.pendingSwaps.map((swap) => {\n              let secondsRemaining = Math.floor(\n                swap.settleableAtTimestamp / 1000 - timestamp,\n              )\n              secondsRemaining = Math.max(secondsRemaining, 0)\n              return { ...swap, secondsRemaining }\n            }),\n          }\n        })\n      })\n    }, 15 * 1000)\n    return () => {\n      clearInterval(timer)\n    }\n  }, [library])\n  const pendingSwapEventListener = useCallback(\n    (...listenerArgs) => {\n      const event = listenerArgs[listenerArgs.length - 1] as Event\n      const itemIdArg = event.args?.itemId as BigNumber | null\n      if (itemIdArg == null || bridgeContract == null || chainId == null) return\n      const itemId = itemIdArg.toString()\n      void fetchPendingSwapInfo(bridgeContract, event, chainId).then(\n        (fetchedPendingSwap) => {\n          if (fetchedPendingSwap == null) return\n          setState((prevState) => {\n            return {\n              ...prevState,\n              pendingSwaps: [\n                ...prevState.pendingSwaps.filter(\n                  ({ itemId: existingItemId }) => itemId !== existingItemId,\n                ),\n                fetchedPendingSwap,\n              ],\n            }\n          })\n        },\n      )\n    },\n    [bridgeContract, chainId, setState],\n  )\n  const settleEventListener = useCallback(\n    (...listenerArgs) => {\n      const event = listenerArgs[listenerArgs.length - 1] as Event\n      if (chainId == null) return\n      void parseSettlementFromEvent(event, chainId).then((settlement) => {\n        if (settlement == null) return\n        setState((prevState) => {\n          const pendingSwap = prevState.pendingSwaps.find(\n            ({ itemId }) => itemId === settlement.itemId,\n          )\n          const newPendingSwapBalance = pendingSwap\n            ? pendingSwap.synthBalance.sub(settlement.fromAmount)\n            : Zero\n          const prevSettlements = prevState.settlements[settlement.itemId] || []\n          const txnsSet = new Set(\n            prevSettlements.map(({ transactionHash }) => transactionHash),\n          )\n          if (newPendingSwapBalance.lte(Zero)) {\n            // if this action empties the pending swap balance, remove it from state\n            return removeItemFromState(prevState, settlement.itemId)\n          } else if (!txnsSet.has(settlement.transactionHash)) {\n            return {\n              ...prevState,\n              settlements: {\n                ...prevState.settlements,\n                [settlement.itemId]: prevSettlements.concat(settlement),\n              },\n            }\n          } else {\n            return prevState\n          }\n        })\n      })\n    },\n    [chainId, setState],\n  )\n  const withdrawEventListener = useCallback(\n    (...listenerArgs) => {\n      const event = listenerArgs[listenerArgs.length - 1] as Event\n      if (chainId == null) return\n      void parseWithdrawFromEvent(event, chainId).then((withdraw) => {\n        if (withdraw == null) return\n        setState((prevState) => {\n          const pendingSwap = prevState.pendingSwaps.find(\n            ({ itemId }) => itemId === withdraw.itemId,\n          )\n          const newPendingSwapBalance = pendingSwap\n            ? pendingSwap.synthBalance.sub(withdraw.amount)\n            : Zero\n          const prevWithdraws = prevState.withdraws[withdraw.itemId] || []\n          const txnsSet = new Set(\n            prevWithdraws.map(({ transactionHash }) => transactionHash),\n          )\n          if (newPendingSwapBalance.lte(Zero)) {\n            // if this action empties the pending swap balance, remove it from state\n            return removeItemFromState(prevState, withdraw.itemId)\n          } else if (!txnsSet.has(withdraw.transactionHash)) {\n            return {\n              ...prevState,\n              withdraws: {\n                ...prevState.withdraws,\n                [withdraw.itemId]: prevWithdraws.concat(withdraw),\n              },\n            }\n          } else {\n            return prevState\n          }\n        })\n      })\n    },\n    [chainId, setState],\n  )\n  // attach listeners for events\n  useEffect(() => {\n    function attachPendingSwapEventListeners() {\n      if (bridgeContract == null || account == null) return\n      const virtualSwapTopicFilters = VIRTUAL_SWAP_TOPICS.map((topic) =>\n        bridgeContract.filters[topic](account, null, null, null, null, null),\n      )\n      const settleFilter = bridgeContract.filters[SETTLE](\n        account,\n        null,\n        null,\n        null,\n        null,\n        null,\n        null,\n      )\n      const withdrawFilter = bridgeContract.filters[WITHDRAW](\n        account,\n        null,\n        null,\n        null,\n        null,\n      )\n\n      virtualSwapTopicFilters.forEach((filter) => {\n        void bridgeContract.on(filter, pendingSwapEventListener)\n      })\n      bridgeContract.on(settleFilter, settleEventListener)\n      bridgeContract.on(withdrawFilter, withdrawEventListener)\n      return () => {\n        virtualSwapTopicFilters.forEach((filter) => {\n          void bridgeContract.off(filter, pendingSwapEventListener)\n        })\n        bridgeContract.off(settleFilter, settleEventListener)\n        bridgeContract.off(withdrawFilter, withdrawEventListener)\n      }\n    }\n    void attachPendingSwapEventListeners()\n  }, [\n    bridgeContract,\n    account,\n    settleEventListener,\n    withdrawEventListener,\n    pendingSwapEventListener,\n  ])\n  // initial fetch of events\n  useEffect(() => {\n    async function fetchExistingEvents() {\n      if (!IS_VIRTUAL_SWAP_ACTIVE || !account || !bridgeContract || !chainId)\n        return\n\n      await Promise.all([\n        fetchAndPopulatePendingSwaps(\n          bridgeContract,\n          setState,\n          account,\n          chainId,\n          queryStartBlock,\n        ),\n        fetchAndPopulateWithdraws(\n          bridgeContract,\n          setState,\n          account,\n          chainId,\n          queryStartBlock,\n        ),\n        fetchAndPopulateSettlements(\n          bridgeContract,\n          setState,\n          account,\n          chainId,\n          queryStartBlock,\n        ),\n      ])\n    }\n    void fetchExistingEvents()\n  }, [bridgeContract, setState, account, chainId, queryStartBlock])\n\n  return state.pendingSwaps.map((swap) => {\n    // merge swaps + settlements state\n    return {\n      ...swap,\n      events: [\n        ...(state.settlements[swap.itemId] || []),\n        ...(state.withdraws[swap.itemId] || []),\n      ].sort((a, b) => a.timestamp - b.timestamp),\n    }\n  })\n}\n\nasync function fetchAndPopulatePendingSwaps(\n  bridgeContract: Bridge,\n  setState: (callback: (state: State) => State) => void,\n  account: string,\n  chainId: ChainId,\n  startBlock: number,\n): Promise<void> {\n  // Step 1: create event filters\n  const eventFilters = VIRTUAL_SWAP_TOPICS.map((topic) => {\n    return bridgeContract.filters[topic](account, null, null, null, null, null)\n  })\n  // Step 2: run queries and get matching events\n  let events\n  events = await Promise.all(\n    eventFilters.map((filter) =>\n      bridgeContract.queryFilter(filter, startBlock, \"latest\"),\n    ),\n  )\n  events = events.flat()\n\n  // Step 3: fetch aync data via bridge contract\n  let fetchedPendingSwaps = await Promise.all(\n    events.map((event) => fetchPendingSwapInfo(bridgeContract, event, chainId)),\n  )\n  fetchedPendingSwaps = fetchedPendingSwaps.filter(Boolean)\n  if (fetchedPendingSwaps.length === 0) return\n\n  // Step 4: write to state\n  setState((prevState) => {\n    return {\n      ...prevState,\n      pendingSwaps: fetchedPendingSwaps as PendingSwap[],\n    }\n  })\n}\nasync function fetchAndPopulateWithdraws(\n  bridgeContract: Bridge,\n  setState: (callback: (state: State) => State) => void,\n  account: string,\n  chainId: ChainId,\n  startBlock: number,\n): Promise<void> {\n  // Step 1: create event filter\n  const eventFilter = bridgeContract.filters[WITHDRAW](\n    account,\n    null,\n    null,\n    null,\n    null,\n  )\n\n  // Step 2: run queries and get matching events\n  const events = await bridgeContract.queryFilter(\n    eventFilter,\n    startBlock,\n    \"latest\",\n  )\n  // Step 3: get each event's block\n  const withdraws = await Promise.all(\n    events.map((event) => parseWithdrawFromEvent(event, chainId)),\n  )\n\n  // Step 4: write to state\n  if (withdraws.length === 0) return\n  setState((prevState) => {\n    const newState = { ...prevState }\n    withdraws.forEach((withdraw) => {\n      if (withdraw == null) return\n      const existingWithdraws = newState.withdraws[withdraw.itemId]\n      newState.withdraws[withdraw.itemId] = (existingWithdraws || []).concat(\n        withdraw,\n      )\n    })\n    return newState\n  })\n}\nasync function fetchAndPopulateSettlements(\n  bridgeContract: Bridge,\n  setState: (callback: (state: State) => State) => void,\n  account: string,\n  chainId: ChainId,\n  startBlock: number,\n): Promise<void> {\n  // Step 1: create event filter\n  const eventFilter = bridgeContract.filters[SETTLE](\n    account,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n  )\n\n  // Step 2: run queries and get matching events\n  const events = await bridgeContract.queryFilter(\n    eventFilter,\n    startBlock,\n    \"latest\",\n  )\n  // Step 3: get each event's block\n  const settlements = await Promise.all(\n    events.map((event) => parseSettlementFromEvent(event, chainId)),\n  )\n\n  // Step 4: write to state\n  if (settlements.length === 0) return\n  setState((prevState) => {\n    const newState = { ...prevState }\n    settlements.forEach((settlement) => {\n      if (settlement == null) return\n      const existingSettlements = newState.settlements[settlement.itemId]\n      newState.settlements[settlement.itemId] = (\n        existingSettlements || []\n      ).concat(settlement)\n    })\n    return newState\n  })\n}\n\nasync function parseSettlementFromEvent(\n  event: Event,\n  chainId: ChainId,\n): Promise<SettlementEvent | null> {\n  // Settlements are final\n  const settlement = (event.args as unknown) as BridgeEventSettle // TODO would love to set this from the typechain type\n  if (settlement == null) return null\n  const fromToken = getTokenByAddress(settlement.settleFrom, chainId)\n  const toToken = getTokenByAddress(settlement.settleTo, chainId)\n  if (fromToken == null || toToken == null) return null\n  return event\n    .getBlock()\n    .then(({ timestamp }) => {\n      return {\n        fromAmount: settlement.settleFromAmount,\n        fromToken,\n        itemId: settlement.itemId.toString(),\n        timestamp,\n        toAmount: settlement.settleToAmount,\n        toToken,\n        transactionHash: event.transactionHash,\n        type: \"settlement\" as const,\n      }\n    })\n    .catch(() => null)\n}\n\nasync function parseWithdrawFromEvent(\n  event: Event,\n  chainId: ChainId,\n): Promise<WithdrawEvent | null> {\n  const withdraw = (event.args as unknown) as BridgeEventWithdraw\n  if (withdraw == null) return null\n  const synthToken = getTokenByAddress(withdraw.synth, chainId)\n  if (synthToken == null) return null\n  return event\n    .getBlock()\n    .then(({ timestamp }) => {\n      return {\n        amount: withdraw.synthAmount,\n        itemId: withdraw.itemId.toString(),\n        synthToken,\n        timestamp, // in seconds\n        transactionHash: event.transactionHash,\n        type: \"withdraw\",\n      } as WithdrawEvent\n    })\n    .catch(() => null)\n}\n\nenum BridgePendingSwapTypes {\n  Null,\n  TokenToSynth,\n  SynthToToken,\n  TokenToToken,\n}\nasync function fetchPendingSwapInfo(\n  bridgeContract: Bridge,\n  event: Event,\n  chainId: ChainId,\n) {\n  let result = null\n  try {\n    // this will throw if the itemId has already fully resolved\n    // afik we don't have a better way of fetching current pendingSwaps\n    // DEVELOPER: for this reason we don't use multicall\n    const pendingSwap = (event.args as unknown) as BridgeEventGenericSwap\n    if (pendingSwap == null) return null\n    const itemId = pendingSwap.itemId.toString()\n    const [pendingSwapInfo, eventBlock] = await Promise.all([\n      bridgeContract.getPendingSwapInfo(itemId),\n      event.getBlock(),\n    ])\n    const pendingSwapType = pendingSwapInfo.swapType\n    let swapType\n    if (pendingSwapType === BridgePendingSwapTypes.TokenToSynth) {\n      swapType = SWAP_TYPES.TOKEN_TO_SYNTH\n    } else if (pendingSwapType === BridgePendingSwapTypes.SynthToToken) {\n      swapType = SWAP_TYPES.SYNTH_TO_TOKEN\n    } else if (pendingSwapType === BridgePendingSwapTypes.TokenToToken) {\n      swapType = SWAP_TYPES.TOKEN_TO_TOKEN\n    } else {\n      swapType = SWAP_TYPES.INVALID\n    }\n    const synthTokenFrom = getTokenByAddress(\n      pendingSwapInfo.synth,\n      chainId,\n    ) as Token\n    const tokenTo = getTokenByAddress(pendingSwapInfo.tokenTo, chainId) as Token\n    const settleableAtTimestamp =\n      (eventBlock.timestamp + parseInt(pendingSwapInfo.secsLeft.toString())) * // add event block timestamp + secsLeft\n      1000 // convert to ms\n    let secondsRemaining = Math.ceil(\n      (settleableAtTimestamp - Date.now()) / 1000,\n    )\n    secondsRemaining = Math.max(secondsRemaining, 0)\n    result = {\n      swapType,\n      settleableAtTimestamp,\n      secondsRemaining,\n      synthBalance: pendingSwapInfo.synthBalance,\n      itemId,\n      synthTokenFrom: synthTokenFrom,\n      tokenTo: tokenTo,\n      transactionHash: event.transactionHash,\n      timestamp: eventBlock.timestamp,\n    }\n  } catch {\n    // do nothing because this is probably okay\n  }\n  return result\n}\n\nfunction removeItemFromState(state: State, itemId: string): State {\n  return {\n    settlements: omit(state.settlements, itemId),\n    withdraws: omit(state.withdraws, itemId),\n    pendingSwaps: state.pendingSwaps.filter(({ itemId }) => itemId !== itemId),\n  }\n}\n\nexport default usePendingSwapData\n","import React, { ReactElement } from \"react\"\nimport usePendingSwapData, { PendingSwap } from \"../hooks/usePendingSwapData\"\n\nexport const PendingSwapsContext = React.createContext<PendingSwap[]>([])\n\nexport default function PendingSwapsProvider({\n  children,\n}: React.PropsWithChildren<unknown>): ReactElement {\n  const pendingSwaps = usePendingSwapData()\n\n  return (\n    <PendingSwapsContext.Provider value={pendingSwaps}>\n      {children}\n    </PendingSwapsContext.Provider>\n  )\n}\n","import \"./PoolOverview.scss\"\n\nimport { Button, Tooltip } from \"@chakra-ui/react\"\nimport { POOLS_MAP, PoolTypes, TOKENS_MAP, isMetaPool } from \"../constants\"\nimport { Partners, PoolDataType, UserShareType } from \"../hooks/usePoolData\"\nimport React, { ReactElement } from \"react\"\nimport {\n  formatBNToPercentString,\n  formatBNToShortString,\n  formatBNToString,\n} from \"../utils\"\nimport { Link } from \"react-router-dom\"\nimport ToolTip from \"./ToolTip\"\nimport { Zero } from \"@ethersproject/constants\"\nimport classNames from \"classnames\"\nimport { useTranslation } from \"react-i18next\"\n\ninterface Props {\n  poolRoute: string\n  poolData: PoolDataType\n  userShareData: UserShareType | null\n  onClickMigrate?: (e: React.MouseEvent<HTMLButtonElement>) => void\n}\n\nexport default function PoolOverview({\n  poolData,\n  poolRoute,\n  userShareData,\n  onClickMigrate,\n}: Props): ReactElement | null {\n  const { t } = useTranslation()\n  const { type: poolType, isOutdated } = POOLS_MAP[poolData.name]\n  const formattedDecimals = poolType === PoolTypes.USD ? 2 : 4\n  const shouldMigrate = !!onClickMigrate\n  const formattedData = {\n    name: poolData.name,\n    reserve: poolData.reserve\n      ? formatBNToShortString(poolData.reserve, 18)\n      : \"-\",\n    aprs: Object.keys(poolData.aprs).reduce((acc, key) => {\n      const apr = poolData.aprs[key as Partners]?.apr\n      return apr\n        ? {\n            ...acc,\n            [key]: formatBNToPercentString(apr, 18),\n          }\n        : acc\n    }, {} as Partial<Record<Partners, string>>),\n    apy: poolData.apy ? `${formatBNToPercentString(poolData.apy, 18, 2)}` : \"-\",\n    volume: poolData.volume\n      ? `$${formatBNToShortString(poolData.volume, 18)}`\n      : \"-\",\n    userBalanceUSD: formatBNToShortString(\n      userShareData?.usdBalance || Zero,\n      18,\n    ),\n    tokens: poolData.tokens.map((coin) => {\n      const token = TOKENS_MAP[coin.symbol]\n      return {\n        symbol: token.symbol,\n        name: token.name,\n        icon: token.icon,\n        value: formatBNToString(coin.value, token.decimals, formattedDecimals),\n      }\n    }),\n  }\n  const hasShare = !!userShareData?.usdBalance.gt(\"0\")\n  const isMetapool = isMetaPool(formattedData.name)\n\n  return (\n    <div className=\"poolWrapper\">\n      <div\n        className={classNames(\"poolOverview\", {\n          outdated: isOutdated || shouldMigrate,\n        })}\n      >\n        <div className=\"left\">\n          <div className=\"titleAndTag\">\n            {isMetapool ? (\n              <Tooltip bgColor=\"#cc3a59\" label={t(\"metapool\")} gutter={33}>\n                <div style={{ display: \"inline-block\" }}>\n                  <h4 className=\"title underline\">{formattedData.name}</h4>\n                </div>\n              </Tooltip>\n            ) : (\n              <h4 className=\"title\">{formattedData.name}</h4>\n            )}\n            {(shouldMigrate || isOutdated) && (\n              <Tag kind=\"warning\">OUTDATED</Tag>\n            )}\n            {poolData.isPaused && <Tag kind=\"error\">PAUSED</Tag>}\n          </div>\n          <div className=\"tokens\">\n            {formattedData.tokens.map(({ symbol, icon }) => (\n              <div className=\"token\" key={symbol}>\n                <img alt=\"icon\" src={icon} />\n                <span>{symbol}</span>\n              </div>\n            ))}\n          </div>\n        </div>\n\n        <div className=\"right\">\n          <div className=\"poolInfo\">\n            {/* {formattedData.apy && (\n            <div className=\"margin\">\n              <span className=\"label\">{`${t(\"apy\")}`}</span>\n              <span>{formattedData.apy}</span>\n            </div>\n          )} */}\n            {Object.keys(poolData.aprs).map((key) => {\n              const symbol = poolData.aprs[key as Partners]?.symbol as string\n              return poolData.aprs[key as Partners]?.apr.gt(Zero) ? (\n                <div className=\"margin Apr\" key={symbol}>\n                  {symbol.includes(\"/\") ? (\n                    <span className=\"label underline\">\n                      <ToolTip content={symbol.replaceAll(\"/\", \"\\n\")}>\n                        Reward APR\n                      </ToolTip>\n                    </span>\n                  ) : (\n                    <span className=\"label\">{symbol} APR</span>\n                  )}\n                  <span className=\"plus\">\n                    {formattedData.aprs[key as Partners] as string}\n                  </span>\n                </div>\n              ) : null\n            })}\n            {hasShare && (\n              <div className=\"margin\">\n                <span className=\"label\">Balance</span>\n                <span>{`$${formattedData.userBalanceUSD}`}</span>\n              </div>\n            )}\n            <div className=\"margin\">\n              <span className=\"label\">TVL</span>\n              <span>{`$${formattedData.reserve}`}</span>\n            </div>\n            {formattedData.volume && (\n              <div>\n                <span className=\"label\">{`${t(\"24HrVolume\")}`}</span>\n                <span>{formattedData.volume}</span>\n              </div>\n            )}\n          </div>\n          <div className=\"buttons\">\n            <Link to={`${poolRoute}/withdraw`}>\n              <Button variant=\"outline\">{t(\"removeLiquidity\")}</Button>\n            </Link>\n            {shouldMigrate ? (\n              <Button\n                variant=\"temporary\"\n                onClick={onClickMigrate}\n                disabled={!hasShare}\n              >\n                {t(\"migrate\")}\n              </Button>\n            ) : (\n              <Link to={`${poolRoute}/deposit`}>\n                <Button\n                  variant=\"primary\"\n                  padding=\"15px\"\n                  width=\"175px\"\n                  size=\"md\"\n                  disabled={poolData?.isPaused || isOutdated}\n                >\n                  {t(\"addLiquidity\")}\n                </Button>\n              </Link>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nfunction Tag(props: {\n  children?: React.ReactNode\n  kind?: \"warning\" | \"error\"\n}) {\n  const { kind = \"warning\", ...tagProps } = props\n  return <span className={classNames(\"tag\", kind)} {...tagProps} />\n}\n","import {\n  BUSD_METAPOOL_NAME,\n  FRAX_METAPOOL_NAME,\n  FRAX_STABLES_LP_POOL_NAME,\n  POOLS_MAP,\n  PoolName,\n  PoolTypes,\n  STABLECOIN_POOL_V2_NAME,\n  UST_METAPOOL_NAME,\n  // STAKED_ROSE_LP_POOL_NAME,\n} from \"../constants\"\nimport React, { ReactElement, useState } from \"react\"\n\nimport PoolOverview from \"../components/PoolOverview\"\nimport TopMenu from \"../components/TopMenu\"\nimport { Zero } from \"@ethersproject/constants\"\nimport styles from \"./Pools.module.scss\"\nimport usePoolData from \"../hooks/usePoolData\"\n\nfunction Pools(): ReactElement | null {\n  const [usdPoolV2Data, usdV2UserShareData] = usePoolData(\n    STABLECOIN_POOL_V2_NAME,\n  )\n  const [fraxStablesPoolData, fraxStablesUserShareData] = usePoolData(\n    FRAX_STABLES_LP_POOL_NAME,\n  )\n  const [fraxMetaPoolData, fraxMetaPoolUserShareData] = usePoolData(\n    FRAX_METAPOOL_NAME,\n  )\n  const [ustMetaPoolData, ustMetaPoolUserShareData] = usePoolData(\n    UST_METAPOOL_NAME,\n  )\n  const [busdMetaPoolData, busdMetaPoolUserShareData] = usePoolData(\n    BUSD_METAPOOL_NAME,\n  )\n  // const [stRosePoolData, stRoseUserShareData] = usePoolData(\n  //   STAKED_ROSE_LP_POOL_NAME,\n  // )\n  const [filter] = useState<PoolTypes | \"all\" | \"outdated\">(\"all\")\n\n  function getPropsForPool(poolName: PoolName) {\n    switch (poolName) {\n      case FRAX_STABLES_LP_POOL_NAME:\n        return {\n          name: poolName,\n          poolData: fraxStablesPoolData,\n          userShareData: fraxStablesUserShareData,\n          poolRoute: `pools/${POOLS_MAP[poolName].route}`,\n        }\n      // case STAKED_ROSE_LP_POOL_NAME:\n      //   return {\n      //     name: poolName,\n      //     poolData: stRosePoolData,\n      //     userShareData: stRoseUserShareData,\n      //     poolRoute: `pools/${POOLS_MAP[poolName].route}`,\n      //   }\n      case FRAX_METAPOOL_NAME:\n        return {\n          name: poolName,\n          poolData: fraxMetaPoolData,\n          userShareData: fraxMetaPoolUserShareData,\n          poolRoute: `pools/${POOLS_MAP[poolName].route}`,\n        }\n      case UST_METAPOOL_NAME:\n        return {\n          name: poolName,\n          poolData: ustMetaPoolData,\n          userShareData: ustMetaPoolUserShareData,\n          poolRoute: `pools/${POOLS_MAP[poolName].route}`,\n        }\n      case BUSD_METAPOOL_NAME:\n        return {\n          name: poolName,\n          poolData: busdMetaPoolData,\n          userShareData: busdMetaPoolUserShareData,\n          poolRoute: `pools/${POOLS_MAP[poolName].route}`,\n        }\n      default:\n        return {\n          name: poolName,\n          poolData: usdPoolV2Data,\n          userShareData: usdV2UserShareData,\n          poolRoute: `pools/${POOLS_MAP[poolName].route}`,\n        }\n    }\n  }\n  return (\n    <div className={styles.poolsPage}>\n      <TopMenu activeTab=\"pools\" />\n      <div className={styles.content}>\n        {Object.values(POOLS_MAP)\n          // temporarily hide Frax pool while keeping its page enabled\n          .filter(({ name }) => name !== FRAX_STABLES_LP_POOL_NAME)\n          .filter(\n            ({ type, migration, isOutdated }) =>\n              filter === \"all\" ||\n              type === filter ||\n              (filter === \"outdated\" && (migration || isOutdated)),\n          )\n          .map(\n            ({ name, migration, isOutdated }) =>\n              [getPropsForPool(name), migration, isOutdated] as const,\n          )\n          .sort(\n            ([a, aMigration, aIsOutdated], [b, bMigration, bIsOutdated]) => {\n              // 1. active pools\n              // 2. user pools\n              // 3. higher TVL pools\n              if (aMigration || bMigration || aIsOutdated || bIsOutdated) {\n                return aMigration || aIsOutdated ? 1 : -1\n              } else if (\n                (a.userShareData?.usdBalance || Zero).gt(Zero) ||\n                (b.userShareData?.usdBalance || Zero).gt(Zero)\n              ) {\n                return (a.userShareData?.usdBalance || Zero).gt(\n                  b.userShareData?.usdBalance || Zero,\n                )\n                  ? -1\n                  : 1\n              } else {\n                return (a.poolData?.reserve || Zero).gt(\n                  b.poolData?.reserve || Zero,\n                )\n                  ? -1\n                  : 1\n              }\n            },\n          )\n          .map(([poolProps]) => (\n            <PoolOverview key={poolProps.name} {...poolProps} />\n          ))}\n      </div>\n    </div>\n  )\n}\n\nexport default Pools\n","/* eslint @typescript-eslint/no-unsafe-assignment: 0 */\nimport ConfirmTransaction, {\n  ConfirmTransactionProps,\n  ModalType,\n} from \"./ConfirmTransaction\"\nimport { FaLock, FaUnlock } from \"react-icons/fa\"\nimport React, { ReactElement, useState } from \"react\"\nimport {\n  Tab,\n  TabList,\n  TabPanel,\n  TabPanels,\n  Tabs,\n  Tooltip,\n} from \"@chakra-ui/react\"\nimport { Trans, useTranslation } from \"react-i18next\"\nimport { commify, formatBNToShortString, formatBNToString } from \"../utils\"\nimport { useRoseContract, useStRoseContract } from \"../hooks/useContract\"\nimport { AppState } from \"../state\"\nimport { BigNumber } from \"@ethersproject/bignumber\"\nimport { ContractReceipt } from \"@ethersproject/contracts\"\nimport { Erc20 } from \"../../types/ethers-contracts/Erc20\"\nimport Modal from \"./Modal\"\nimport { StRose } from \"../../types/ethers-contracts/StRose\"\nimport StakeDetails from \"./StakeDetails\"\nimport StakeForm from \"./StakeForm\"\n// import StakeLockedTimer from \"./StakeLockedTimer\"\nimport { TokenDetails } from \"../pages/Stake\"\nimport { Zero } from \"@ethersproject/constants\"\nimport classNames from \"classnames\"\nimport { getEtherscanLink } from \"../utils/getEtherscanLink\"\nimport { parseUnits } from \"@ethersproject/units\"\nimport styles from \"./StakePage.module.scss\"\nimport { useCheckTokenRequiresApproval } from \"../hooks/useCheckTokenRequiresApproval\"\nimport { useSelector } from \"react-redux\"\n\ninterface Props {\n  balance: TokenDetails\n  staked: TokenDetails\n  roseTokenIcon: string\n  stRoseTokenIcon: string\n  timeLeft: number\n  approveStake: (amount: string) => Promise<ContractReceipt | void>\n  approveUnstake: (amount: string) => Promise<ContractReceipt | void>\n}\n\nfunction StakePage(props: Props): ReactElement {\n  const { t } = useTranslation()\n  const {\n    balance,\n    staked,\n    roseTokenIcon,\n    stRoseTokenIcon,\n    timeLeft,\n    approveStake,\n    approveUnstake,\n  } = props\n\n  const { userDarkMode } = useSelector((state: AppState) => state.user)\n  const { stakeStats } = useSelector((state: AppState) => state.application)\n  const { priceRatio, tvl, totalRoseStaked, priceOfRose, apr } = {\n    ...stakeStats,\n  }\n\n  const [\n    currentModal,\n    setCurrentModal,\n  ] = useState<ConfirmTransactionProps | null>(null)\n\n  const roseContract = useRoseContract() as Erc20\n  const stRoseContract = useStRoseContract() as StRose\n\n  const [approved, loading, checkRoseApproved] = useCheckTokenRequiresApproval(\n    roseContract,\n    stRoseContract,\n  )\n\n  const validateBalance = (amount: string) => {\n    const generalValidation = validateAmount(amount)\n    if (generalValidation) {\n      return generalValidation\n    }\n    if (parseUnits(amount, 18).gt(balance.amount)) {\n      return t(\"insufficientBalance\")\n    }\n  }\n\n  const validateStaked = (amount: string) => {\n    const generalValidation = validateAmount(amount)\n    if (generalValidation) {\n      return generalValidation\n    }\n    if (parseUnits(amount, 18).gt(staked.amount)) {\n      return t(\"insufficientBalance\")\n    }\n  }\n\n  const validateAmount = (amount: string) => {\n    const decimalRegex = /^[0-9]\\d*(\\.\\d{1,18})?$/\n    if (!amount) {\n      return t(\"You must enter a value.\")\n    }\n    if (!decimalRegex.exec(amount)) {\n      return t(\"Invalid number.\")\n    }\n    if (parseUnits(amount, 18).lte(Zero)) {\n      return t(\"Enter a positive amount.\")\n    }\n    return null\n  }\n\n  const updateModal = (\n    modalType: ModalType,\n    txnType?: string,\n    txnHash?: string,\n  ): void => {\n    switch (modalType) {\n      case ModalType.CONFIRM:\n        setCurrentModal({ type: ModalType.CONFIRM })\n        break\n      case ModalType.SUCCESS:\n        setCurrentModal({\n          type: ModalType.SUCCESS,\n          title: t(\"successTitle\"),\n          description: t(\"txConfirmed\", { tx: txnType }),\n        })\n        break\n      case ModalType.FAILED:\n        setCurrentModal({\n          type: ModalType.FAILED,\n          title: t(\"failedTitle\"),\n          description: !txnHash\n            ? t(\"txFailed_internal\", { tx: txnType })\n            : undefined,\n          children: txnHash ? (\n            <Trans i18nKey=\"txFailed\" t={t}>\n              {{ tx: txnType }}\n              <a\n                href={getEtherscanLink(txnHash, \"tx\")}\n                target=\"_blank\"\n                rel=\"noreferrer\"\n                style={{ textDecoration: \"underline\", margin: 0 }}\n              >\n                blockscout.\n              </a>\n            </Trans>\n          ) : null,\n        })\n        break\n      default:\n        break\n    }\n  }\n\n  const postStake = (receipt: ContractReceipt | null) => {\n    if (receipt?.status) {\n      updateModal(ModalType.SUCCESS, t(\"stake\"))\n    } else {\n      updateModal(ModalType.FAILED, t(\"stake\"), receipt?.transactionHash)\n    }\n  }\n\n  const postUnstake = (receipt: ContractReceipt | null) => {\n    if (receipt?.status) {\n      updateModal(ModalType.SUCCESS, t(\"unstake\"))\n    } else {\n      updateModal(ModalType.FAILED, t(\"unstake\"), receipt?.transactionHash)\n    }\n  }\n\n  return (\n    <div className={styles.stakePage}>\n      <div className={styles.stakeForm}>\n        <Modal\n          isOpen={!!currentModal}\n          onClose={(): void => setCurrentModal(null)}\n        >\n          <ConfirmTransaction {...currentModal} />\n        </Modal>\n        <Tabs\n          isFitted\n          variant=\"primary\"\n          bgColor={\n            userDarkMode ? \"rgba(28, 29, 33, 0.3)\" : \"rgba(242, 236, 236, 0.8)\"\n          }\n          borderRadius=\"10px\"\n          height=\"100%\"\n        >\n          <TabList mb=\"1em\">\n            <Tab>{`${t(\"stake\")} Rose`}</Tab>\n            <Tab>{`${t(\"unstake\")} stRose`}</Tab>\n          </TabList>\n          <TabPanels>\n            <TabPanel>\n              <div className={styles.titleWrapper}>\n                <div className={styles.row}>\n                  <h3 className={styles.stakeTitle}>{`${t(\"stake\")} Rose`}</h3>\n                  <div\n                    className={classNames(\n                      styles.pill,\n                      { [styles.glowPill]: userDarkMode },\n                      { [styles.colorPill]: !userDarkMode },\n                    )}\n                  >\n                    <div>\n                      1 stROSE ≈ {priceRatio ? (+priceRatio).toFixed(5) : \"-\"}{\" \"}\n                      ROSE\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <StakeForm\n                fieldName={\"stake\"}\n                token={\"ROSE\"}\n                tokenIcon={roseTokenIcon}\n                submitButtonLabel={\n                  approved\n                    ? t(\"stake\")\n                    : t(\"approveAnd\", { action: t(\"stake\") })\n                }\n                isLoading={loading}\n                formDescription={t(\"stakingInfo\")}\n                max={formatBNToString(\n                  balance.amount || Zero,\n                  balance.decimals || 0,\n                  balance.decimals,\n                )}\n                handlePreSubmit={() => updateModal(ModalType.CONFIRM)}\n                handleInputChanged={checkRoseApproved}\n                handleSubmit={approveStake}\n                handlePostSubmit={postStake}\n                validator={validateBalance}\n              />\n            </TabPanel>\n            <TabPanel>\n              <div className={styles.titleWrapper}>\n                <div className={styles.row}>\n                  <h3 className={styles.stakeTitle}>{t(\"unstake\")}</h3>\n                  <div\n                    className={classNames(\n                      styles.pill,\n                      { [styles.glowPill]: userDarkMode },\n                      { [styles.colorPill]: !userDarkMode },\n                    )}\n                  >\n                    <div>\n                      1 stROSE ≈{\" \"}\n                      {priceRatio ? (+priceRatio).toFixed(5) : \"1.00\"} ROSE\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <StakeForm\n                fieldName={\"unstake\"}\n                token={\"stRose\"}\n                tokenIcon={stRoseTokenIcon}\n                isLoading={false}\n                submitButtonLabel={t(\"unstake\")}\n                formDescription={t(\"stakingInfo\")}\n                max={formatBNToString(\n                  staked.amount || Zero,\n                  staked.decimals || 0,\n                  staked.decimals,\n                )}\n                handlePreSubmit={() => updateModal(ModalType.CONFIRM)}\n                handleSubmit={approveUnstake}\n                handlePostSubmit={postUnstake}\n                validator={validateStaked}\n              />\n            </TabPanel>\n          </TabPanels>\n        </Tabs>\n      </div>\n      <div className={styles.stakeDetailsContainer}>\n        <StakeDetails\n          extraStakeDetailChild={\n            <>\n              {timeLeft && timeLeft > 0 ? (\n                <FaLock\n                  size=\"25px\"\n                  color=\"#cc3a59\"\n                  title=\"Your stROSE is locked.\"\n                />\n              ) : (\n                <FaUnlock\n                  size=\"25px\"\n                  color=\"#4BB543\"\n                  title=\"Your stROSE is unlocked.\"\n                />\n              )}\n              <Tooltip\n                bgColor=\"#cc3a59\"\n                closeOnClick={false}\n                label=\"This is an estimate of time remaining until you can unstake. Refresh the page for better accuracy.\"\n              >\n                <h4\n                  className={classNames(styles.timeLeftTitle, styles.underline)}\n                >\n                  {new Date((timeLeft / 1000) * 1000)\n                    .toISOString()\n                    .substr(11, 8)}\n                </h4>\n              </Tooltip>\n            </>\n          }\n          balanceView={{\n            title: t(\"balance\"),\n            items: [\n              {\n                tokenName: \"ROSE\",\n                icon: roseTokenIcon,\n                amount: commify(\n                  formatBNToString(\n                    balance.amount || Zero,\n                    balance.decimals || 0,\n                    5,\n                  ),\n                ),\n              },\n            ],\n          }}\n          stakedView={{\n            title: t(\"Staked\"),\n            items: [\n              {\n                tokenName: \"stROSE\",\n                icon: stRoseTokenIcon,\n                amount: commify(\n                  formatBNToString(\n                    staked.amount || Zero,\n                    staked.decimals || 0,\n                    5,\n                  ),\n                ),\n              },\n            ],\n          }}\n          stats={[\n            {\n              statLabel: \"Total ROSE Staked\",\n              statValue: totalRoseStaked\n                ? `${formatBNToShortString(\n                    BigNumber.from(totalRoseStaked),\n                    18,\n                  )}`\n                : \"-\",\n            },\n            {\n              statLabel: \"Price of ROSE\",\n              statValue: `$${Number(priceOfRose).toFixed(3)}`,\n            },\n            {\n              statLabel: \"TVL\",\n              statValue: tvl\n                ? `$${formatBNToShortString(BigNumber.from(tvl), 18)}`\n                : \"-\",\n            },\n            {\n              statLabel: \"APR\",\n              statValue: apr ?? \"-\",\n            },\n          ]}\n        />\n      </div>\n    </div>\n  )\n}\n\nexport default StakePage\n","import { ChainId, SROSE } from \"../constants\"\nimport retry from \"async-retry\"\n\ninterface BlockTransactionResponse {\n  message: string\n  status: string\n  result: Transaction[]\n}\n\ninterface Transaction {\n  blockHash: string\n  blockNumber: string\n  confirmations: string\n  contractAddress: string\n  cumulativeGasUsed: string\n  from: string\n  gas: string\n  gasUsed: string\n  hash: string\n  input: string\n  isError: string\n  nonce: string\n  timeStamp: string\n  to: string\n  transactionIndex: string\n  value: string\n  txreceipt_status: string\n}\n\ninterface TokenTransferTxn extends Transaction {\n  logIndex: string\n  tokenDecimal: string\n  tokenSymbol: string\n  tokenName: string\n}\n\nconst blockTxnsUri = (\n  accountAddress: string,\n  startTimestamp: string,\n  networkId: string,\n) =>\n  `https://explorer.${networkId}.aurora.dev/api?module=account&action=txlist&address=${accountAddress}&starttimestamp=${startTimestamp}`\n\nconst tokenTransferTxnsUri = (\n  startBlock: string,\n  contractAddress: string,\n  accountAddress: string,\n  networkId: string,\n) =>\n  `https://explorer.${networkId}.aurora.dev/api?module=account&action=tokentx&address=${accountAddress}&contractaddress=${contractAddress}&startblock=${startBlock}`\n\nconst fetchBlockTxns = async (\n  accountAddress: string,\n  networkId: string,\n  daysOffset = 1,\n): Promise<Transaction[]> => {\n  const d = new Date()\n  d.setDate(d.getDate() - daysOffset) // default 1 day back\n  return fetch(\n    blockTxnsUri(\n      accountAddress,\n      d.getTime().toString().slice(0, 10),\n      networkId,\n    ),\n  )\n    .then((res) => res.json())\n    .then((body: BlockTransactionResponse) => {\n      return body.result\n    })\n}\n\nconst fetchTokenTransfers = (\n  startBlock: string,\n  contractAddress: string,\n  accountAddress: string,\n  networkId: string,\n): Promise<TokenTransferTxn[]> =>\n  fetch(\n    tokenTransferTxnsUri(\n      startBlock,\n      contractAddress,\n      accountAddress,\n      networkId,\n    ),\n  )\n    .then((res) => res.json())\n    .then((body: BlockTransactionResponse) => {\n      return body.result as TokenTransferTxn[]\n    })\n\nexport default async function fetchLastStakedTime(\n  accountAddress: string,\n  chainId: ChainId,\n): Promise<string | undefined> {\n  // fetch the user's txn list for last day\n  const networkId = chainId === ChainId.AURORA_TESTNET ? \"testnet\" : \"mainnet\"\n  const txnData = await retry(() => fetchBlockTxns(accountAddress, networkId), {\n    retries: 2,\n  })\n\n  // filter by stRose on `to` field and user account address\n  const stRoseAddress = SROSE.addresses[chainId]\n  const filteredTxnData = txnData.filter(\n    ({ to, from }) =>\n      to === stRoseAddress.toLowerCase() &&\n      from === accountAddress.toLowerCase(),\n  )\n\n  // if empty, return early\n  if (filteredTxnData.length === 0) return\n\n  // pull token transfer data starting at first block number from filtered txns\n  const tokenTransferData = await retry(\n    () =>\n      fetchTokenTransfers(\n        filteredTxnData[filteredTxnData.length - 1].blockNumber,\n        stRoseAddress,\n        accountAddress,\n        networkId,\n      ),\n    { retries: 2 },\n  )\n\n  // find the match and return\n  for (let i = 0; i < tokenTransferData.length; i += 1) {\n    if (\n      filteredTxnData.find(\n        ({ hash }) =>\n          hash === tokenTransferData[i].hash &&\n          tokenTransferData[i].to === accountAddress.toLowerCase(),\n      )\n    ) {\n      return tokenTransferData[i].timeStamp\n    }\n  }\n}\n","import { useEffect, useState } from \"react\"\nimport { AppState } from \"../state\"\nimport { TRANSACTION_TYPES } from \"../constants\"\nimport fetchLastStakedTime from \"../utils/fetchBlockTransactions\"\nimport { useActiveWeb3React } from \".\"\nimport { useSelector } from \"react-redux\"\n\nexport default function useLastStakedTime(): string | undefined {\n  const { account, chainId } = useActiveWeb3React()\n\n  const [lastStakedTime, setLastStakedTime] = useState<string | undefined>(\n    undefined,\n  )\n\n  const { lastTransactionTimes } = useSelector(\n    (state: AppState) => state.application,\n  )\n  const lastStakeTxn = lastTransactionTimes[TRANSACTION_TYPES.STAKE]\n\n  useEffect(() => {\n    if (!account || !chainId) return\n    fetchLastStakedTime(account, chainId)\n      .then((stakedTime) => {\n        setLastStakedTime(stakedTime)\n      })\n      .catch((err) => console.log(err))\n  }, [account, chainId, lastStakeTxn])\n\n  return lastStakedTime\n}\n","/* eslint-disable */\nimport React, { ReactElement, useEffect, useMemo, useState } from \"react\"\nimport { BigNumber } from \"@ethersproject/bignumber\"\nimport { ROSE_TOKENS_MAP } from \"../constants\"\nimport StakePage from \"../components/StakePage\"\nimport TopMenu from \"../components/TopMenu\"\nimport { Zero } from \"@ethersproject/constants\"\nimport styles from \"./Stake.module.scss\"\nimport { useApproveAndStake } from \"../hooks/useApproveAndStake\"\nimport { useApproveAndUnstake } from \"../hooks/useApproveAndUnstake\"\nimport useCountDown from \"react-countdown-hook\"\nimport useLastStakedTime from \"../hooks/useLastStakedTime\"\nimport { useRoseTokenBalances } from \"../state/wallet/hooks\"\n\nexport type BalanceDetails = {\n  balance: TokenDetails\n  staked: TokenDetails\n}\n\nexport type TokenDetails = {\n  amount: BigNumber\n  decimals: number\n}\n\nconst Stake = (): ReactElement => {\n  const tokenBalances = useRoseTokenBalances()\n  const stake = useApproveAndStake()\n  const unstake = useApproveAndUnstake()\n\n  const [diff, setDiff] = useState(0)\n  const lastStaked = useLastStakedTime()\n  useEffect(() => {\n    const d = new Date(lastStaked ? +lastStaked * 1000 : 0)\n    d.setDate(d.getDate() + 1)\n    setDiff((Date.now() - d.getTime()) * -1)\n  }, [lastStaked])\n\n  const [timeLeft, actions] = useCountDown(diff, 1000)\n\n  const tokenBalanceDetails = useMemo((): BalanceDetails => {\n    const [roseToken, stRoseToken] = Object.values(ROSE_TOKENS_MAP).map(\n      ({ symbol, decimals }) => {\n        const amount = tokenBalances?.[symbol] || Zero\n        return {\n          decimals,\n          amount,\n        }\n      },\n    )\n    return {\n      balance: {\n        amount: roseToken.amount,\n        decimals: roseToken.decimals,\n      },\n      staked: {\n        amount: stRoseToken.amount,\n        decimals: stRoseToken.decimals,\n      },\n    }\n  }, [tokenBalances])\n\n  useEffect(() => {\n    actions.start(diff)\n  }, [actions, diff, lastStaked])\n\n  return (\n    <div className={styles.stake}>\n      <TopMenu activeTab=\"stake\" />\n      <div className={styles.container}>\n        <StakePage\n          balance={tokenBalanceDetails.balance}\n          staked={tokenBalanceDetails.staked}\n          roseTokenIcon={ROSE_TOKENS_MAP.rose.icon}\n          stRoseTokenIcon={ROSE_TOKENS_MAP.stRose.icon}\n          timeLeft={timeLeft}\n          approveStake={stake}\n          approveUnstake={unstake}\n        />\n      </div>\n    </div>\n  )\n}\n\nexport default Stake\n","import { useRoseContract, useStRoseContract } from \"./useContract\"\nimport { BigNumber } from \"@ethersproject/bignumber\"\nimport { ContractReceipt } from \"@ethersproject/contracts\"\nimport { Erc20 } from \"../../types/ethers-contracts/Erc20\"\nimport { StRose } from \"../../types/ethers-contracts/StRose\"\nimport { TRANSACTION_TYPES } from \"../constants\"\nimport { Zero } from \"@ethersproject/constants\"\nimport checkAndApproveTokenForTrade from \"../utils/checkAndApproveTokenForTrade\"\nimport { updateLastTransactionTimes } from \"../state/application\"\nimport { useActiveWeb3React } from \".\"\nimport { useDispatch } from \"react-redux\"\n\nexport function useApproveAndStake(): (\n  amount: string,\n) => Promise<ContractReceipt | void> {\n  const roseContract = useRoseContract() as Erc20\n  const stRoseContract = useStRoseContract() as StRose\n  const { account } = useActiveWeb3React()\n  const dispatch = useDispatch()\n  return async function approveAndStake(\n    amount: string,\n  ): Promise<ContractReceipt | void> {\n    try {\n      if (!account) throw new Error(\"Wallet must be connected\")\n      if (!roseContract || !stRoseContract)\n        throw new Error(\"Rose contract is not loaded\")\n      const gasPrice = Zero\n      const amountToStake = BigNumber.from(amount)\n      await checkAndApproveTokenForTrade(\n        roseContract,\n        stRoseContract.address,\n        account,\n        amountToStake,\n        true,\n        gasPrice,\n        {\n          onTransactionError: (error) => {\n            console.error(error)\n            throw new Error(\"Your transaction could not be completed\")\n          },\n        },\n      )\n      const tx = await stRoseContract.mint(amountToStake)\n      const receipt = await tx.wait()\n      dispatch(\n        updateLastTransactionTimes({\n          [TRANSACTION_TYPES.STAKE]: Date.now(),\n        }),\n      )\n      return receipt\n    } catch (e) {\n      console.error(e)\n    }\n  }\n}\n","import { BigNumber } from \"@ethersproject/bignumber\"\nimport { ContractReceipt } from \"@ethersproject/contracts\"\nimport { StRose } from \"../../types/ethers-contracts/StRose\"\nimport { useActiveWeb3React } from \".\"\nimport { useStRoseContract } from \"./useContract\"\n\nexport function useApproveAndUnstake(): (\n  amount: string,\n) => Promise<ContractReceipt | void> {\n  const stRoseContract = useStRoseContract() as StRose\n  const { account } = useActiveWeb3React()\n  return async function approveAndUnstake(\n    amount: string,\n  ): Promise<ContractReceipt | void> {\n    try {\n      if (!account) throw new Error(\"Wallet must be connected\")\n      if (!stRoseContract) throw new Error(\"Contracts are not loaded\")\n      const amountToUnStake = BigNumber.from(amount)\n      if (amountToUnStake.isZero()) return\n      const tx = await stRoseContract.burn(account, amountToUnStake)\n      return await tx.wait()\n    } catch (e) {\n      console.error(e)\n    }\n  }\n}\n","/* eslint @typescript-eslint/no-non-null-assertion: 0 */\nimport {\n  POOLS_MAP,\n  Pool,\n  PoolsMap,\n  SWAP_TYPES,\n  TOKENS_MAP,\n  Token,\n  TokensMap,\n} from \"../constants/index\"\nimport { useMemo, useState } from \"react\"\n\nimport { intersection } from \"../utils/index\"\nimport usePoolTVLs from \"./usePoolsTVL\"\n\n// swaptypes in order of least to most preferred (aka expensive)\nconst SWAP_TYPES_ORDERED_ASC = [\n  SWAP_TYPES.INVALID,\n  SWAP_TYPES.TOKEN_TO_TOKEN,\n  SWAP_TYPES.TOKEN_TO_SYNTH,\n  SWAP_TYPES.SYNTH_TO_TOKEN,\n  SWAP_TYPES.SYNTH_TO_SYNTH,\n  SWAP_TYPES.DIRECT,\n]\n\ntype TokenToPoolsMap = {\n  [tokenSymbol: string]: string[]\n}\n\ntype TokenToSwapDataMap = { [symbol: string]: SwapData[] }\nexport function useCalculateSwapPairs(): (token?: Token) => SwapData[] {\n  const [pairCache, setPairCache] = useState<TokenToSwapDataMap>({})\n  const poolTVLs = usePoolTVLs()\n  const [poolsSortedByTVL, tokenToPoolsMapSorted] = useMemo(() => {\n    const sortedPools = Object.values(POOLS_MAP).sort((a, b) => {\n      const aTVL = poolTVLs[a.name]\n      const bTVL = poolTVLs[b.name]\n      if (aTVL && bTVL) {\n        return aTVL.gt(bTVL) ? -1 : 1\n      }\n      return aTVL ? -1 : 1\n    })\n    const tokenToPools = sortedPools.reduce((acc, { name: poolName }) => {\n      const pool = POOLS_MAP[poolName]\n      const newAcc = { ...acc }\n      pool.poolTokens.forEach((token) => {\n        newAcc[token.symbol] = (newAcc[token.symbol] || []).concat(poolName)\n      })\n      return newAcc\n    }, {} as TokenToPoolsMap)\n    return [sortedPools, tokenToPools]\n  }, [poolTVLs])\n\n  return function calculateSwapPairs(token?: Token): SwapData[] {\n    if (!token) return []\n    const cacheHit = pairCache[token.symbol]\n    if (cacheHit) return cacheHit\n    const swapPairs = getTradingPairsForToken(\n      TOKENS_MAP,\n      POOLS_MAP,\n      poolsSortedByTVL,\n      tokenToPoolsMapSorted,\n      token,\n    )\n    setPairCache((prevState) => ({ ...prevState, [token.symbol]: swapPairs }))\n    return swapPairs\n  }\n}\n\nfunction buildSwapSideData(token: Token): SwapSide\nfunction buildSwapSideData(token: Token, pool: Pool): Required<SwapSide>\nfunction buildSwapSideData(\n  token: Token,\n  pool?: Pool,\n): Required<SwapSide> | SwapSide {\n  return {\n    symbol: token.symbol,\n    poolName: pool?.name,\n    tokenIndex:\n      pool?.underlyingPoolTokens?.findIndex((t) => t === token) ||\n      pool?.poolTokens.findIndex((t) => t === token),\n  }\n}\n\nexport type SwapSide = {\n  symbol: string\n  poolName?: string\n  tokenIndex?: number\n}\n\nexport type SwapData =\n  | {\n      from: Required<SwapSide>\n      to: Required<SwapSide>\n      type: Exclude<SWAP_TYPES, SWAP_TYPES.INVALID>\n      route: string[]\n    }\n  | {\n      from: SwapSide\n      to: SwapSide\n      type: SWAP_TYPES.INVALID\n      route: string[]\n    }\n\nfunction getTradingPairsForToken(\n  tokensMap: TokensMap,\n  poolsMap: PoolsMap,\n  poolsSortedByTVL: Pool[],\n  tokenToPoolsMap: TokenToPoolsMap,\n  originToken: Token,\n): SwapData[] {\n  const allTokens = Object.values(tokensMap).filter(\n    ({ isLPToken }) => !isLPToken,\n  )\n  const synthPoolsSet = new Set(\n    poolsSortedByTVL.filter(({ isSynthetic }) => isSynthetic),\n  )\n  const originTokenPoolsSet = new Set(\n    tokenToPoolsMap[originToken.symbol].map((poolName) => poolsMap[poolName]),\n  )\n  const originPoolsSynthSet = intersection(synthPoolsSet, originTokenPoolsSet)\n  const tokenToSwapDataMap: { [symbol: string]: SwapData } = {} // object is used for deduping\n\n  allTokens.forEach((token) => {\n    // Base Case: Invalid trade, eg token with itself\n    let swapData: SwapData = {\n      from: buildSwapSideData(originToken),\n      to: buildSwapSideData(token),\n      type: SWAP_TYPES.INVALID,\n      route: [],\n    }\n    const tokenPoolsSet = new Set(\n      tokenToPoolsMap[token.symbol].map((poolName) => poolsMap[poolName]),\n    )\n    const tokenPoolsSynthSet = intersection(synthPoolsSet, tokenPoolsSet)\n    const sharedPoolsSet = intersection(originTokenPoolsSet, tokenPoolsSet)\n\n    /**\n     * sToken = synth, Token = nonsynth\n     * sPool = synth, Pool = nonsynth\n     * sPool(TokenA) <> sTokenB = nonsynth token in synth pool swapping with synth token\n     */\n\n    // Case 1: TokenA <> TokenA\n    if (originToken === token) {\n      // fall through to default \"invalid\" swapData\n    }\n    // Case 2: poolA(TokenA) <> poolA(TokenB)\n    else if (sharedPoolsSet.size > 0) {\n      const tradePool = [...sharedPoolsSet][0]\n      swapData = {\n        type: SWAP_TYPES.DIRECT,\n        from: buildSwapSideData(originToken, tradePool),\n        to: buildSwapSideData(token, tradePool),\n        route: [originToken.symbol, token.symbol],\n      }\n    }\n\n    // Case 3: sTokenA <> sTokenB\n    else if (originToken.isSynthetic && token.isSynthetic) {\n      const originPool = [...originTokenPoolsSet][0]\n      const destinationPool = [...tokenPoolsSet][0]\n      swapData = {\n        type: SWAP_TYPES.SYNTH_TO_SYNTH,\n        from: buildSwapSideData(originToken, originPool),\n        to: buildSwapSideData(token, destinationPool),\n        route: [originToken.symbol, token.symbol],\n      }\n    }\n\n    // Case 4: sTokenA <> sPool(TokenB)\n    else if (\n      originToken.isSynthetic &&\n      !token.isSynthetic &&\n      tokenPoolsSynthSet.size > 0\n    ) {\n      const originPool = [...originTokenPoolsSet][0]\n      const destinationPool = [...tokenPoolsSynthSet][0]\n      const middleSynth = destinationPool.poolTokens.find(\n        ({ isSynthetic }) => isSynthetic,\n      )\n      if (middleSynth) {\n        swapData = {\n          type: SWAP_TYPES.SYNTH_TO_TOKEN,\n          from: buildSwapSideData(originToken, originPool),\n          to: buildSwapSideData(token, destinationPool),\n          route: [originToken.symbol, middleSynth.symbol, token.symbol],\n        }\n      }\n    }\n\n    // Case 5: sPoolA(TokenA) <> sPoolB(TokenB)\n    else if (\n      !originToken.isSynthetic &&\n      originPoolsSynthSet.size > 0 &&\n      !token.isSynthetic &&\n      tokenPoolsSynthSet.size > 0\n    ) {\n      const originPool = [...originPoolsSynthSet][0]\n      const destinationPool = [...tokenPoolsSynthSet][0]\n      const originSynth = originPool.poolTokens.find(\n        ({ isSynthetic }) => isSynthetic,\n      )\n      const destinationSynth = destinationPool.poolTokens.find(\n        ({ isSynthetic }) => isSynthetic,\n      )\n      if (originSynth && destinationSynth) {\n        swapData = {\n          type: SWAP_TYPES.TOKEN_TO_TOKEN,\n          from: buildSwapSideData(originToken, originPool),\n          to: buildSwapSideData(token, destinationPool),\n          route: [\n            originToken.symbol,\n            originSynth.symbol,\n            destinationSynth.symbol,\n            token.symbol,\n          ],\n        }\n      }\n    }\n\n    // Case 6: sPool(TokenA) <> sTokenB\n    else if (\n      !originToken.isSynthetic &&\n      originPoolsSynthSet.size > 0 &&\n      token.isSynthetic\n    ) {\n      const originPool = [...originPoolsSynthSet][0]\n      const destinationPool = [...tokenPoolsSet][0]\n      const middleSynth = originPool.poolTokens.find(\n        ({ isSynthetic }) => isSynthetic,\n      )\n      if (middleSynth) {\n        swapData = {\n          type: SWAP_TYPES.TOKEN_TO_SYNTH,\n          from: buildSwapSideData(originToken, originPool),\n          to: buildSwapSideData(token, destinationPool),\n          route: [originToken.symbol, middleSynth.symbol, token.symbol],\n        }\n      }\n    }\n\n    // TO-DO: clean this logic up\n    // Case 7: poolA(TokenA) <> poolB(TokenB) (temp workaround for tokens from diff pools)\n    else if (sharedPoolsSet.size === 0) {\n      const originPool = [...originTokenPoolsSet].find(\n        ({ isOutdated }) => !isOutdated,\n      )\n      const destinationPool = [...tokenPoolsSet].find(\n        ({ isOutdated }) => !isOutdated,\n      )\n      const metaSwapPool = originPool?.metaSwapAddresses\n        ? originPool\n        : destinationPool\n      if (\n        !(originPool?.metaSwapAddresses && destinationPool?.metaSwapAddresses)\n      ) {\n        swapData = {\n          type: SWAP_TYPES.DIRECT,\n          from: buildSwapSideData(originToken, metaSwapPool!),\n          to: buildSwapSideData(token, metaSwapPool!),\n          route: [originToken.symbol, token.symbol],\n        }\n      }\n    }\n\n    // use this swap only if we haven't already calculated a better swap for the pair\n    const existingTokenSwapData: SwapData | undefined =\n      tokenToSwapDataMap[token.symbol]\n    const existingSwapIdx = SWAP_TYPES_ORDERED_ASC.indexOf(\n      existingTokenSwapData?.type,\n    )\n    const newSwapIdx = SWAP_TYPES_ORDERED_ASC.indexOf(swapData.type)\n    if (!existingTokenSwapData || newSwapIdx > existingSwapIdx) {\n      tokenToSwapDataMap[token.symbol] = swapData\n    }\n  })\n\n  return Object.values(tokenToSwapDataMap)\n}\n\nexport const __test__ = {\n  getTradingPairsForToken,\n}\n","import { ChainId, POOLS_MAP, PoolName, PoolTypes } from \"../constants\"\nimport { Contract, Provider } from \"ethcall\"\nimport { MulticallContract, MulticallProvider } from \"../types/ethcall\"\nimport { useEffect, useState } from \"react\"\n\nimport { AppState } from \"../state\"\nimport { BigNumber } from \"@ethersproject/bignumber\"\nimport LPTOKEN_UNGUARDED_ABI from \"../constants/abis/lpTokenUnguarded.json\"\nimport { LpTokenUnguarded } from \"../../types/ethers-contracts/LpTokenUnguarded\"\nimport { parseUnits } from \"@ethersproject/units\"\nimport { useActiveWeb3React } from \".\"\nimport { useSelector } from \"react-redux\"\n\nexport default function usePoolTVLs(): { [poolName in PoolName]?: BigNumber } {\n  const { chainId, library } = useActiveWeb3React()\n  const { tokenPricesUSD } = useSelector((state: AppState) => state.application)\n  const [poolTvls, setPoolTvls] = useState<\n    { [poolName in PoolName]?: BigNumber }\n  >({})\n\n  useEffect(() => {\n    if (\n      Object.keys(poolTvls).length > 0 && // only run once\n      tokenPricesUSD?.BTC &&\n      tokenPricesUSD?.ETH\n    )\n      return\n    async function fetchTVLs() {\n      if (!library || !chainId) return\n      const ethcallProvider = new Provider() as MulticallProvider\n\n      await ethcallProvider.init(library)\n      // override the contract address when using aurora\n      if (chainId == ChainId.AURORA_TESTNET) {\n        ethcallProvider.multicallAddress =\n          \"0x508B1508AAd923fB24F6d13cD74Ac640fD8B66E8\"\n      } else if (chainId == ChainId.AURORA_MAINNET) {\n        ethcallProvider.multicallAddress =\n          \"0x49eb1F160e167aa7bA96BdD88B6C1f2ffda5212A\"\n      }\n\n      const pools = Object.values(POOLS_MAP)\n      const supplyCalls = pools\n        .map((p) => {\n          return new Contract(\n            p.lpToken.addresses[chainId],\n            LPTOKEN_UNGUARDED_ABI,\n          ) as MulticallContract<LpTokenUnguarded>\n        })\n        .map((c) => c.totalSupply())\n      const tvls = await ethcallProvider.all(supplyCalls, \"latest\")\n      const tvlsUSD = pools.map((pool, i) => {\n        const tvlAmount = tvls[i]\n        let tokenValue = 0\n        if (pool.type === PoolTypes.BTC) {\n          tokenValue = tokenPricesUSD?.BTC || 0\n        } else if (pool.type === PoolTypes.ETH) {\n          tokenValue = tokenPricesUSD?.ETH || 0\n        } else {\n          tokenValue = 1 // USD\n        }\n        return parseUnits(tokenValue.toFixed(2), 2)\n          .mul(tvlAmount)\n          .div(BigNumber.from(10).pow(2)) //1e18\n      })\n      setPoolTvls((prevState) => {\n        return pools.reduce(\n          (acc, pool, i) => ({\n            ...acc,\n            [pool.name]: tvlsUSD[i],\n          }),\n          prevState,\n        )\n      })\n    }\n    void fetchTVLs()\n  }, [chainId, library, tokenPricesUSD, poolTvls])\n  return poolTvls\n}\n","var _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M8.78933 11.0039C8.26249 11.0039 7.73565 11.0039 7.20882 11.0039C6.83657 11.0039 6.4806 11.3495 6.49688 11.7553C6.51315 12.1632 6.81013 12.5066 7.20882 12.5066C7.73565 12.5066 8.26249 12.5066 8.78933 12.5066C9.16157 12.5066 9.51754 12.161 9.50127 11.7553C9.485 11.3495 9.19005 11.0039 8.78933 11.0039Z\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M7.30393 7.50085C7.60136 7.50085 7.89648 7.50085 8.19391 7.50085C7.92415 7.24918 7.65669 6.99966 7.38693 6.74799C7.38693 7.31156 7.38693 7.87514 7.38693 8.43871C7.38693 9.33785 7.38693 10.2348 7.38693 11.134C7.38693 11.3405 7.38693 11.547 7.38693 11.7535C7.38693 12.1471 7.75814 12.5236 8.19391 12.5064C8.63199 12.4891 9.00089 12.1751 9.00089 11.7535C9.00089 11.1899 9.00089 10.6263 9.00089 10.0628C9.00089 9.16362 9.00089 8.26663 9.00089 7.36749C9.00089 7.16099 9.00089 6.95449 9.00089 6.74799C9.00089 6.34144 8.63199 5.99512 8.19391 5.99512C7.89648 5.99512 7.60136 5.99512 7.30393 5.99512C6.88199 5.99512 6.4785 6.34144 6.49695 6.74799C6.51539 7.15669 6.85202 7.50085 7.30393 7.50085Z\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M7.45299 4.49198C7.45299 4.50083 7.45299 4.50746 7.45078 4.51631C7.45962 4.44776 7.46846 4.3792 7.47951 4.31065C7.47509 4.33498 7.47067 4.35709 7.45962 4.3792C7.48614 4.31729 7.51267 4.25537 7.53698 4.19345C7.53035 4.20672 7.52372 4.2222 7.51267 4.23325C7.55245 4.18018 7.59223 4.12932 7.63423 4.07625C7.61876 4.09615 7.60328 4.10942 7.5856 4.1249C7.63865 4.08509 7.68948 4.04529 7.74253 4.00327C7.72927 4.01212 7.71601 4.02096 7.70275 4.0276C7.76463 4.00106 7.82652 3.97452 7.88841 3.9502C7.86409 3.95904 7.8442 3.96568 7.81989 3.9701C7.88841 3.96126 7.95692 3.95241 8.02544 3.94135C8.00997 3.94356 7.99229 3.94356 7.97681 3.94135C8.04533 3.9502 8.11385 3.95904 8.18237 3.9701C8.15805 3.96568 8.13595 3.96126 8.11385 3.9502C8.17574 3.97673 8.23762 4.00327 8.29951 4.0276C8.28625 4.02096 8.27078 4.01433 8.25972 4.00327C8.31277 4.04308 8.36361 4.08288 8.41665 4.1249C8.39676 4.10942 8.3835 4.09394 8.36803 4.07625C8.40781 4.12932 8.44759 4.18018 8.48959 4.23325C8.48075 4.21999 8.47191 4.20672 8.46528 4.19345C8.4918 4.25537 8.51832 4.31729 8.54263 4.3792C8.53379 4.35488 8.52716 4.33498 8.52274 4.31065C8.53158 4.3792 8.54042 4.44776 8.55148 4.51631C8.54927 4.50083 8.54927 4.48314 8.55148 4.46766C8.54263 4.53621 8.53379 4.60476 8.52274 4.67332C8.52716 4.64899 8.53158 4.62688 8.54263 4.60476C8.51611 4.66668 8.48959 4.7286 8.46528 4.79052C8.47191 4.77725 8.47854 4.76177 8.48959 4.75071C8.44981 4.80379 8.41002 4.85465 8.36803 4.90772C8.3835 4.88782 8.39897 4.87455 8.41665 4.85907C8.36361 4.89888 8.31277 4.93868 8.25972 4.9807C8.27299 4.97185 8.28625 4.963 8.29951 4.95637C8.23762 4.98291 8.17574 5.00944 8.11385 5.03377C8.13816 5.02492 8.15805 5.01829 8.18237 5.01387C8.11385 5.02271 8.04533 5.03156 7.97681 5.04261C7.99229 5.0404 8.00997 5.0404 8.02544 5.04261C7.95692 5.03377 7.88841 5.02492 7.81989 5.01387C7.8442 5.01829 7.8663 5.02271 7.88841 5.03377C7.82652 5.00723 7.76463 4.9807 7.70275 4.95637C7.71601 4.963 7.73148 4.96964 7.74253 4.9807C7.68948 4.94089 7.63865 4.90109 7.5856 4.85907C7.60549 4.87455 7.61876 4.89003 7.63423 4.90772C7.59444 4.85465 7.55466 4.80379 7.51267 4.75071C7.52151 4.76398 7.53035 4.77725 7.53698 4.79052C7.51045 4.7286 7.48393 4.66668 7.45962 4.60476C7.46846 4.62909 7.47509 4.64899 7.47951 4.67332C7.47067 4.60476 7.46183 4.53621 7.45078 4.46766C7.45078 4.47429 7.45299 4.48314 7.45299 4.49198C7.46404 4.69764 7.53256 4.89224 7.68064 5.03819C7.81547 5.17309 8.03428 5.2726 8.22657 5.26596C8.4277 5.25712 8.63325 5.19078 8.7725 5.03819C8.90732 4.89224 9.0112 4.69543 9.00015 4.49198C8.98689 4.22441 8.89848 3.97673 8.70619 3.78435C8.52053 3.59859 8.26193 3.49023 7.99892 3.49023C7.44415 3.49023 7.01315 3.94799 6.99768 4.49198C6.98221 5.03377 7.45962 5.48489 7.98566 5.49373C8.24425 5.49816 8.51611 5.39201 8.69735 5.20847C8.89406 5.00944 8.98468 4.7684 8.99794 4.49198C9.00899 4.29959 8.90511 4.07846 8.77029 3.94578C8.63547 3.81088 8.41665 3.71137 8.22436 3.718C7.78894 3.73791 7.47509 4.05856 7.45299 4.49198Z\"\n});\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M14.7367 7.99866C14.7367 8.3344 14.7132 8.66834 14.6699 9.00048C14.6771 8.94452 14.6843 8.88856 14.6933 8.8326C14.6049 9.47702 14.4316 10.1052 14.1789 10.7045C14.2005 10.6539 14.2222 10.6034 14.2421 10.5528C13.9966 11.1305 13.6789 11.6738 13.2962 12.1702C13.3287 12.1269 13.3612 12.0853 13.3955 12.042C13.0056 12.5474 12.5507 13.0005 12.0453 13.3922C12.0886 13.3597 12.1301 13.3272 12.1734 13.2929C11.6752 13.6756 11.1319 13.9933 10.5561 14.2388C10.6066 14.2171 10.6572 14.1955 10.7077 14.1756C10.1084 14.4283 9.48023 14.6016 8.83582 14.6901C8.89178 14.6828 8.94773 14.6756 9.00369 14.6666C8.33942 14.7551 7.66432 14.7551 7.00004 14.6666C7.056 14.6738 7.11196 14.681 7.16792 14.6901C6.5235 14.6016 5.89533 14.4283 5.29604 14.1756C5.34658 14.1973 5.39712 14.2189 5.44767 14.2388C4.87004 13.9933 4.32671 13.6756 3.83031 13.2929C3.87363 13.3254 3.91515 13.3579 3.95847 13.3922C3.45304 13.0023 2.99997 12.5474 2.60826 12.042C2.64075 12.0853 2.67325 12.1269 2.70754 12.1702C2.32486 11.672 2.00717 11.1287 1.76168 10.5528C1.78334 10.6034 1.805 10.6539 1.82485 10.7045C1.57214 10.1052 1.39885 9.47702 1.3104 8.8326C1.31762 8.88856 1.32484 8.94452 1.33387 9.00048C1.24542 8.33621 1.24542 7.66111 1.33387 6.99684C1.32665 7.0528 1.31943 7.10876 1.3104 7.16472C1.39885 6.5203 1.57214 5.89214 1.82485 5.29285C1.80319 5.3434 1.78153 5.39394 1.76168 5.44448C2.00717 4.86686 2.32486 4.32353 2.70754 3.82713C2.67505 3.87046 2.64256 3.91197 2.60826 3.95529C2.99816 3.44987 3.45304 2.9968 3.95847 2.6051C3.91515 2.63759 3.87363 2.67008 3.83031 2.70438C4.32851 2.3217 4.87184 2.00401 5.44767 1.75852C5.39712 1.78018 5.34658 1.80184 5.29604 1.8217C5.89533 1.56899 6.5235 1.3957 7.16792 1.30725C7.11196 1.31447 7.056 1.32169 7.00004 1.33072C7.66432 1.24227 8.33942 1.24227 9.00369 1.33072C8.94773 1.3235 8.89178 1.31628 8.83582 1.30725C9.48023 1.3957 10.1084 1.56899 10.7077 1.8217C10.6572 1.80004 10.6066 1.77838 10.5561 1.75852C11.1337 2.00401 11.677 2.3217 12.1734 2.70438C12.1301 2.67189 12.0886 2.6394 12.0453 2.6051C12.5507 2.995 13.0038 3.44987 13.3955 3.95529C13.363 3.91197 13.3305 3.87046 13.2962 3.82713C13.6789 4.32534 13.9966 4.86866 14.2421 5.44448C14.2204 5.39394 14.1987 5.3434 14.1789 5.29285C14.4316 5.89214 14.6049 6.5203 14.6933 7.16472C14.6861 7.10876 14.6789 7.0528 14.6699 6.99684C14.7132 7.32898 14.7348 7.66292 14.7367 7.99866C14.7367 8.32899 15.0273 8.64488 15.3684 8.63044C15.7096 8.616 16.0002 8.35245 16.0002 7.99866C15.9966 6.36507 15.4948 4.72787 14.5417 3.39753C14.0489 2.70979 13.4713 2.11773 12.8016 1.60509C12.1662 1.11952 11.4568 0.745873 10.7077 0.471502C9.15171 -0.0989015 7.39355 -0.149443 5.80146 0.30724C4.27436 0.744068 2.87181 1.65022 1.86096 2.87767C1.31762 3.53832 0.891623 4.25674 0.568513 5.04736C0.259843 5.80369 0.086554 6.60695 0.0233759 7.41923C-0.104785 9.05824 0.303165 10.7424 1.15878 12.1467C1.98009 13.4969 3.21297 14.6143 4.65523 15.2659C5.04152 15.441 5.43864 15.5926 5.84659 15.7081C6.27259 15.8273 6.70762 15.9013 7.14625 15.9518C7.97479 16.0475 8.81596 15.9969 9.63186 15.8327C11.2023 15.5168 12.6752 14.6901 13.78 13.5312C14.8829 12.3742 15.6482 10.8778 15.8919 9.2929C15.9569 8.8651 15.9984 8.43368 16.0002 8.00046C16.0002 7.67014 15.7096 7.35425 15.3684 7.36869C15.0255 7.38313 14.7367 7.64487 14.7367 7.99866Z\"\n});\n\nfunction SvgInfo(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 16,\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3, _ref4, _ref5);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgInfo);\nexport default __webpack_public_path__ + \"static/media/info.34e6e9fa.svg\";\nexport { ForwardRef as ReactComponent };","import React, { ReactElement } from \"react\"\n\nimport styles from \"./Divider.module.scss\"\n\nconst Divider = (): ReactElement => <div className={styles.divider}></div>\n\nexport default Divider\n","import React, {\n  ReactElement,\n  useEffect,\n  useMemo,\n  useRef,\n  useState,\n} from \"react\"\n\nimport Divider from \"./Divider\"\nimport { SWAP_TYPES } from \"../constants\"\nimport type { TokenOption } from \"../pages/Swap\"\nimport classnames from \"classnames\"\nimport { commify } from \"../utils\"\nimport { formatBNToString } from \"../utils\"\nimport styles from \"./SearchSelect.module.scss\"\nimport { useTranslation } from \"react-i18next\"\n\ninterface Props {\n  tokensData: TokenOption[]\n  onSelect: (symbol: string) => void\n  value?: string\n}\n\nexport default function SearchSelect({\n  tokensData,\n  onSelect,\n}: Props): ReactElement {\n  const [searchTerm, setSearchTerm] = useState(\"\")\n  const [activeIndex, setActiveIndex] = useState<number | null>(null)\n  const inputRef = useRef<HTMLInputElement>(null)\n  const focusedItemRef = useRef<HTMLLIElement>(null)\n  const { t } = useTranslation()\n\n  useEffect(() => {\n    if (inputRef?.current != null) {\n      inputRef.current.focus()\n    }\n  }, [inputRef])\n  useEffect(() => {\n    // scroll active li into view if user got there via keyboard nav\n    if (focusedItemRef?.current != null) {\n      focusedItemRef.current.scrollIntoView()\n    }\n  }, [focusedItemRef, activeIndex])\n  const filteredTokens = useMemo(() => {\n    // filter tokens by user input\n    return tokensData.filter(({ symbol, name }) => {\n      const target = searchTerm.toLowerCase()\n      return (\n        symbol.toLowerCase().includes(target) ||\n        name.toLowerCase().includes(target)\n      )\n    })\n  }, [tokensData, searchTerm])\n  const lastSelectableIndex = useMemo(() => {\n    // find the last idx of isAvailable tokens\n    const lastAvailableIndex =\n      filteredTokens.findIndex(({ isAvailable }) => isAvailable === false) - 1\n    return lastAvailableIndex < 0\n      ? filteredTokens.length - 1\n      : lastAvailableIndex\n  }, [filteredTokens])\n\n  return (\n    <div className={styles.searchSelect}>\n      <div className={styles.inputContainer}>\n        <svg\n          width=\"24\"\n          height=\"24\"\n          viewBox=\"0 0 24 24\"\n          fill=\"none\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n        >\n          <path\n            d=\"M15.5 14H14.71L14.43 13.73C15.41 12.59 16 11.11 16 9.5C16 5.91 13.09 3 9.5 3C5.91 3 3 5.91 3 9.5C3 13.09 5.91 16 9.5 16C11.11 16 12.59 15.41 13.73 14.43L14 14.71V15.5L19 20.49L20.49 19L15.5 14ZM9.5 14C7.01 14 5 11.99 5 9.5C5 7.01 7.01 5 9.5 5C11.99 5 14 7.01 14 9.5C14 11.99 11.99 14 9.5 14Z\"\n            fill=\"#B1B1B1\"\n          />\n        </svg>\n\n        <input\n          value={searchTerm}\n          onChange={(e) => {\n            const inputValue = e.target.value\n            const nextActiveIndex = inputValue === \"\" ? null : 0\n            activeIndex !== nextActiveIndex && setActiveIndex(nextActiveIndex)\n            setSearchTerm(inputValue)\n          }}\n          ref={inputRef}\n          onFocus={() => activeIndex != null && setActiveIndex(null)}\n          onKeyDown={(e) => {\n            if (e.key === \"Enter\" && activeIndex != null) {\n              const token = filteredTokens[activeIndex]\n              token.isAvailable && onSelect(token.symbol)\n            } else if (e.key === \"ArrowUp\") {\n              setActiveIndex((prev) =>\n                prev === null || prev === 0 ? null : Math.max(0, prev - 1),\n              )\n            } else if (e.key === \"ArrowDown\") {\n              setActiveIndex((prev) =>\n                prev === null ? 0 : Math.min(lastSelectableIndex, prev + 1),\n              )\n            }\n          }}\n        />\n      </div>\n      <ul className={styles.listContainer}>\n        {filteredTokens.map((item, i) => {\n          return (\n            <li\n              key={item.symbol}\n              onClick={() => item.isAvailable && onSelect(item.symbol)}\n              ref={i === activeIndex ? focusedItemRef : null}\n            >\n              <Divider />\n              <ListItem {...item} isActive={i === activeIndex} />\n            </li>\n          )\n        })}\n        {filteredTokens.length === 0 ? (\n          <li className={styles.listItem}>{t(\"noTokensFound\")}</li>\n        ) : null}\n      </ul>\n    </div>\n  )\n}\n\nfunction ListItem({\n  amount,\n  valueUSD,\n  name,\n  icon,\n  symbol,\n  decimals,\n  isActive,\n  isAvailable,\n  swapType,\n}: TokenOption & { isActive: boolean }) {\n  const { t } = useTranslation()\n  const isVirtualSwap = ([\n    SWAP_TYPES.SYNTH_TO_SYNTH,\n    SWAP_TYPES.SYNTH_TO_TOKEN,\n    SWAP_TYPES.TOKEN_TO_SYNTH,\n    SWAP_TYPES.TOKEN_TO_TOKEN,\n  ] as Array<SWAP_TYPES | null>).includes(swapType)\n  return (\n    <div\n      className={classnames(styles.listItem, {\n        [styles.isActive]: isActive,\n        [styles.isUnavailable]: !isAvailable,\n        [styles.isAvailable]: isAvailable,\n      })}\n    >\n      <img src={icon} height=\"24px\" width=\"24px\" />\n      <div>\n        <div className={styles.tagWrapper}>\n          <b>{symbol}</b>\n          {!isAvailable && (\n            <span className={styles.unavailableTag}>{t(\"unavailable\")}</span>\n          )}\n          {isAvailable && isVirtualSwap && (\n            <span className={styles.virtualSwapTag}>{t(\"virtualSwap\")}</span>\n          )}\n        </div>\n        <p className={styles.textMinor}>{name}</p>\n      </div>\n      <div>\n        <p>{commify(formatBNToString(amount, decimals))}</p>\n        <p className={styles.textMinor}>\n          ≈${commify(formatBNToString(valueUSD, 18, 2))}\n        </p>\n      </div>\n    </div>\n  )\n}\n","import React, { ReactElement, useCallback, useRef, useState } from \"react\"\n\nimport { BigNumber } from \"@ethersproject/bignumber\"\nimport SearchSelect from \"./SearchSelect\"\nimport { TOKENS_MAP } from \"../constants\"\nimport type { TokenOption } from \"../pages/Swap\"\nimport classnames from \"classnames\"\nimport { commify } from \"../utils\"\nimport { formatBNToString } from \"../utils\"\nimport styles from \"./SwapInput.module.scss\"\nimport useDetectOutsideClick from \"../hooks/useDetectOutsideClick\"\nimport { useTranslation } from \"react-i18next\"\n\ninterface Props {\n  tokens: TokenOption[]\n  selected: string\n  inputValue: string\n  inputValueUSD: BigNumber\n  isSwapFrom: boolean\n  onSelect?: (tokenSymbol: string) => void\n  onChangeAmount?: (value: string) => void\n}\nexport default function SwapInput({\n  tokens,\n  selected,\n  onSelect,\n  inputValue,\n  inputValueUSD,\n  isSwapFrom,\n  onChangeAmount,\n}: Props): ReactElement {\n  const [isDropdownOpen, setIsDropdownOpen] = useState(false)\n  const wrapperRef = useRef(null)\n  const inputRef = useRef<HTMLInputElement>(null)\n  const { t } = useTranslation()\n  useDetectOutsideClick(\n    wrapperRef,\n    () => setIsDropdownOpen(false),\n    isDropdownOpen,\n  )\n  const handleSelect = useCallback(\n    (value: string) => {\n      onSelect?.(value)\n      setIsDropdownOpen(false)\n    },\n    [onSelect],\n  )\n\n  const selectedToken = TOKENS_MAP[selected]\n\n  const onChangeInput = (e: React.ChangeEvent<HTMLInputElement>): void => {\n    const decimals = selectedToken ? selectedToken.decimals : 18\n    // remove all chars that aren't a digit or a period\n    const newValue = e.target.value.replace(/[^\\d|.]/g, \"\")\n    // disallow more than one period\n    if (newValue.indexOf(\".\") !== newValue.lastIndexOf(\".\")) return\n    const parsedValue = parseFloat(\"0\" + newValue)\n    const periodIndex = newValue.indexOf(\".\")\n    const isValidInput = newValue === \"\" || !isNaN(parsedValue)\n    const isValidPrecision =\n      periodIndex === -1 || newValue.length - 1 - periodIndex <= decimals\n    if (isValidInput && isValidPrecision) {\n      // don't allow input longer than the token allows\n      onChangeAmount?.(newValue)\n    }\n  }\n\n  return (\n    <div className={styles.swapInputContainer}>\n      <div\n        className={classnames(\n          styles.selectGroup,\n          onSelect && styles.hoverPointer,\n        )}\n        onClick={() => onSelect && setIsDropdownOpen((prev) => !prev)}\n        tabIndex={0}\n        onKeyDown={(e) => {\n          if (onSelect && (e.key === \"Enter\" || e.key === \" \")) {\n            setIsDropdownOpen((prev) => !prev)\n          }\n        }}\n      >\n        {selectedToken && <img src={selectedToken.icon} />}\n        <div className={styles.tokenNameContainer}>\n          <div className={styles.symbolArrowContainer}>\n            <b className={styles.textBoldPurple}>\n              {selectedToken ? selectedToken.symbol : t(\"chooseToken\")}\n            </b>\n            &nbsp;\n            {onSelect && (\n              <svg\n                width=\"12\"\n                height=\"12\"\n                viewBox=\"0 0 12 12\"\n                fill=\"none\"\n                xmlns=\"http://www.w3.org/2000/svg\"\n              >\n                <path d=\"M10.0163 3L6 7.17206L1.98375 3L0.75 4.28441L6 9.75L11.25 4.28441L10.0163 3Z\" />\n              </svg>\n            )}\n          </div>\n          {selectedToken && (\n            <p className={styles.textMinor}>{selectedToken.name}</p>\n          )}\n        </div>\n      </div>\n      <div\n        className={classnames(\n          { [styles.focusable]: isSwapFrom },\n          styles.inputGroup,\n        )}\n        onClick={() => {\n          inputRef.current?.focus()\n        }}\n      >\n        <input\n          ref={inputRef}\n          autoComplete=\"off\"\n          autoCorrect=\"off\"\n          type=\"text\"\n          placeholder=\"0.0\"\n          spellCheck=\"false\"\n          value={isSwapFrom ? inputValue : commify(inputValue)}\n          onChange={onChangeInput}\n          onFocus={(e: React.ChangeEvent<HTMLInputElement>): void => {\n            if (isSwapFrom) {\n              e.target.select()\n            }\n          }}\n          readOnly={!isSwapFrom}\n          tabIndex={isSwapFrom ? 0 : -1}\n        />\n        <p className={styles.textMinor}>\n          ≈${commify(formatBNToString(inputValueUSD, 18, 2))}\n        </p>\n      </div>\n      {isDropdownOpen && (\n        <div className={styles.dropdownContainer} ref={wrapperRef}>\n          <SearchSelect tokensData={tokens} onSelect={handleSelect} />\n        </div>\n      )}\n    </div>\n  )\n}\n","import { RefObject, useEffect } from \"react\"\n\nexport default function useDetectOutsideClick(\n  elementRef: RefObject<HTMLElement>,\n  callback: () => void,\n  active: boolean,\n): void {\n  useEffect(() => {\n    const handleClick = (event: MouseEvent) => {\n      if (\n        active &&\n        elementRef?.current &&\n        !elementRef?.current.contains(event.target as Node)\n      ) {\n        event.preventDefault()\n        event.stopPropagation()\n        callback()\n      }\n    }\n    const handleKeyPress = (event: KeyboardEvent) => {\n      if (event.key === \"Escape\") {\n        callback()\n      }\n    }\n\n    if (active) {\n      document.addEventListener(\"keydown\", handleKeyPress, true)\n      document.addEventListener(\"click\", handleClick, true)\n    }\n\n    return () => {\n      document.addEventListener(\"keydown\", handleKeyPress, true)\n      document.removeEventListener(\"click\", handleClick, true)\n    }\n  }, [active, callback, elementRef])\n}\n","import React, { ReactElement, useCallback, useState } from \"react\"\nimport { Trans, useTranslation } from \"react-i18next\"\nimport { calculatePrice, commify, formatBNToString } from \"../utils\"\n\nimport AdvancedOptions from \"./AdvancedOptions\"\nimport { AppState } from \"../state\"\nimport { BigNumber } from \"ethers\"\nimport Button from \"./Button\"\nimport { PendingSwap } from \"../hooks/usePendingSwapData\"\nimport { SWAP_TYPES } from \"../constants\"\nimport SwapInput from \"./SwapInput\"\nimport { Zero } from \"@ethersproject/constants\"\nimport { parseUnits } from \"@ethersproject/units\"\nimport styles from \"./PendingSwapExchange.module.scss\"\nimport { useSelector } from \"react-redux\"\n\nconst PendingSwapExchange = ({\n  pendingSwap,\n  onPendingSwapSettlement,\n}: {\n  pendingSwap: PendingSwap\n  onPendingSwapSettlement: (\n    action: \"withdraw\" | \"settle\",\n    amount: BigNumber,\n  ) => void\n}): ReactElement => {\n  const { tokenPricesUSD } = useSelector((state: AppState) => state.application)\n  const [inputState, setInputState] = useState<{\n    value: string\n    valueBN: BigNumber\n    valueUSD: BigNumber\n    error: string | null\n  }>({\n    value: \"\",\n    valueBN: Zero,\n    valueUSD: Zero,\n    error: null,\n  })\n  const { t } = useTranslation()\n  const { synthTokenFrom, tokenTo, synthBalance, swapType } = pendingSwap\n  const formattedSynthBalance = commify(\n    formatBNToString(synthBalance, synthTokenFrom.decimals, 6),\n  )\n  const withdraw = useCallback(() => {\n    const amount = inputState.value\n      ? parseUnits(inputState.value, synthTokenFrom.decimals)\n      : Zero\n    onPendingSwapSettlement(\"withdraw\", amount)\n  }, [inputState.value, synthTokenFrom.decimals, onPendingSwapSettlement])\n  const settle = useCallback(() => {\n    const amount = inputState.value\n      ? parseUnits(inputState.value, synthTokenFrom.decimals)\n      : Zero\n    onPendingSwapSettlement(\"settle\", amount)\n  }, [inputState.value, synthTokenFrom.decimals, onPendingSwapSettlement])\n  return (\n    <div className={styles.exchangeWrapper}>\n      <div className={styles.stepWrapper}>\n        <h2>{t(\"step2Settlement\")}</h2>\n      </div>\n      <div className={styles.balanceWrapper}>\n        <p>\n          {t(\"balance\")}:{\" \"}\n          <b\n            className={styles.balance}\n            onClick={() =>\n              setInputState((prevState) => ({\n                ...prevState,\n                valueBN: synthBalance,\n                valueUSD: calculatePrice(\n                  synthBalance,\n                  tokenPricesUSD?.[synthTokenFrom.symbol],\n                  synthTokenFrom.decimals,\n                ),\n                value: formatBNToString(synthBalance, synthTokenFrom.decimals),\n                error: null,\n              }))\n            }\n          >\n            {formattedSynthBalance}\n          </b>\n        </p>\n      </div>\n      <SwapInput\n        tokens={[]}\n        onChangeAmount={(newValue) =>\n          setInputState((prevState) => {\n            const cleanedValue = newValue.replace(/[$,]/g, \"\")\n            const isInputNumber = !(isNaN(+cleanedValue) || cleanedValue === \"\")\n            const isInvalid =\n              !isInputNumber && cleanedValue !== \"\" && cleanedValue !== \".\"\n            if (isInvalid) {\n              return prevState\n            }\n            const valueBN = isInputNumber\n              ? parseUnits(cleanedValue, synthTokenFrom.decimals)\n              : Zero\n            return {\n              value: newValue,\n              valueBN,\n              valueUSD: calculatePrice(\n                valueBN,\n                tokenPricesUSD?.[synthTokenFrom.symbol],\n                synthTokenFrom.decimals,\n              ),\n              error: valueBN.gt(synthBalance) ? t(\"insufficientBalance\") : null,\n            }\n          })\n        }\n        selected={synthTokenFrom.symbol}\n        inputValue={inputState.value}\n        inputValueUSD={inputState.valueUSD}\n        isSwapFrom={true}\n      />\n      {inputState.error && (\n        <div className={styles.error}>{inputState.error}</div>\n      )}\n      <div className={styles.buttonGroup}>\n        <Button\n          onClick={settle}\n          disabled={\n            (swapType !== SWAP_TYPES.TOKEN_TO_SYNTH && !inputState.value) ||\n            !!inputState.error\n          }\n        >\n          <Trans t={t} i18nKey=\"settleAsToken\">\n            Settle as <img src={tokenTo.icon} /> {{ name: tokenTo.symbol }}\n          </Trans>\n        </Button>\n        <Button\n          onClick={withdraw}\n          disabled={!inputState.value || !!inputState.error}\n        >\n          <Trans t={t} i18nKey=\"withdrawSynth\">\n            Withdraw <img src={synthTokenFrom.icon} />{\" \"}\n            {{ name: synthTokenFrom.symbol }}\n          </Trans>\n        </Button>\n      </div>\n      <AdvancedOptions />\n    </div>\n  )\n}\n\nexport default PendingSwapExchange\n","var _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M1 4L5.5 8L10 4\",\n  strokeWidth: 1.5\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M5.5 8V0\",\n  strokeWidth: 1.5\n});\n\nfunction SvgArrowDown(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 11,\n    height: 10,\n    viewBox: \"0 0 11 10\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgArrowDown);\nexport default __webpack_public_path__ + \"static/media/arrowDown.2cd639d7.svg\";\nexport { ForwardRef as ReactComponent };","var _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M3.50008 6.08492L1.41508 3.99992L0.705078 4.70492L3.50008 7.49992L9.50008 1.49992L8.79508 0.794922L3.50008 6.08492Z\"\n});\n\nfunction SvgCheck(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 10,\n    height: 8,\n    viewBox: \"0 0 10 8\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgCheck);\nexport default __webpack_public_path__ + \"static/media/check.591c6edc.svg\";\nexport { ForwardRef as ReactComponent };","var _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M5.23467 1H5.5C7.98605 1 10 3.01525 10 5.49924C10 7.98311 7.98618 10 5.5 10C3.01388 10 1 7.98469 1 5.49924C1 4.30732 1.46423 3.22282 2.21973 2.41912L2.60641 2.78249C1.93974 3.49169 1.53066 4.4476 1.53066 5.49924C1.53066 7.69191 3.30721 9.46943 5.5 9.46943C7.69273 9.46943 9.46934 7.69046 9.46934 5.49924C9.46934 3.39724 7.83438 1.67581 5.76533 1.5393V2.96008H5.23467V1Z\",\n  strokeWidth: 0.3,\n  strokeMiterlimit: 10\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M5.85879 5.41311L3 3L5.41281 5.85768C5.47056 5.94243 5.56842 6 5.67911 6C5.85719 6 5.99997 5.85608 5.99997 5.68017C6.00157 5.56823 5.94542 5.47068 5.85879 5.41311Z\"\n});\n\nfunction SvgClock(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 11,\n    height: 11,\n    viewBox: \"0 0 11 11\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgClock);\nexport default __webpack_public_path__ + \"static/media/clock.45e2ce57.svg\";\nexport { ForwardRef as ReactComponent };","import React, { ReactElement } from \"react\"\n\nimport { ReactComponent as ArrowDownIcon } from \"../assets/icons/arrowDown.svg\"\nimport { ReactComponent as CheckIcon } from \"../assets/icons/check.svg\"\nimport { ReactComponent as ClockIcon } from \"../assets/icons/clock.svg\"\nimport { PendingSwap } from \"../hooks/usePendingSwapData\"\nimport classNames from \"classnames\"\nimport { commify } from \"../utils\"\nimport { formatBNToString } from \"../utils\"\nimport { getFormattedShortTime } from \"../utils/dateTime\"\nimport styles from \"./PendingSwapTimeline.module.scss\"\nimport { useTranslation } from \"react-i18next\"\n\nconst PendingSwapTimeline = ({\n  pendingSwap,\n}: {\n  pendingSwap: PendingSwap\n}): ReactElement => {\n  const { t } = useTranslation()\n  const {\n    secondsRemaining,\n    tokenTo,\n    synthBalance,\n    synthTokenFrom,\n    timestamp,\n    transactionHash,\n    events,\n  } = pendingSwap\n  const minutesRemaining = Math.max(Math.ceil(secondsRemaining / 60), 0)\n  const formattedBalance = commify(\n    formatBNToString(synthBalance, synthTokenFrom.decimals, 6),\n  )\n  const hasEvents = events.length > 0\n\n  return (\n    <div className={styles.timeline}>\n      <TimelineStep\n        isActive={false}\n        icon=\"check\"\n        withLine={false}\n        testId=\"PendingSwapTimeline:step1Of2\"\n      >\n        {getFormattedShortTime(timestamp)} {t(\"stepAOfB\", { a: 1, b: 2 })}{\" \"}\n        {t(\"confirmTheSwap\")}{\" \"}\n        <a\n          href={`https://etherscan.io/tx/${transactionHash}`}\n          target=\"_blank\"\n          rel=\"noreferrer\"\n        >\n          {transactionHash.slice(0, 8)}\n        </a>\n      </TimelineStep>\n      {minutesRemaining > 0 ? (\n        <TimelineStep\n          isActive={true}\n          icon=\"clock\"\n          testId=\"PendingSwapTimeline:minutesLeft\"\n        >\n          {t(\"minutesLeft\", { count: minutesRemaining })}\n        </TimelineStep>\n      ) : (\n        <TimelineStep\n          isActive={!hasEvents}\n          icon=\"check\"\n          testId=\"PendingSwapTimeline:swappedForAmount\"\n        >\n          {getFormattedShortTime(timestamp)}{\" \"}\n          {t(\"swappedForAmount\", { amount: formattedBalance })}{\" \"}\n          {synthTokenFrom.symbol}\n        </TimelineStep>\n      )}\n      {!hasEvents ? (\n        <TimelineStep\n          isActive={false}\n          icon=\"arrow\"\n          testId=\"PendingSwapTimeline:step2Of2\"\n        >\n          {t(\"stepAOfB\", { a: 2, b: 2 })}{\" \"}\n          {t(\"settleToken\", { name: tokenTo.symbol })}{\" \"}\n        </TimelineStep>\n      ) : null}\n      {events.map((event, i) => {\n        if (event.type === \"settlement\") {\n          return (\n            <TimelineStep\n              isActive={false}\n              icon=\"check\"\n              key={event.transactionHash}\n              testId={`PendingSwapTimeline:event-${i + 1}`}\n            >\n              {getFormattedShortTime(event.timestamp)}{\" \"}\n              {t(\"settledXTokenForYToken\", {\n                amountFrom: commify(\n                  formatBNToString(\n                    event.fromAmount,\n                    event.fromToken.decimals,\n                    6,\n                  ),\n                ),\n                nameFrom: event.fromToken.symbol,\n                amountTo: commify(\n                  formatBNToString(event.toAmount, event.toToken.decimals, 6),\n                ),\n                nameTo: event.toToken.symbol,\n              })}\n            </TimelineStep>\n          )\n        } else if (event.type === \"withdraw\") {\n          const formattedAmount = commify(\n            formatBNToString(event.amount, event.synthToken.decimals, 6),\n          )\n          return (\n            <TimelineStep\n              isActive={false}\n              icon=\"check\"\n              key={i}\n              testId={`PendingSwapTimeline:event-${i + 1}`}\n            >\n              {getFormattedShortTime(event.timestamp)}{\" \"}\n              {t(\"withdrewNToken\", {\n                amount: formattedAmount,\n                name: event.synthToken.symbol,\n              })}\n            </TimelineStep>\n          )\n        }\n      })}\n    </div>\n  )\n}\nexport default PendingSwapTimeline\n\nconst TimelineStep = ({\n  isActive,\n  icon,\n  children,\n  testId,\n  withLine = true,\n}: React.PropsWithChildren<{\n  isActive: boolean\n  icon: string\n  testId?: string\n  withLine?: boolean\n}>) => {\n  let iconEl = null\n  if (icon === \"check\") {\n    iconEl = <CheckIcon />\n  } else if (icon === \"clock\") {\n    iconEl = <ClockIcon />\n  } else if (icon === \"arrow\") {\n    iconEl = <ArrowDownIcon />\n  }\n  return (\n    <div\n      className={classNames(\n        styles.timelineStep,\n        isActive ? styles.active : styles.inactive,\n      )}\n      data-testid={testId || null}\n    >\n      {withLine ? <Line /> : null}\n      {iconEl} {children}\n    </div>\n  )\n}\n\nconst Line = () => <div className={styles.timelineLine} />\n","var _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M1 8L8 15L15 8\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M8 15L8 0\"\n});\n\nfunction SvgThinArrowDown(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 16,\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    className: \"stepArrow\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgThinArrowDown);\nexport default __webpack_public_path__ + \"static/media/thinArrowDown.4da15561.svg\";\nexport { ForwardRef as ReactComponent };","import { BigNumber } from \"@ethersproject/bignumber\"\nimport { SWAP_CONTRACT_GAS_ESTIMATES_MAP } from \"../constants/index\"\n\nexport function calculateGasEstimate(\n  methodName: keyof typeof SWAP_CONTRACT_GAS_ESTIMATES_MAP,\n): BigNumber {\n  return SWAP_CONTRACT_GAS_ESTIMATES_MAP[methodName]\n}\n","import \"./ReviewSwap.scss\"\n\nimport React, { ReactElement, useState } from \"react\"\nimport { SWAP_TYPES, TOKENS_MAP } from \"../constants\"\nimport { commify, formatBNToString, formatDeadlineToNumber } from \"../utils\"\nimport { formatGasToString, gasBNFromState } from \"../utils/gas\"\n\nimport { AppState } from \"../state/index\"\nimport { BigNumber } from \"@ethersproject/bignumber\"\nimport Button from \"./Button\"\nimport HighPriceImpactConfirmation from \"./HighPriceImpactConfirmation\"\nimport { ReactComponent as ThinArrowDown } from \"../assets/icons/thinArrowDown.svg\"\nimport { calculateGasEstimate } from \"../utils/gasEstimate\"\nimport { formatSlippageToString } from \"../utils/slippage\"\nimport { isHighPriceImpact } from \"../utils/priceImpact\"\nimport { parseUnits } from \"@ethersproject/units\"\nimport { useSelector } from \"react-redux\"\nimport { useTranslation } from \"react-i18next\"\n\ninterface Props {\n  onClose: () => void\n  onConfirm: () => void\n  data: {\n    from: { symbol: string; value: string }\n    to?: { symbol: string; value: string }\n    swapType: SWAP_TYPES\n    exchangeRateInfo?: {\n      pair: string\n      exchangeRate: BigNumber\n      priceImpact: BigNumber\n    }\n  }\n}\n\nfunction ReviewVirtualSwapSettlement({\n  onClose,\n  onConfirm,\n  data,\n}: Props): ReactElement {\n  const { t } = useTranslation()\n  const {\n    slippageCustom,\n    slippageSelected,\n    gasPriceSelected,\n    gasCustom,\n    transactionDeadlineSelected,\n    transactionDeadlineCustom,\n  } = useSelector((state: AppState) => state.user)\n  const { tokenPricesUSD, gasStandard, gasFast, gasInstant } = useSelector(\n    (state: AppState) => state.application,\n  )\n  const [\n    hasConfirmedHighPriceImpact,\n    setHasConfirmedHighPriceImpact,\n  ] = useState(false)\n  const fromToken = TOKENS_MAP[data.from.symbol]\n  const toToken = data.to ? TOKENS_MAP[data.to.symbol] : null\n  const isHighPriceImpactTxn = Boolean(\n    data.to?.value &&\n      data.exchangeRateInfo &&\n      isHighPriceImpact(data.exchangeRateInfo.priceImpact),\n  )\n  const deadline = formatDeadlineToNumber(\n    transactionDeadlineSelected,\n    transactionDeadlineCustom,\n  )\n  const gasPrice = gasBNFromState(\n    { gasStandard, gasFast, gasInstant },\n    gasPriceSelected,\n    gasCustom,\n  )\n  const gasAmount = calculateGasEstimate(\"virtualSwapSettleOrWithdraw\").mul(\n    gasPrice,\n  )\n  const gasValueUSD = tokenPricesUSD?.ETH\n    ? parseUnits(tokenPricesUSD.ETH.toFixed(2), 18) // USD / ETH  * 10^18\n        .mul(gasAmount) // GWEI\n        .div(BigNumber.from(10).pow(25)) // USD / ETH * GWEI * ETH / GWEI = USD\n    : null\n  const isWithdrawAction = !data.from\n  return (\n    <div className=\"reviewSwap\">\n      <h3>\n        {isWithdrawAction ? t(\"Review Withdraw\") : t(\"Review Settlement\")}\n      </h3>\n      <div className=\"swapTable\">\n        <div className=\"from\">\n          <img className=\"tokenIcon\" src={fromToken.icon} alt=\"icon\" />\n          <span className=\"tokenName\">{data.from.symbol}</span>\n          <div className=\"floatRight\">\n            <span>{commify(data.from.value)}</span>\n          </div>\n        </div>\n\n        {data.to && (\n          <>\n            <ThinArrowDown className=\"stepArrow\" />\n            <div className=\"to\">\n              <img className=\"tokenIcon\" src={toToken?.icon} alt=\"icon\" />\n              <span className=\"tokenName\">{data.to.symbol}</span>\n              <div className=\"floatRight\">\n                <span>{commify(data.to.value)}</span>\n              </div>\n            </div>\n          </>\n        )}\n\n        <div className=\"divider\" style={{ height: \"1px\", width: \"100%\" }} />\n        <div className=\"swapInfo\">\n          {data.exchangeRateInfo && (\n            <div className=\"priceTable\">\n              <span className=\"title\">{t(\"exchangeRate\")}</span>{\" \"}\n              <span className=\"pair\">{data.exchangeRateInfo.pair}</span>\n              <span className=\"value floatRight\">\n                {formatBNToString(data.exchangeRateInfo.exchangeRate, 18, 4)}\n              </span>\n            </div>\n          )}\n\n          <div className=\"row\">\n            <span className=\"title\">{t(\"gas\")}</span>\n            <span className=\"value floatRight\">\n              {formatGasToString(\n                { gasStandard, gasFast, gasInstant },\n                gasPriceSelected,\n                gasCustom,\n              )}{\" \"}\n              GWEI\n            </span>\n          </div>\n          {gasValueUSD && (\n            <div className=\"row\">\n              <span className=\"title\">{t(\"estimatedTxCost\")}</span>\n              <span className=\"value floatRight\">\n                {`≈$${commify(formatBNToString(gasValueUSD, 2, 2))}`}\n              </span>\n            </div>\n          )}\n          <div className=\"row\">\n            <span className=\"title\">{t(\"maxSlippage\")}</span>\n            <span className=\"value floatRight\">\n              {formatSlippageToString(slippageSelected, slippageCustom)}%\n            </span>\n          </div>\n          <div className=\"row\">\n            <span className=\"title\">{t(\"deadline\")}</span>\n            <span className=\"value floatRight\">\n              {deadline} {t(\"minutes\")}\n            </span>\n          </div>\n          {isHighPriceImpactTxn && (\n            <div className=\"row\">\n              <HighPriceImpactConfirmation\n                checked={hasConfirmedHighPriceImpact}\n                onCheck={(): void =>\n                  setHasConfirmedHighPriceImpact((prevState) => !prevState)\n                }\n              />\n            </div>\n          )}\n        </div>\n      </div>\n      <div className=\"bottom\">\n        <p>{t(\"estimatedOutput\")}</p>\n        <div className=\"buttonWrapper\">\n          <Button\n            onClick={onConfirm}\n            kind=\"primary\"\n            disabled={isHighPriceImpactTxn && !hasConfirmedHighPriceImpact}\n          >\n            {t(\"confirmSwap\")}\n          </Button>\n          <Button onClick={onClose} kind=\"cancel\">\n            {t(\"cancel\")}\n          </Button>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default ReviewVirtualSwapSettlement\n","import React, { ReactElement, useCallback, useState } from \"react\"\nimport {\n  calculateExchangeRate,\n  calculatePrice,\n  commify,\n  formatBNToString,\n  formatDeadlineToNumber,\n} from \"../utils\"\n\nimport { AppState } from \"../state\"\nimport { BigNumber } from \"@ethersproject/bignumber\"\nimport ConfirmTransaction from \"./ConfirmTransaction\"\nimport { ReactComponent as InfoIcon } from \"../assets/icons/info.svg\"\nimport { PendingSwap } from \"../hooks/usePendingSwapData\"\nimport PendingSwapExchange from \"./PendingSwapExchange\"\nimport PendingSwapTimeline from \"./PendingSwapTimeline\"\nimport ReviewVirtualSwapSettlement from \"./ReviewVirtualSwapSettlement\"\nimport { SWAP_TYPES } from \"../constants\"\nimport { Zero } from \"@ethersproject/constants\"\nimport { calculatePriceImpact } from \"../utils/priceImpact\"\nimport { formatUnits } from \"@ethersproject/units\"\nimport { gasBNFromState } from \"../utils/gas\"\nimport { notifyHandler } from \"../utils/notifyHandler\"\nimport styles from \"./PendingSwapModal.module.scss\"\nimport { subtractSlippage } from \"../utils/slippage\"\nimport { useBridgeContract } from \"../hooks/useContract\"\nimport { useEffect } from \"react\"\nimport { useSelector } from \"react-redux\"\nimport { useTranslation } from \"react-i18next\"\n\ntype ModalStep = \"timer\" | \"exchange\" | \"review\" | \"confirmation\"\nconst PendingSwapModal = ({\n  pendingSwap,\n  onClose,\n}: {\n  pendingSwap: PendingSwap\n  onClose: () => void\n}): ReactElement => {\n  const {\n    secondsRemaining,\n    tokenTo,\n    synthBalance,\n    synthTokenFrom,\n    itemId,\n    swapType,\n  } = pendingSwap\n  const { t } = useTranslation()\n  const {\n    slippageCustom,\n    slippageSelected,\n    gasPriceSelected,\n    gasCustom,\n    transactionDeadlineSelected,\n    transactionDeadlineCustom,\n  } = useSelector((state: AppState) => state.user)\n  const { tokenPricesUSD, gasStandard, gasFast, gasInstant } = useSelector(\n    (state: AppState) => state.application,\n  )\n  const bridgeContract = useBridgeContract()\n  const [settlementState, setSettlementState] = useState<{\n    action: \"withdraw\" | \"settle\" | null\n    amount: BigNumber\n  }>({\n    action: null,\n    amount: Zero,\n  })\n  const [\n    calculatedTokenAmount,\n    setCalculatedTokenAmount,\n  ] = useState<BigNumber | null>(null)\n  const [currentStep, setCurrentStep] = useState<ModalStep>(\n    secondsRemaining === 0 ? \"exchange\" : \"timer\",\n  )\n  useEffect(() => {\n    // Watch the timer and transition to the \"exchange\" state\n    if (currentStep === \"timer\" && secondsRemaining === 0) {\n      setCurrentStep(\"exchange\")\n    }\n  }, [secondsRemaining, currentStep])\n  useEffect(() => {\n    async function calcAmount() {\n      if (\n        !bridgeContract ||\n        settlementState.amount.isZero() ||\n        (swapType !== SWAP_TYPES.SYNTH_TO_TOKEN &&\n          swapType !== SWAP_TYPES.TOKEN_TO_TOKEN)\n      )\n        return\n      const calculatedAmount = await bridgeContract?.calcCompleteToToken(\n        itemId,\n        settlementState.amount,\n      )\n      setCalculatedTokenAmount(calculatedAmount)\n    }\n    void calcAmount()\n  }, [bridgeContract, settlementState, itemId, swapType])\n\n  const gasPrice = gasBNFromState(\n    { gasStandard, gasFast, gasInstant },\n    gasPriceSelected,\n    gasCustom,\n  ).mul(BigNumber.from(10).pow(9))\n  const handlePendingSwapSettlement = useCallback(\n    (action: \"withdraw\" | \"settle\", amount: BigNumber) => {\n      setSettlementState({\n        action,\n        amount,\n      })\n      setCurrentStep(\"review\")\n    },\n    [setSettlementState],\n  )\n\n  const handleConfirmSettlement = useCallback(async () => {\n    try {\n      setCurrentStep(\"confirmation\")\n      const txnArgs = { gasPrice }\n      let transaction\n      if (settlementState.action === \"withdraw\") {\n        transaction = await bridgeContract?.withdraw(\n          itemId,\n          settlementState.amount,\n          txnArgs,\n        )\n      } else if (\n        settlementState.action === \"settle\" &&\n        (swapType === SWAP_TYPES.SYNTH_TO_TOKEN ||\n          swapType === SWAP_TYPES.TOKEN_TO_TOKEN) &&\n        calculatedTokenAmount != null\n      ) {\n        const deadline = Math.round(\n          new Date().getTime() / 1000 +\n            60 *\n              formatDeadlineToNumber(\n                transactionDeadlineSelected,\n                transactionDeadlineCustom,\n              ),\n        )\n        transaction = await bridgeContract?.completeToToken(\n          itemId,\n          settlementState.amount,\n          subtractSlippage(\n            calculatedTokenAmount,\n            slippageSelected,\n            slippageCustom,\n          ),\n          deadline,\n          txnArgs,\n        )\n      } else if (\n        settlementState.action === \"settle\" &&\n        swapType === SWAP_TYPES.TOKEN_TO_SYNTH\n      ) {\n        transaction = await bridgeContract?.completeToSynth(itemId, txnArgs)\n      } else {\n        console.error(\"Unable to confirm settlement\")\n        console.table([\n          [\"action\", settlementState.action],\n          [\"swap type\", swapType],\n          [\"swap amount\", settlementState.amount.toString()],\n        ])\n        return\n      }\n      transaction && notifyHandler(transaction.hash, \"swap\")\n      await transaction?.wait()\n      onClose()\n    } catch (e) {\n      console.error(e)\n    }\n  }, [\n    settlementState,\n    bridgeContract,\n    itemId,\n    calculatedTokenAmount,\n    gasPrice,\n    onClose,\n    slippageCustom,\n    slippageSelected,\n    swapType,\n    transactionDeadlineCustom,\n    transactionDeadlineSelected,\n  ])\n\n  const minutesRemaining = Math.max(Math.ceil(secondsRemaining / 60), 0)\n  const fromAmount =\n    settlementState.action === \"settle\" &&\n    swapType === SWAP_TYPES.TOKEN_TO_SYNTH\n      ? synthBalance\n      : settlementState.amount\n  const formattedSynthBalance = commify(\n    formatBNToString(synthBalance, synthTokenFrom.decimals, 6),\n  )\n\n  return (\n    <>\n      {(currentStep === \"timer\" || currentStep === \"exchange\") && (\n        <div className={styles.virtualSwapModal}>\n          <div className={styles.headerContent}>\n            <b className={styles.title}>\n              {formattedSynthBalance} {synthTokenFrom.symbol} {\"->\"}{\" \"}\n              {tokenTo.symbol}\n            </b>\n          </div>\n          <div className={styles.centerContent}>\n            {currentStep === \"timer\" && (\n              <div className={styles.timer}>\n                <h2>\n                  {minutesRemaining} {t(\"minRemaining\")}\n                </h2>\n              </div>\n            )}\n            {currentStep === \"exchange\" && (\n              <PendingSwapExchange\n                pendingSwap={pendingSwap}\n                onPendingSwapSettlement={handlePendingSwapSettlement}\n              />\n            )}\n          </div>\n          <div className={styles.footerContent}>\n            <b className={styles.title}>{t(\"swapTimeline\")}</b>\n            <PendingSwapTimeline pendingSwap={pendingSwap} />\n            <div className={styles.about}>\n              <InfoIcon />\n              <a\n                href=\"https://docs.saddle.finance/saddle-faq#what-is-virtual-swap\"\n                target=\"_blank\"\n                rel=\"noreferrer\"\n              >\n                {t(\"aboutVirtualSwap\")}\n              </a>\n            </div>\n          </div>\n        </div>\n      )}\n      {currentStep === \"review\" && (\n        <ReviewVirtualSwapSettlement\n          onClose={onClose}\n          onConfirm={handleConfirmSettlement}\n          data={{\n            from: {\n              symbol: synthTokenFrom.symbol,\n              value: formatUnits(fromAmount, synthTokenFrom.decimals),\n            },\n            swapType,\n            ...(settlementState.action === \"settle\"\n              ? {\n                  to: {\n                    symbol: tokenTo.symbol,\n                    value: formatUnits(\n                      calculatedTokenAmount || Zero,\n                      tokenTo.decimals,\n                    ),\n                  },\n                  exchangeRateInfo: {\n                    pair: `${synthTokenFrom.symbol}/${tokenTo.symbol}`,\n                    priceImpact: calculatedTokenAmount\n                      ? calculatePriceImpact(\n                          calculatePrice(\n                            fromAmount,\n                            tokenPricesUSD?.[synthTokenFrom.symbol],\n                            synthTokenFrom.decimals,\n                          ),\n                          calculatePrice(\n                            calculatedTokenAmount || Zero,\n                            tokenPricesUSD?.[tokenTo.symbol],\n                            tokenTo.decimals,\n                          ),\n                        )\n                      : Zero,\n                    exchangeRate: calculateExchangeRate(\n                      settlementState.amount,\n                      synthTokenFrom.decimals,\n                      calculatedTokenAmount || Zero,\n                      tokenTo.decimals,\n                    ),\n                  },\n                }\n              : {}),\n          }}\n        />\n      )}\n      {currentStep === \"confirmation\" && <ConfirmTransaction />}\n    </>\n  )\n}\n\nexport default PendingSwapModal\n","export default __webpack_public_path__ + \"static/media/icon_down.cd4c2fb0.svg\";","import \"./ReviewSwap.scss\"\n\nimport React, { ReactElement, useState } from \"react\"\nimport { SWAP_TYPES, TOKENS_MAP, getIsVirtualSwap } from \"../constants\"\nimport { commify, formatBNToString } from \"../utils\"\n\nimport { AppState } from \"../state/index\"\nimport { BigNumber } from \"@ethersproject/bignumber\"\nimport Button from \"./Button\"\nimport HighPriceImpactConfirmation from \"./HighPriceImpactConfirmation\"\nimport { ReactComponent as ThinArrowDown } from \"../assets/icons/thinArrowDown.svg\"\nimport classnames from \"classnames\"\nimport { formatGasToString } from \"../utils/gas\"\nimport { formatSlippageToString } from \"../utils/slippage\"\nimport iconDown from \"../assets/icons/icon_down.svg\"\nimport { isHighPriceImpact } from \"../utils/priceImpact\"\nimport { useSelector } from \"react-redux\"\nimport { useTranslation } from \"react-i18next\"\n\ninterface Props {\n  onClose: () => void\n  onConfirm: () => void\n  data: {\n    from: { symbol: string; value: string }\n    to: { symbol: string; value: string }\n    exchangeRateInfo: {\n      pair: string\n      priceImpact: BigNumber\n      exchangeRate: BigNumber\n      route: string[]\n    }\n    swapType: SWAP_TYPES\n    txnGasCost: {\n      amount: BigNumber\n      valueUSD: BigNumber | null // amount * ethPriceUSD\n    }\n  }\n}\n\nfunction ReviewSwap({ onClose, onConfirm, data }: Props): ReactElement {\n  const { t } = useTranslation()\n  const {\n    slippageCustom,\n    slippageSelected,\n    gasPriceSelected,\n    gasCustom,\n  } = useSelector((state: AppState) => state.user)\n  const { gasStandard, gasFast, gasInstant } = useSelector(\n    (state: AppState) => state.application,\n  )\n  const [\n    hasConfirmedHighPriceImpact,\n    setHasConfirmedHighPriceImpact,\n  ] = useState(false)\n  const isHighPriceImpactTxn = isHighPriceImpact(\n    data.exchangeRateInfo.priceImpact,\n  )\n  const isVirtualSwap = getIsVirtualSwap(data.swapType)\n\n  return (\n    <div className=\"reviewSwap\">\n      <h3>{t(\"reviewSwap\")}</h3>\n      <div className=\"swapTable\">\n        {isVirtualSwap ? (\n          <VirtualSwapTokens data={data} />\n        ) : (\n          <DirectSwapTokens data={data} />\n        )}\n        {data.swapType === SWAP_TYPES.SYNTH_TO_SYNTH && (\n          <div className=\"row\">\n            <span className=\"aside\">\n              {t(\"virtualSwapSynthToSynthInfo\")}{\" \"}\n              <a href=\"https://blog.synthetix.io/how-fee-reclamation-rebates-work/\">\n                {t(\"learnMore\")}\n              </a>\n            </span>\n          </div>\n        )}\n        <div className=\"divider\" style={{ height: \"1px\", width: \"100%\" }} />\n        <div className=\"swapInfo\">\n          <div className=\"priceTable\">\n            <span className=\"title\">{t(\"price\")} </span>\n            <span className=\"pair\">{data.exchangeRateInfo.pair}</span>\n            <button className=\"exchange\">\n              <svg\n                width=\"24\"\n                height=\"20\"\n                viewBox=\"0 0 24 20\"\n                fill=\"none\"\n                xmlns=\"http://www.w3.org/2000/svg\"\n              >\n                <path\n                  d=\"M17.4011 12.4196C17.4011 13.7551 16.5999 13.8505 16.4472 13.8505H6.62679L9.14986 11.3274L8.47736 10.6501L5.13869 13.9888C5.04986 14.0782 5 14.1991 5 14.3251C5 14.4511 5.04986 14.572 5.13869 14.6613L8.47736 18L9.14986 17.3275L6.62679 14.8044H16.4472C17.1054 14.8044 18.355 14.3274 18.355 12.4196V10.9888H17.4011V12.4196Z\"\n                  fill=\"#ffffff\"\n                />\n                <path\n                  d=\"M5.9539 7.58511C5.9539 6.24965 6.75519 6.15426 6.90781 6.15426H16.7283L14.2052 8.67733L14.8777 9.34984L18.2164 6.01117C18.3052 5.92181 18.355 5.80092 18.355 5.67492C18.355 5.54891 18.3052 5.42803 18.2164 5.33867L14.8777 2L14.2004 2.67727L16.7283 5.20035H6.90781C6.24962 5.20035 5 5.6773 5 7.58511V9.01597H5.9539V7.58511Z\"\n                  fill=\"#ffffff\"\n                />\n              </svg>\n            </button>\n            <span className=\"value floatRight\">\n              {formatBNToString(data.exchangeRateInfo.exchangeRate, 18, 6)}\n            </span>\n          </div>\n          <div className=\"row\">\n            <span className=\"title\">{t(\"gas\")}</span>\n            <span className=\"value floatRight\">\n              {formatGasToString(\n                { gasStandard, gasFast, gasInstant },\n                gasPriceSelected,\n                gasCustom,\n              )}{\" \"}\n              GWEI\n            </span>\n          </div>\n          {data.txnGasCost?.valueUSD && (\n            <div className=\"row\">\n              <span className=\"title\">{t(\"estimatedTxCost\")}</span>\n              <span className=\"value floatRight\">\n                {`≈$${commify(\n                  formatBNToString(data.txnGasCost.valueUSD, 2, 2),\n                )}`}\n              </span>\n            </div>\n          )}\n          <div className=\"row\">\n            <span className=\"title\">{t(\"maxSlippage\")}</span>\n            <span className=\"value floatRight\">\n              {formatSlippageToString(slippageSelected, slippageCustom)}%\n            </span>\n          </div>\n          {isHighPriceImpactTxn && (\n            <div className=\"row\">\n              <HighPriceImpactConfirmation\n                checked={hasConfirmedHighPriceImpact}\n                onCheck={(): void =>\n                  setHasConfirmedHighPriceImpact((prevState) => !prevState)\n                }\n              />\n            </div>\n          )}\n        </div>\n      </div>\n      <div className=\"bottom\">\n        <p>{t(\"estimatedOutput\")}</p>\n        <div className=\"buttonWrapper\">\n          <Button\n            onClick={onConfirm}\n            kind=\"primary\"\n            disabled={isHighPriceImpactTxn && !hasConfirmedHighPriceImpact}\n          >\n            {t(\"confirmSwap\")}\n          </Button>\n          <Button onClick={onClose} kind=\"cancel\">\n            {t(\"cancel\")}\n          </Button>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nfunction DirectSwapTokens({ data }: { data: Props[\"data\"] }) {\n  const fromToken = TOKENS_MAP[data.from.symbol]\n  const toToken = TOKENS_MAP[data.to.symbol]\n  return (\n    <>\n      <div className=\"row\">\n        <div style={{ display: \"flex\" }}>\n          <img className=\"tokenIcon\" src={fromToken.icon} alt=\"icon\" />\n          <span className=\"tokenName\">{data.from.symbol}</span>\n        </div>\n        <div>\n          <span>{data.from.value}</span>\n        </div>\n      </div>\n      <img src={iconDown} alt=\"to\" className=\"arrowDown\" />\n      <div className=\"row\">\n        <div style={{ display: \"flex\" }}>\n          <img className=\"tokenIcon\" src={toToken.icon} alt=\"icon\" />\n          <span className=\"tokenName\">{data.to.symbol}</span>\n        </div>\n\n        <div>\n          <span>{data.to.value}</span>\n        </div>\n      </div>\n    </>\n  )\n}\n\nfunction VirtualSwapTokens({ data }: { data: Props[\"data\"] }) {\n  const { t } = useTranslation()\n\n  return (\n    <>\n      {data.exchangeRateInfo.route.map((symbol, i) => {\n        const isFirst = i === 0\n        const isLast = i === data.exchangeRateInfo.route.length - 1\n        const token = TOKENS_MAP[symbol]\n        return (\n          <div className=\"row\" key={symbol}>\n            <div>\n              {!isFirst && !isLast && <ThinArrowDown className=\"stepArrow\" />}\n              <img className=\"tokenIcon\" src={token.icon} alt=\"icon\" />\n              <span className={classnames(\"tokenName\", { grey: isLast })}>\n                {token.symbol}\n              </span>\n\n              {(isFirst || isLast) && (\n                <span className=\"aside\">\n                  {\" \"}\n                  (\n                  {t(\"stepN\", {\n                    step: isFirst ? 1 : 2,\n                  })}\n                  )\n                </span>\n              )}\n            </div>\n            <div>\n              {isFirst && <span>{data.from.value}</span>}\n              {isLast && <span className=\"grey\">{data.to.value}</span>}\n            </div>\n          </div>\n        )\n      })}\n    </>\n  )\n}\n\nexport default ReviewSwap\n","import \"./SwapPage.scss\"\n\nimport { Button, Center } from \"@chakra-ui/react\"\nimport ConfirmTransaction, { ModalType } from \"./ConfirmTransaction\"\nimport { FaArrowDown, FaArrowUp } from \"react-icons/fa\"\nimport React, { ReactElement, useMemo, useState } from \"react\"\nimport { SWAP_TYPES, getIsVirtualSwap } from \"../constants\"\nimport { Trans, useTranslation } from \"react-i18next\"\nimport { formatBNToPercentString, formatBNToString } from \"../utils\"\n\nimport AdvancedOptions from \"./AdvancedOptions\"\nimport { AppState } from \"../state/index\"\nimport { BigNumber } from \"@ethersproject/bignumber\"\nimport { BsSliders } from \"react-icons/bs\"\nimport { ContractReceipt } from \"@ethersproject/contracts\"\nimport { IconButtonPopover } from \"./Popover\"\nimport { ReactComponent as InfoIcon } from \"../assets/icons/info.svg\"\nimport Modal from \"./Modal\"\nimport { PendingSwap } from \"../hooks/usePendingSwapData\"\nimport PendingSwapModal from \"./PendingSwapModal\"\nimport ReviewSwap from \"./ReviewSwap\"\nimport { Slippages } from \"../state/user\"\nimport SwapInput from \"./SwapInput\"\nimport type { TokenOption } from \"../pages/Swap\"\nimport TopMenu from \"./TopMenu\"\nimport { Zero } from \"@ethersproject/constants\"\nimport classNames from \"classnames\"\nimport { commify } from \"../utils\"\nimport { formatUnits } from \"@ethersproject/units\"\nimport { getEtherscanLink } from \"../utils/getEtherscanLink\"\nimport { isHighPriceImpact } from \"../utils/priceImpact\"\nimport { logEvent } from \"../utils/googleAnalytics\"\nimport { useActiveWeb3React } from \"../hooks\"\nimport { useSelector } from \"react-redux\"\n\ninterface Props {\n  tokenOptions: {\n    from: TokenOption[]\n    to: TokenOption[]\n  }\n  exchangeRateInfo: {\n    pair: string\n    exchangeRate: BigNumber\n    priceImpact: BigNumber\n    route: string[]\n  }\n  txnGasCost: {\n    amount: BigNumber\n    valueUSD: BigNumber | null // amount * ethPriceUSD\n  }\n  error: string | null\n  swapType: SWAP_TYPES\n  fromState: { symbol: string; value: string; valueUSD: BigNumber }\n  toState: { symbol: string; value: string; valueUSD: BigNumber }\n  pendingSwaps: PendingSwap[]\n  onChangeFromToken: (tokenSymbol: string) => void\n  onChangeFromAmount: (amount: string) => void\n  onChangeToToken: (tokenSymbol: string) => void\n  onConfirmTransaction: () => Promise<ContractReceipt | void>\n  onClickReverseExchangeDirection: () => void\n}\n\nconst SwapPage = (props: Props): ReactElement => {\n  const { t } = useTranslation()\n  const { account } = useActiveWeb3React()\n  const {\n    tokenOptions,\n    exchangeRateInfo,\n    txnGasCost,\n    error,\n    fromState,\n    toState,\n    pendingSwaps,\n    swapType,\n    onChangeFromToken,\n    onChangeFromAmount,\n    onChangeToToken,\n    onConfirmTransaction,\n    onClickReverseExchangeDirection,\n  } = props\n\n  const [currentModal, setCurrentModal] = useState<string | null>(null)\n  const [txnHash, setTxnHash] = useState<string | undefined>(undefined)\n  const [activePendingSwap, setActivePendingSwap] = useState<string | null>(\n    null,\n  )\n  const { slippageCustom, slippageSelected } = useSelector(\n    (state: AppState) => state.user,\n  )\n\n  const fromToken = useMemo(() => {\n    return tokenOptions.from.find(({ symbol }) => symbol === fromState.symbol)\n  }, [tokenOptions.from, fromState.symbol])\n\n  const formattedPriceImpact = commify(\n    formatBNToPercentString(exchangeRateInfo.priceImpact, 18),\n  )\n  const formattedExchangeRate = commify(\n    formatBNToString(exchangeRateInfo.exchangeRate, 18, 6),\n  )\n  const formattedRoute = exchangeRateInfo.route.join(\" > \")\n  const formattedBalance = commify(\n    formatBNToString(fromToken?.amount || Zero, fromToken?.decimals || 0, 6),\n  )\n  const isVirtualSwap = getIsVirtualSwap(swapType)\n  const isHighSlippage =\n    slippageSelected === Slippages.OneTenth ||\n    (slippageSelected === Slippages.Custom &&\n      parseFloat(slippageCustom?.valueRaw || \"0\") < 0.5)\n\n  return (\n    <div className=\"swapPage\">\n      <TopMenu activeTab={\"swap\"} />\n      <div className=\"content\">\n        <div className=\"swapHeader\">\n          <h3 className=\"swapTitle\">{t(\"swap\")}</h3>\n          <IconButtonPopover\n            IconButtonProps={{\n              \"aria-label\": \"Configure Settings\",\n              variant: \"outline\",\n              size: \"lg\",\n              icon: <BsSliders size=\"25px\" />,\n              title: \"Configure Settings\",\n            }}\n            PopoverBodyContent={<AdvancedOptions />}\n          />\n        </div>\n        <div className=\"swapForm\">\n          <div className=\"row\">\n            <h3 className=\"swapTitle\">{t(\"from\")}</h3>\n            <div className=\"balanceContainer\">\n              <span>{t(\"balance\")}:</span>\n              &nbsp;\n              <a\n                onClick={() => {\n                  if (fromToken == null) return\n                  const amtStr = formatBNToString(\n                    fromToken.amount,\n                    fromToken.decimals || 0,\n                  )\n                  onChangeFromAmount(amtStr)\n                }}\n              >\n                {formattedBalance}\n              </a>\n            </div>\n          </div>\n          <div className=\"row\">\n            <SwapInput\n              tokens={tokenOptions.from.filter(\n                ({ symbol }) => symbol !== toState.symbol,\n              )}\n              onSelect={onChangeFromToken}\n              onChangeAmount={onChangeFromAmount}\n              selected={fromState.symbol}\n              inputValue={fromState.value}\n              inputValueUSD={fromState.valueUSD}\n              isSwapFrom={true}\n            />\n          </div>\n          <div className=\"row swapButtonContainer\">\n            <h3 className=\"swapTitle\">{t(\"to\")}</h3>\n            <Button\n              variant=\"light\"\n              width=\"50px\"\n              size=\"sm\"\n              onClick={onClickReverseExchangeDirection}\n              disabled={!fromState.symbol || !toState.symbol}\n            >\n              <FaArrowUp size=\"1em\" />\n              <FaArrowDown size=\"1em\" />\n            </Button>\n          </div>\n          <div className=\"row\">\n            <SwapInput\n              tokens={tokenOptions.to.filter(\n                ({ symbol }) => symbol !== fromState.symbol,\n              )}\n              onSelect={onChangeToToken}\n              selected={toState.symbol}\n              inputValue={toState.value}\n              inputValueUSD={toState.valueUSD}\n              isSwapFrom={false}\n            />\n          </div>\n          <div style={{ height: \"24px\" }}></div>\n          {fromState.symbol && toState.symbol && (\n            <div className=\"row\">\n              <div>\n                <span>{t(\"rate\")}</span>\n                &nbsp;\n                <span>{exchangeRateInfo.pair}</span>\n                &nbsp;\n                {/* <button className=\"exchange\">\n                  <svg\n                    width=\"24\"\n                    height=\"20\"\n                    viewBox=\"0 0 24 20\"\n                    fill=\"none\"\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                  >\n                    <path\n                      d=\"M17.4011 12.4196C17.4011 13.7551 16.5999 13.8505 16.4472 13.8505H6.62679L9.14986 11.3274L8.47736 10.6501L5.13869 13.9888C5.04986 14.0782 5 14.1991 5 14.3251C5 14.4511 5.04986 14.572 5.13869 14.6613L8.47736 18L9.14986 17.3275L6.62679 14.8044H16.4472C17.1054 14.8044 18.355 14.3274 18.355 12.4196V10.9888H17.4011V12.4196Z\"\n                      fill=\"#f9ebe0\"\n                    />\n                    <path\n                      d=\"M5.9539 7.58511C5.9539 6.24965 6.75519 6.15426 6.90781 6.15426H16.7283L14.2052 8.67733L14.8777 9.34984L18.2164 6.01117C18.3052 5.92181 18.355 5.80092 18.355 5.67492C18.355 5.54891 18.3052 5.42803 18.2164 5.33867L14.8777 2L14.2004 2.67727L16.7283 5.20035H6.90781C6.24962 5.20035 5 5.6773 5 7.58511V9.01597H5.9539V7.58511Z\"\n                      fill=\"#f9ebe0\"\n                    />\n                  </svg>\n                </button> */}\n              </div>\n              <span className=\"exchRate\">{formattedExchangeRate}</span>\n            </div>\n          )}\n          <div className=\"row\">\n            <span>{t(\"priceImpact\")}</span>\n            <span>{formattedPriceImpact}</span>\n          </div>\n          {formattedRoute && (\n            <>\n              <div className=\"row\">\n                <span>{t(\"route\")}</span>\n                <span>{formattedRoute}</span>\n              </div>\n              {isVirtualSwap && (\n                <div className=\"row\">\n                  <span></span>\n                  <span>\n                    <a\n                      href=\"https://docs.saddle.finance/saddle-faq#what-is-virtual-swap\"\n                      style={{ textDecoration: \"underline\" }}\n                      target=\"_blank\"\n                      rel=\"noreferrer\"\n                    >\n                      ({t(\"virtualSwap\")})\n                    </a>\n                  </span>\n                </div>\n              )}\n              {isVirtualSwap && isHighSlippage && (\n                <div className=\"exchangeWarning\">\n                  {t(\"lowSlippageVirtualSwapWarning\")}\n                </div>\n              )}\n            </>\n          )}\n        </div>\n        {account && isHighPriceImpact(exchangeRateInfo.priceImpact) ? (\n          <div className=\"exchangeWarning\">\n            {t(\"highPriceImpact\", {\n              rate: formattedPriceImpact,\n            })}\n          </div>\n        ) : null}\n        {isVirtualSwap && (\n          <div className=\"virtualSwapInfoBubble\">\n            <InfoIcon />\n            {t(\"crossAssetSwapsUseVirtualSwaps\")} {\"<\"}\n            <a\n              href=\"https://docs.saddle.finance/saddle-faq#what-is-virtual-swap\"\n              target=\"_blank\"\n              rel=\"noreferrer\"\n            >\n              {t(\"learnMore\")}\n            </a>\n            {\">\"}\n          </div>\n        )}\n        {/* <AdvancedOptions /> */}\n        <div className=\"pendingSwaps\">\n          {pendingSwaps.map((pendingSwap) => {\n            const formattedSynthBalance = commify(\n              formatUnits(\n                pendingSwap.synthBalance,\n                pendingSwap.synthTokenFrom.decimals,\n              ),\n            )\n            return (\n              <div\n                className=\"pendingSwapItem\"\n                key={pendingSwap.itemId?.toString()}\n                onClick={() => {\n                  setActivePendingSwap(pendingSwap.itemId)\n                  setCurrentModal(\"pendingSwap\")\n                }}\n              >\n                <span className=\"swapDetails\">\n                  {formattedSynthBalance} {pendingSwap.synthTokenFrom.symbol}{\" \"}\n                  {\"->\"} {pendingSwap.tokenTo.symbol}\n                </span>\n                <div className=\"swapTimeContainer\">\n                  <svg\n                    width=\"11\"\n                    height=\"11\"\n                    viewBox=\"0 0 11 11\"\n                    fill=\"none\"\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                  >\n                    <path\n                      fillRule=\"evenodd\"\n                      clipRule=\"evenodd\"\n                      d=\"M5.23467 1H5.5C7.98605 1 10 3.01525 10 5.49924C10 7.98311 7.98618 10 5.5 10C3.01388 10 1 7.98469 1 5.49924C1 4.30732 1.46423 3.22282 2.21973 2.41912L2.60641 2.78249C1.93974 3.49169 1.53066 4.4476 1.53066 5.49924C1.53066 7.69191 3.30721 9.46943 5.5 9.46943C7.69273 9.46943 9.46934 7.69046 9.46934 5.49924C9.46934 3.39724 7.83438 1.67581 5.76533 1.5393V2.96008H5.23467V1Z\"\n                      fill=\"black\"\n                      stroke=\"black\"\n                      strokeWidth=\"0.3\"\n                      strokeMiterlimit=\"10\"\n                    />\n                    <path\n                      d=\"M5.76204 5.52774L5.76861 5.53328L5.77577 5.53804C5.82206 5.5688 5.85082 5.61957 5.84998 5.67802L5.84997 5.67802V5.68017C5.84997 5.77327 5.77431 5.85 5.67911 5.85C5.62153 5.85 5.56861 5.81994 5.53676 5.77321L5.53241 5.76682L5.52742 5.76091L4.26017 4.26001L5.76204 5.52774Z\"\n                      fill=\"black\"\n                      stroke=\"black\"\n                      strokeWidth=\"0.3\"\n                    />\n                  </svg>\n                  <span className=\"swapTime\">\n                    {Math.ceil(pendingSwap.secondsRemaining / 60)} min.\n                  </span>\n                </div>\n              </div>\n            )\n          })}\n        </div>\n        <Center width=\"100%\" className=\"submitButtonWrapper\">\n          <Button\n            variant=\"primary\"\n            size=\"lg\"\n            width=\"100%\"\n            onClick={(): void => {\n              setCurrentModal(\"review\")\n            }}\n            disabled={!!error || +toState.value <= 0}\n          >\n            {t(\"swap\")}\n          </Button>\n        </Center>\n        <div className={classNames({ showError: !!error }, \"error\")}>\n          {error}\n        </div>\n        <Modal\n          isOpen={!!currentModal}\n          onClose={(): void => setCurrentModal(null)}\n        >\n          {currentModal === \"review\" ? (\n            <ReviewSwap\n              onClose={(): void => setCurrentModal(null)}\n              onConfirm={() => {\n                setTxnHash(undefined)\n                setCurrentModal(ModalType.CONFIRM)\n                logEvent(\"swap\", {\n                  from: fromState.symbol,\n                  to: toState.symbol,\n                })\n                onConfirmTransaction?.()\n                  .then((res) => {\n                    if (res?.status) {\n                      setCurrentModal(ModalType.SUCCESS)\n                    } else {\n                      setCurrentModal(ModalType.FAILED)\n                      setTxnHash(res?.transactionHash)\n                    }\n                  })\n                  .catch(() => {\n                    setCurrentModal(ModalType.FAILED)\n                  })\n              }}\n              data={{\n                from: fromState,\n                to: toState,\n                exchangeRateInfo,\n                txnGasCost,\n                swapType,\n              }}\n            />\n          ) : null}\n          {currentModal === ModalType.CONFIRM ? (\n            <ConfirmTransaction />\n          ) : currentModal === ModalType.FAILED ? (\n            <ConfirmTransaction\n              title={t(\"failedTitle\")}\n              type={ModalType.FAILED}\n              description={\n                !txnHash ? t(\"txFailed_internal\", { tx: t(\"swap\") }) : undefined\n              }\n            >\n              {txnHash && (\n                <Trans i18nKey=\"txFailed\" t={t}>\n                  {{ tx: t(\"swap\") }}\n                  <a\n                    href={getEtherscanLink(txnHash, \"tx\")}\n                    target=\"_blank\"\n                    rel=\"noreferrer\"\n                    style={{ textDecoration: \"underline\", margin: 0 }}\n                  >\n                    blockscout.\n                  </a>\n                </Trans>\n              )}\n            </ConfirmTransaction>\n          ) : currentModal === ModalType.SUCCESS ? (\n            <ConfirmTransaction\n              title={t(\"successTitle\")}\n              description={t(\"txConfirmed_swap\")}\n              type={ModalType.SUCCESS}\n            />\n          ) : null}\n          {currentModal === \"pendingSwap\" ? (\n            <PendingSwapModal\n              pendingSwap={\n                pendingSwaps.find(\n                  (p) => p.itemId === activePendingSwap,\n                ) as PendingSwap\n              }\n              onClose={() => {\n                setCurrentModal(null)\n                setActivePendingSwap(null)\n              }}\n            />\n          ) : null}\n        </Modal>\n      </div>\n    </div>\n  )\n}\n\nexport default SwapPage\n","/* eslint @typescript-eslint/no-unsafe-assignment: 0 */\n/* eslint @typescript-eslint/no-unsafe-call: 0 */\nimport {\n  IS_VIRTUAL_SWAP_ACTIVE,\n  POOLS_MAP,\n  PoolName,\n  SWAP_TYPES,\n  TOKENS_MAP,\n} from \"../constants\"\nimport React, {\n  ReactElement,\n  useCallback,\n  useContext,\n  useEffect,\n  useMemo,\n  useState,\n} from \"react\"\nimport {\n  SwapData,\n  SwapSide,\n  useCalculateSwapPairs,\n} from \"../hooks/useCalculateSwapPairs\"\nimport {\n  calculateExchangeRate,\n  calculatePrice,\n  formatBNToString,\n  shiftBNDecimals,\n} from \"../utils\"\nimport { formatUnits, parseUnits } from \"@ethersproject/units\"\nimport {\n  useBridgeContract,\n  usePoolContract,\n  useSynthetixExchangeRatesContract,\n} from \"../hooks/useContract\"\n\nimport { AppState } from \"../state/index\"\nimport { BigNumber } from \"@ethersproject/bignumber\"\nimport { ContractReceipt } from \"@ethersproject/contracts\"\nimport { PendingSwapsContext } from \"../providers/PendingSwapsProvider\"\nimport SwapPage from \"../components/SwapPage\"\nimport { Zero } from \"@ethersproject/constants\"\nimport { calculateGasEstimate } from \"../utils/gasEstimate\"\nimport { calculatePriceImpact } from \"../utils/priceImpact\"\nimport { debounce } from \"lodash\"\nimport { formatGasToString } from \"../utils/gas\"\nimport { useActiveWeb3React } from \"../hooks\"\nimport { useApproveAndSwap } from \"../hooks/useApproveAndSwap\"\nimport { usePoolTokenBalances } from \"../state/wallet/hooks\"\nimport { useSelector } from \"react-redux\"\nimport { useTranslation } from \"react-i18next\"\nimport { utils } from \"ethers\"\n\ntype FormState = {\n  error: null | string\n  from: {\n    value: string\n    valueUSD: BigNumber\n  } & SwapSide\n  to: {\n    value: BigNumber\n    valueUSD: BigNumber\n    valueSynth: BigNumber\n  } & SwapSide\n  priceImpact: BigNumber\n  exchangeRate: BigNumber\n  route: string[]\n  swapType: SWAP_TYPES\n  currentSwapPairs: SwapData[]\n}\nexport interface TokenOption {\n  symbol: string\n  name: string\n  valueUSD: BigNumber\n  amount: BigNumber\n  icon: string\n  decimals: number\n  swapType: SWAP_TYPES | null\n  isAvailable: boolean\n}\n\nconst EMPTY_FORM_STATE = {\n  error: null,\n  from: {\n    symbol: \"\",\n    value: \"0.0\",\n    valueUSD: Zero,\n  },\n  to: {\n    symbol: \"\",\n    value: Zero,\n    valueUSD: Zero,\n    valueSynth: Zero,\n  },\n  priceImpact: Zero,\n  exchangeRate: Zero,\n  route: [],\n  swapType: SWAP_TYPES.INVALID,\n  currentSwapPairs: [],\n}\n\nfunction Swap(): ReactElement {\n  const { t } = useTranslation()\n  const { chainId } = useActiveWeb3React()\n  const approveAndSwap = useApproveAndSwap()\n  const tokenBalances = usePoolTokenBalances()\n  const bridgeContract = useBridgeContract()\n  const snxEchangeRatesContract = useSynthetixExchangeRatesContract()\n  const calculateSwapPairs = useCalculateSwapPairs()\n  const pendingSwapData = useContext(PendingSwapsContext)\n  const { tokenPricesUSD, gasStandard, gasFast, gasInstant } = useSelector(\n    (state: AppState) => state.application,\n  )\n  const { gasPriceSelected, gasCustom } = useSelector(\n    (state: AppState) => state.user,\n  )\n\n  const [formState, setFormState] = useState<FormState>(EMPTY_FORM_STATE)\n  const [prevFormState, setPrevFormState] = useState<FormState>(\n    EMPTY_FORM_STATE,\n  )\n\n  const swapContract = usePoolContract(\n    formState.to.poolName as PoolName | undefined,\n  )\n  // build a representation of pool tokens for the UI\n  const tokenOptions = useMemo(() => {\n    const allTokens = Object.values(TOKENS_MAP)\n      .filter(({ isLPToken }) => !isLPToken)\n      .map(({ symbol, name, icon, decimals }) => {\n        const amount = tokenBalances?.[symbol] || Zero\n        return {\n          name,\n          icon,\n          symbol,\n          decimals,\n          amount,\n          valueUSD: calculatePrice(amount, tokenPricesUSD?.[symbol], decimals),\n          isAvailable: true,\n          swapType: null,\n        }\n      })\n      .sort(sortTokenOptions)\n    const toTokens =\n      formState.currentSwapPairs.length > 0\n        ? formState.currentSwapPairs\n            .map(({ to, type: swapType }) => {\n              const { symbol, name, icon, decimals } = TOKENS_MAP[to.symbol]\n              const amount = tokenBalances?.[symbol] || Zero\n              return {\n                name,\n                icon,\n                symbol,\n                decimals,\n                amount,\n                valueUSD: calculatePrice(\n                  amount,\n                  tokenPricesUSD?.[symbol],\n                  decimals,\n                ),\n                swapType,\n                isAvailable: IS_VIRTUAL_SWAP_ACTIVE\n                  ? swapType !== SWAP_TYPES.INVALID\n                  : swapType === SWAP_TYPES.DIRECT, // TODO replace once VSwaps are live\n              }\n            })\n            .sort(sortTokenOptions)\n        : allTokens\n    // from: all tokens always available. to: limited by selected \"from\" token.\n    return {\n      from: allTokens,\n      to: toTokens,\n    }\n  }, [tokenPricesUSD, tokenBalances, formState.currentSwapPairs])\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  const calculateSwapAmount = useCallback(\n    debounce(async (formStateArg: FormState) => {\n      if (formStateArg.swapType === SWAP_TYPES.INVALID) return\n      if (tokenBalances === null || chainId == null)\n        // || bridgeContract == null\n        return\n      if (\n        formStateArg.from.tokenIndex === undefined ||\n        formStateArg.from.poolName === undefined ||\n        formStateArg.to.tokenIndex === undefined ||\n        formStateArg.to.poolName === undefined\n      )\n        return\n      const cleanedFormFromValue = formStateArg.from.value.replace(/[$,]/g, \"\")\n      if (\n        cleanedFormFromValue === \"\" ||\n        isNaN(+cleanedFormFromValue) ||\n        formStateArg.to.symbol === \"\"\n      ) {\n        setFormState((prevState) => ({\n          ...prevState,\n          to: {\n            ...prevState.to,\n            value: Zero,\n          },\n          priceImpact: Zero,\n        }))\n        return\n      }\n      const amountToGive = parseUnits(\n        cleanedFormFromValue,\n        TOKENS_MAP[formStateArg.from.symbol].decimals,\n      )\n      const tokenFrom = TOKENS_MAP[formStateArg.from.symbol]\n      const tokenTo = TOKENS_MAP[formStateArg.to.symbol]\n      let error: string | null = null\n      let amountToReceive = Zero\n      let amountMediumSynth = Zero\n      if (amountToGive.gt(tokenBalances[formStateArg.from.symbol] || Zero)) {\n        error = t(\"insufficientBalance\")\n      }\n      if (amountToGive.isZero()) {\n        amountToReceive = Zero\n      } else if (\n        formStateArg.swapType === SWAP_TYPES.TOKEN_TO_TOKEN &&\n        bridgeContract != null\n      ) {\n        const originPool = POOLS_MAP[formStateArg.from.poolName]\n        const destinationPool = POOLS_MAP[formStateArg.to.poolName]\n        const [\n          amountOutSynth,\n          amountOutToken,\n        ] = await bridgeContract.calcTokenToToken(\n          [originPool.addresses[chainId], destinationPool.addresses[chainId]],\n          formStateArg.from.tokenIndex,\n          formStateArg.to.tokenIndex,\n          amountToGive,\n        )\n        amountToReceive = amountOutToken\n        amountMediumSynth = amountOutSynth\n      } else if (\n        formStateArg.swapType === SWAP_TYPES.SYNTH_TO_TOKEN &&\n        bridgeContract != null\n      ) {\n        const destinationPool = POOLS_MAP[formStateArg.to.poolName]\n        const [\n          amountOutSynth,\n          amountOutToken,\n        ] = await bridgeContract.calcSynthToToken(\n          destinationPool.addresses[chainId],\n          utils.formatBytes32String(formStateArg.from.symbol),\n          formStateArg.to.tokenIndex,\n          amountToGive,\n        )\n        amountToReceive = amountOutToken\n        amountMediumSynth = amountOutSynth\n      } else if (\n        formStateArg.swapType === SWAP_TYPES.TOKEN_TO_SYNTH &&\n        bridgeContract != null\n      ) {\n        const originPool = POOLS_MAP[formStateArg.from.poolName]\n        amountToReceive = await bridgeContract.calcTokenToSynth(\n          originPool.addresses[chainId],\n          formStateArg.from.tokenIndex,\n          utils.formatBytes32String(formStateArg.to.symbol),\n          amountToGive,\n        )\n        // TO-DO: we need to clean this\n      } else if (\n        formStateArg.swapType === SWAP_TYPES.DIRECT &&\n        swapContract != null\n      ) {\n        if (\n          formStateArg.from.symbol === \"FRAX\" ||\n          formStateArg.from.symbol === \"atUST\" ||\n          formStateArg.to.symbol === \"FRAX\" ||\n          formStateArg.to.symbol === \"atUST\" ||\n          formStateArg.from.symbol === \"abBUSD\" ||\n          formStateArg.to.symbol === \"abBUSD\"\n        ) {\n          amountToReceive = await swapContract.get_dy_underlying(\n            formStateArg.from.tokenIndex,\n            formStateArg.to.tokenIndex,\n            amountToGive,\n          )\n        } else {\n          amountToReceive = await swapContract.get_dy(\n            formStateArg.from.tokenIndex,\n            formStateArg.to.tokenIndex,\n            amountToGive,\n          )\n        }\n      } else if (\n        formStateArg.swapType === SWAP_TYPES.SYNTH_TO_SYNTH &&\n        snxEchangeRatesContract != null\n      ) {\n        amountToReceive = await snxEchangeRatesContract.effectiveValue(\n          utils.formatBytes32String(formStateArg.from.symbol),\n          amountToGive,\n          utils.formatBytes32String(formStateArg.to.symbol),\n        )\n      }\n      const toValueUSD = calculatePrice(\n        amountToReceive,\n        tokenPricesUSD?.[tokenTo.symbol],\n        tokenTo.decimals,\n      )\n      const priceImpact = calculatePriceImpact(\n        formStateArg.from.valueUSD,\n        toValueUSD,\n      )\n      setFormState((prevState) => {\n        const newState = {\n          ...prevState,\n          error,\n          to: {\n            ...prevState.to,\n            value: amountToReceive,\n            valueUSD: toValueUSD,\n            valueSynth: amountMediumSynth,\n          },\n          priceImpact,\n          exchangeRate: calculateExchangeRate(\n            amountToGive,\n            tokenFrom.decimals,\n            amountToReceive,\n            tokenTo.decimals,\n          ),\n        }\n        setPrevFormState(newState)\n        return newState\n      })\n    }, 250),\n    [tokenBalances, swapContract, bridgeContract, chainId, tokenPricesUSD],\n  )\n\n  useEffect(() => {\n    // watch user input fields and calculate other fields if necessary\n    if (\n      prevFormState.from.symbol !== formState.from.symbol ||\n      prevFormState.from.value !== formState.from.value ||\n      prevFormState.to.symbol !== formState.to.symbol\n    ) {\n      void calculateSwapAmount(formState)\n    }\n  }, [prevFormState, formState, calculateSwapAmount])\n\n  function handleUpdateAmountFrom(value: string): void {\n    setFormState((prevState) => {\n      const nextState = {\n        ...prevState,\n        from: {\n          ...prevState.from,\n          value,\n          valueUSD: calculatePrice(\n            value,\n            tokenPricesUSD?.[prevState.from.symbol],\n          ),\n        },\n      }\n      return nextState\n    })\n  }\n  function handleReverseExchangeDirection(): void {\n    setFormState((prevState) => {\n      const swapPairs = calculateSwapPairs(TOKENS_MAP[prevState.to.symbol])\n      const activeSwapPair = swapPairs.find(\n        (pair) => pair.to.symbol === prevState.from.symbol,\n      )\n      const nextState = {\n        error: null,\n        from: {\n          symbol: prevState.to.symbol,\n          value: formatBNToString(\n            prevState.to.value,\n            TOKENS_MAP[prevState.to.symbol].decimals,\n            TOKENS_MAP[prevState.to.symbol].decimals,\n          ),\n          valueUSD: calculatePrice(\n            prevState.from.value,\n            tokenPricesUSD?.[prevState.to.symbol],\n          ),\n          poolName: activeSwapPair?.from.poolName,\n          tokenIndex: activeSwapPair?.from.tokenIndex,\n        },\n        to: {\n          symbol: prevState.from.symbol,\n          value: Zero,\n          valueUSD: Zero,\n          valueSynth: Zero,\n          poolName: activeSwapPair?.to.poolName,\n          tokenIndex: activeSwapPair?.to.tokenIndex,\n        },\n        priceImpact: Zero,\n        exchangeRate: Zero,\n        route: activeSwapPair?.route || [],\n        currentSwapPairs: swapPairs,\n        swapType: activeSwapPair?.type || SWAP_TYPES.INVALID,\n      }\n      return nextState\n    })\n  }\n  function handleUpdateTokenFrom(symbol: string): void {\n    if (symbol === formState.to.symbol) return handleReverseExchangeDirection()\n    setFormState((prevState) => {\n      const swapPairs = calculateSwapPairs(TOKENS_MAP[symbol])\n      const activeSwapPair = swapPairs.find(\n        (pair) => pair.to.symbol === prevState.to.symbol,\n      )\n      const isValidSwap =\n        IS_VIRTUAL_SWAP_ACTIVE && activeSwapPair\n          ? activeSwapPair.type !== SWAP_TYPES.INVALID\n          : activeSwapPair?.type === SWAP_TYPES.DIRECT\n      const fromDecimals = TOKENS_MAP[prevState.from.symbol]?.decimals || 0\n      const toDecimals = TOKENS_MAP[symbol]?.decimals || 0\n      const nextState = {\n        ...prevState,\n        error: null,\n        from: {\n          ...prevState.from,\n          symbol,\n          value:\n            fromDecimals > toDecimals\n              ? (+prevState.from.value).toFixed(toDecimals)\n              : prevState.from.value,\n          valueUSD: calculatePrice(\n            prevState.from.value,\n            tokenPricesUSD?.[symbol],\n          ),\n          poolName: activeSwapPair?.from.poolName,\n          tokenIndex: activeSwapPair?.from.tokenIndex,\n        },\n        to: {\n          ...prevState.to,\n          value: Zero,\n          valueSynth: Zero,\n          valueUSD: Zero,\n          symbol: isValidSwap ? prevState.to.symbol : \"\",\n          poolName: isValidSwap ? activeSwapPair?.to.poolName : undefined,\n          tokenIndex: isValidSwap ? activeSwapPair?.to.tokenIndex : undefined,\n        },\n        priceImpact: Zero,\n        exchangeRate: Zero,\n        route: activeSwapPair?.route || [],\n        currentSwapPairs: swapPairs,\n        swapType: activeSwapPair?.type || SWAP_TYPES.INVALID,\n      }\n      return nextState\n    })\n  }\n\n  function handleUpdateTokenTo(symbol: string): void {\n    if (symbol === formState.from.symbol)\n      return handleReverseExchangeDirection()\n    setFormState((prevState) => {\n      const activeSwapPair = prevState.currentSwapPairs.find(\n        (pair) => pair.to.symbol === symbol,\n      )\n      const nextState = {\n        ...prevState,\n        from: {\n          ...prevState.from,\n          ...(activeSwapPair?.from || {}),\n        },\n        error: null,\n        to: {\n          ...prevState.to,\n          value: Zero,\n          valueSynth: Zero,\n          symbol,\n          valueUSD: Zero,\n          poolName: activeSwapPair?.to.poolName,\n          tokenIndex: activeSwapPair?.to.tokenIndex,\n        },\n        priceImpact: Zero,\n        exchangeRate: Zero,\n        route: activeSwapPair?.route || [],\n        swapType: activeSwapPair?.type || SWAP_TYPES.INVALID,\n      }\n      return nextState\n    })\n  }\n\n  async function handleConfirmTransaction(): Promise<ContractReceipt | void> {\n    const fromToken = TOKENS_MAP[formState.from.symbol]\n    if (\n      formState.swapType === SWAP_TYPES.INVALID ||\n      formState.from.tokenIndex === undefined ||\n      formState.from.poolName === undefined ||\n      formState.to.tokenIndex === undefined ||\n      formState.to.poolName === undefined\n    ) {\n      console.debug(\"Invalid transaction\", formState)\n      setFormState((prevState) => ({\n        ...EMPTY_FORM_STATE,\n        error: \"Invalid Transaction\",\n        from: {\n          ...prevState.from,\n          value: \"0.0\",\n          valueUSD: Zero,\n        },\n      }))\n      return\n    }\n    const receipt = await approveAndSwap({\n      bridgeContract: bridgeContract,\n      poolContract: swapContract,\n      from: {\n        amount: parseUnits(formState.from.value, fromToken.decimals),\n        symbol: formState.from.symbol,\n        poolName: formState.from.poolName,\n        tokenIndex: formState.from.tokenIndex,\n      },\n      to: {\n        amount: formState.to.value,\n        symbol: formState.to.symbol,\n        poolName: formState.to.poolName,\n        tokenIndex: formState.to.tokenIndex,\n        amountMediumSynth: formState.to.valueSynth,\n      },\n      swapType: formState.swapType,\n    })\n    // Clear input after deposit\n    setFormState((prevState) => ({\n      error: null,\n      from: {\n        ...prevState.from,\n        value: \"0.0\",\n        valueUSD: Zero,\n      },\n      to: {\n        ...prevState.to,\n        value: Zero,\n        valueUSD: Zero,\n      },\n      priceImpact: Zero,\n      exchangeRate: Zero,\n      route: prevState.route,\n      currentSwapPairs: prevState.currentSwapPairs,\n      swapType: prevState.swapType,\n    }))\n    return receipt\n  }\n\n  const gasPrice = BigNumber.from(\n    formatGasToString(\n      { gasStandard, gasFast, gasInstant },\n      gasPriceSelected,\n      gasCustom,\n    ),\n  )\n  const gasAmount = calculateGasEstimate(formState.swapType).mul(gasPrice) // units of gas * GWEI/Unit of gas\n\n  const txnGasCost = {\n    amount: gasAmount,\n    valueUSD: tokenPricesUSD?.ETH\n      ? parseUnits(tokenPricesUSD.ETH.toFixed(2), 18) // USD / ETH  * 10^18\n          .mul(gasAmount) // GWEI\n          .div(BigNumber.from(10).pow(25)) // USD / ETH * GWEI * ETH / GWEI = USD\n      : null,\n  }\n\n  return (\n    <SwapPage\n      pendingSwaps={pendingSwapData}\n      tokenOptions={tokenOptions}\n      exchangeRateInfo={{\n        pair: `${formState.from.symbol}/${formState.to.symbol}`,\n        exchangeRate: formState.exchangeRate,\n        priceImpact: formState.priceImpact,\n        route: formState.route,\n      }}\n      txnGasCost={txnGasCost}\n      fromState={formState.from}\n      toState={{\n        ...formState.to,\n        value:\n          formState.to.symbol === \"\"\n            ? \"0\"\n            : formatUnits(\n                formState.to.value,\n                TOKENS_MAP[formState.to.symbol].decimals,\n              ),\n      }}\n      swapType={formState.swapType}\n      onChangeFromAmount={handleUpdateAmountFrom}\n      onChangeFromToken={handleUpdateTokenFrom}\n      onChangeToToken={handleUpdateTokenTo}\n      error={formState.error}\n      onConfirmTransaction={handleConfirmTransaction}\n      onClickReverseExchangeDirection={handleReverseExchangeDirection}\n    />\n  )\n}\n\nexport default Swap\n\nconst sortTokenOptions = (a: TokenOption, b: TokenOption) => {\n  if (a.isAvailable !== b.isAvailable) {\n    return a.isAvailable ? -1 : 1\n  }\n  // if either is invalid, put the valid one first\n  if (a.swapType === SWAP_TYPES.INVALID || b.swapType === SWAP_TYPES.INVALID) {\n    return a.swapType === SWAP_TYPES.INVALID ? 1 : -1\n  }\n  if (a.valueUSD.eq(b.valueUSD)) {\n    const amountA = shiftBNDecimals(a.amount, 18 - a.decimals)\n    const amountB = shiftBNDecimals(b.amount, 18 - b.decimals)\n    return amountA.gt(amountB) ? -1 : 1\n  } else if (a.valueUSD.gt(b.valueUSD)) {\n    return -1\n  }\n  return 1\n}\n","/* eslint @typescript-eslint/no-explicit-any: 0 */\n/* eslint @typescript-eslint/no-unsafe-assignment: 0 */\n/* eslint @typescript-eslint/no-unsafe-call: 0 */\n/* eslint @typescript-eslint/no-unsafe-member-access: 0 */\n/* eslint @typescript-eslint/no-unsafe-return: 0 */\nimport { Contract, ContractReceipt } from \"@ethersproject/contracts\"\nimport { POOLS_MAP, SWAP_TYPES, TRANSACTION_TYPES } from \"../constants\"\n// import { notifyCustomError, notifyHandler } from \"../utils/notifyHandler\"\n\nimport { AppState } from \"../state\"\nimport { BigNumber } from \"@ethersproject/bignumber\"\nimport { Bridge } from \"../../types/ethers-contracts/Bridge\"\nimport { Erc20 } from \"../../types/ethers-contracts/Erc20\"\nimport { Zero } from \"@ethersproject/constants\"\nimport checkAndApproveTokenForTrade from \"../utils/checkAndApproveTokenForTrade\"\nimport { subtractSlippage } from \"../utils/slippage\"\nimport { updateLastTransactionTimes } from \"../state/application\"\nimport { useActiveWeb3React } from \".\"\nimport { useAllContracts } from \"./useContract\"\nimport { useDispatch } from \"react-redux\"\nimport { useSelector } from \"react-redux\"\nimport { utils } from \"ethers\"\n\ntype Contracts = {\n  poolContract: Contract | null\n  bridgeContract: Bridge | null\n}\ntype SwapSide = {\n  amount: BigNumber\n  symbol: string\n  poolName: string\n  tokenIndex: number\n}\ntype FormState = {\n  from: SwapSide\n  to: SwapSide & { amountMediumSynth: BigNumber }\n  swapType: Exclude<SWAP_TYPES, SWAP_TYPES.INVALID>\n}\ntype ApproveAndSwapStateArgument = FormState & Contracts\n\nexport function useApproveAndSwap(): (\n  state: ApproveAndSwapStateArgument,\n) => Promise<ContractReceipt | void> {\n  const dispatch = useDispatch()\n  const tokenContracts = useAllContracts()\n  const { account, chainId } = useActiveWeb3React()\n  const { slippageCustom, slippageSelected, infiniteApproval } = useSelector(\n    (state: AppState) => state.user,\n  )\n  return async function approveAndSwap(\n    state: ApproveAndSwapStateArgument,\n  ): Promise<ContractReceipt | void> {\n    try {\n      if (!account) throw new Error(\"Wallet must be connected\")\n      if (state.swapType === SWAP_TYPES.DIRECT && !state.poolContract)\n        throw new Error(\"Swap contract is not loaded\")\n      if (state.swapType !== SWAP_TYPES.DIRECT && !state.bridgeContract)\n        throw new Error(\"Bridge contract is not loaded\")\n      if (chainId === undefined) throw new Error(\"Unknown chain\")\n      // For each token being deposited, check the allowance and approve it if necessary\n      const tokenContract = tokenContracts?.[state.from.symbol] as Erc20\n      const gasPrice = Zero\n      // if (gasPriceSelected === GasPrices.Custom) {\n      //   gasPrice = gasCustom?.valueSafe\n      // } else if (gasPriceSelected === GasPrices.Fast) {\n      //   gasPrice = gasFast\n      // } else if (gasPriceSelected === GasPrices.Instant) {\n      //   gasPrice = gasInstant\n      // } else {\n      //   gasPrice = gasStandard\n      // }\n      // gasPrice = parseUnits(String(gasPrice) || \"45\", 9)\n      if (tokenContract == null) return\n      let addressToApprove = \"\"\n      if (state.swapType === SWAP_TYPES.DIRECT) {\n        addressToApprove = state.poolContract?.address as string\n      } else {\n        addressToApprove = state.bridgeContract?.address as string\n      }\n      await checkAndApproveTokenForTrade(\n        tokenContract,\n        addressToApprove,\n        account,\n        state.from.amount,\n        infiniteApproval,\n        gasPrice,\n        {\n          onTransactionError: () => {\n            throw new Error(\"Your transaction could not be completed\")\n          },\n        },\n      )\n      let swapTransaction\n      if (state.swapType === SWAP_TYPES.TOKEN_TO_TOKEN) {\n        const originPool = POOLS_MAP[state.from.poolName]\n        const destinationPool = POOLS_MAP[state.to.poolName]\n        const args = [\n          [\n            originPool.addresses[chainId],\n            destinationPool.addresses[chainId],\n          ] as [string, string],\n          state.from.tokenIndex,\n          state.to.tokenIndex,\n          state.from.amount,\n          subtractSlippage(\n            state.to.amountMediumSynth,\n            slippageSelected,\n            slippageCustom,\n          ), // subtract slippage from minSynth\n          { gasPrice },\n        ] as const\n        console.debug(\"swap - tokenToToken\", args)\n        swapTransaction = await (state.bridgeContract as Bridge).tokenToToken(\n          ...args,\n        )\n      } else if (state.swapType === SWAP_TYPES.SYNTH_TO_TOKEN) {\n        const destinationPool = POOLS_MAP[state.to.poolName]\n        const args = [\n          destinationPool.addresses[chainId],\n          utils.formatBytes32String(state.from.symbol),\n          state.to.tokenIndex,\n          state.from.amount,\n          subtractSlippage(\n            state.to.amountMediumSynth,\n            slippageSelected,\n            slippageCustom,\n          ), // subtract slippage from minSynth\n          { gasPrice },\n        ] as const\n        console.debug(\"swap - synthToToken\", args)\n        swapTransaction = await (state.bridgeContract as Bridge).synthToToken(\n          ...args,\n        )\n      } else if (state.swapType === SWAP_TYPES.TOKEN_TO_SYNTH) {\n        const originPool = POOLS_MAP[state.from.poolName]\n        const args = [\n          originPool.addresses[chainId],\n          state.from.tokenIndex,\n          utils.formatBytes32String(state.to.symbol),\n          state.from.amount,\n          subtractSlippage(state.to.amount, slippageSelected, slippageCustom),\n          { gasPrice },\n        ] as const\n        console.debug(\"swap - tokenToSynth\", args)\n        swapTransaction = await (state.bridgeContract as Bridge).tokenToSynth(\n          ...args,\n        )\n      } else if (state.swapType === SWAP_TYPES.DIRECT) {\n        if (\n          state.from.symbol === \"FRAX\" ||\n          state.from.symbol === \"atUST\" ||\n          state.from.symbol === \"abBUSD\" ||\n          state.to.symbol === \"FRAX\" ||\n          state.to.symbol === \"atUST\" ||\n          state.to.symbol === \"abBUSD\"\n        ) {\n          const args = [\n            state.from.tokenIndex,\n            state.to.tokenIndex,\n            state.from.amount,\n            subtractSlippage(state.to.amount, slippageSelected, slippageCustom),\n            { gasPrice },\n          ] as const\n          console.debug(\"exchange_underlying - direct\", args)\n          swapTransaction = await (state.poolContract as NonNullable<\n            typeof state.poolContract // we already check for nonnull above\n          >).exchange_underlying(...args)\n        } else {\n          const args = [\n            state.from.tokenIndex,\n            state.to.tokenIndex,\n            state.from.amount,\n            subtractSlippage(state.to.amount, slippageSelected, slippageCustom),\n            { gasPrice },\n          ] as const\n          console.debug(\"exchange - direct\", args)\n          swapTransaction = await (state.poolContract as NonNullable<\n            typeof state.poolContract // we already check for nonnull above\n          >).exchange(...args)\n        }\n      } else {\n        throw new Error(\"Invalid Swap Type, or contract not loaded\")\n      }\n\n      dispatch(\n        updateLastTransactionTimes({\n          [TRANSACTION_TYPES.SWAP]: Date.now(),\n        }),\n      )\n      return await swapTransaction?.wait()\n    } catch (e) {\n      console.error(e)\n    }\n  }\n}\n","import React, { useEffect, useState } from \"react\"\nimport { useEagerConnect, useInactiveListener } from \"../../hooks\"\n\nimport { NetworkContextName } from \"../../constants\"\nimport { network } from \"../../connectors\"\nimport { useWeb3React } from \"@web3-react/core\"\n\nexport default function Web3ReactManager({\n  children,\n}: {\n  children: JSX.Element\n}): JSX.Element | null {\n  const { active } = useWeb3React()\n  const {\n    active: networkActive,\n    error: networkError,\n    activate: activateNetwork,\n  } = useWeb3React(NetworkContextName)\n\n  // try to eagerly connect to an injected provider, if it exists and has granted access already\n  const triedEager = useEagerConnect()\n\n  // after eagerly trying injected, if the network connect ever isn't active or in an error state, activate it\n  useEffect(() => {\n    if (triedEager && !networkActive && !networkError && !active) {\n      void activateNetwork(network)\n    }\n  }, [triedEager, networkActive, networkError, activateNetwork, active])\n\n  // when there's no account connected, react to logins (broadly speaking) on the injected provider, if it exists\n  useInactiveListener(!triedEager)\n\n  // handle delayed loader state\n  const [showLoader, setShowLoader] = useState(false)\n  useEffect(() => {\n    const timeout = setTimeout(() => {\n      setShowLoader(true)\n    }, 600)\n\n    return (): void => {\n      clearTimeout(timeout)\n    }\n  }, [])\n\n  // on page load, do nothing until we've tried to connect to the injected connector\n  if (!triedEager) {\n    return null\n  }\n\n  // if the account context isn't active, and there's an error on the network context, it's an irrecoverable error\n  if (!active && networkError) {\n    return (\n      // TODO: style\n      <h1>Unknown error</h1>\n    )\n  }\n\n  // if neither context is active, spin\n  if (!active && !networkActive) {\n    // TODO: style and/or add proper loader\n    return showLoader ? <h1>Loading...</h1> : null\n  }\n\n  return children\n}\n","import \"./RadioButton.scss\"\n\nimport React, { ReactElement } from \"react\"\n\ninterface Props {\n  checked: boolean\n  onChange: () => void\n  label: string\n}\n\nexport default function RadioButton({\n  checked,\n  onChange,\n  label,\n}: Props): ReactElement {\n  return (\n    <div className=\"radio\">\n      <label className=\"radio_wrapper\">\n        <span className=\"radio_input\">\n          <input type=\"radio\" checked={checked} onChange={onChange} />\n          <span className=\"radio_control\"></span>\n        </span>\n        <span className=\"label\">{label}</span>\n      </label>\n    </div>\n  )\n}\n","import \"./ReviewWithdraw.scss\"\n\nimport React, { ReactElement, useState } from \"react\"\nimport { commify, formatBNToString } from \"../utils\"\n\nimport { AppState } from \"../state/index\"\nimport Button from \"./Button\"\nimport { GasPrices } from \"../state/user\"\nimport HighPriceImpactConfirmation from \"./HighPriceImpactConfirmation\"\nimport { ReviewWithdrawData } from \"./WithdrawPage\"\nimport { formatGasToString } from \"../utils/gas\"\nimport { formatSlippageToString } from \"../utils/slippage\"\nimport { isHighPriceImpact } from \"../utils/priceImpact\"\nimport { useSelector } from \"react-redux\"\nimport { useTranslation } from \"react-i18next\"\n\ninterface Props {\n  onClose: () => void\n  onConfirm: () => void\n  data: ReviewWithdrawData\n  gas: GasPrices\n}\n\nfunction ReviewWithdraw({ onClose, onConfirm, data }: Props): ReactElement {\n  const { t } = useTranslation()\n  const {\n    slippageCustom,\n    slippageSelected,\n    gasPriceSelected,\n    gasCustom,\n  } = useSelector((state: AppState) => state.user)\n  const { gasStandard, gasFast, gasInstant } = useSelector(\n    (state: AppState) => state.application,\n  )\n  const [\n    hasConfirmedHighPriceImpact,\n    setHasConfirmedHighPriceImpact,\n  ] = useState(false)\n  const isHighSlippageTxn = isHighPriceImpact(data.priceImpact)\n  return (\n    <div className=\"reviewWithdraw\">\n      <h3>{t(\"youWillReceive\")}</h3>\n      <div className=\"table\">\n        <div>\n          {data.withdraw.map((token, index) => (\n            <div className=\"eachToken\" key={index}>\n              <div className=\"value\">\n                <span className=\"value\">{token.value}</span>\n              </div>\n              <div className=\"token\">\n                <img src={token.icon} alt=\"icon\" />\n                <span>{token.name}</span>\n              </div>\n            </div>\n          ))}\n        </div>\n        <div className=\"divider\"></div>\n        <div className=\"withdrawInfoItem\">\n          <span className=\"label\">{t(\"gas\")}</span>\n          <span className=\"value\">\n            {formatGasToString(\n              { gasStandard, gasFast, gasInstant },\n              gasPriceSelected,\n              gasCustom,\n            )}{\" \"}\n            GWEI\n          </span>\n        </div>\n        {data.txnGasCost?.valueUSD && (\n          <div className=\"withdrawInfoItem\">\n            <span className=\"label\">{t(\"estimatedTxCost\")}</span>\n            <span className=\"value\">\n              {`≈$${commify(formatBNToString(data.txnGasCost.valueUSD, 2, 2))}`}{\" \"}\n            </span>\n          </div>\n        )}\n        <div className=\"withdrawInfoItem\">\n          <span className=\"label\">{t(\"maxSlippage\")}</span>\n          <span className=\"value\">\n            {formatSlippageToString(slippageSelected, slippageCustom)}%\n          </span>\n        </div>\n        <div className=\"withdrawInfoItem\">\n          <span className=\"label\">{`${t(\"rates\")}:`}</span>\n          <div className=\"rates value\">\n            {data.rates.map((rate, index) => (\n              <span key={index}>\n                1 {rate.name} = ${rate.rate}\n              </span>\n            ))}\n          </div>\n        </div>\n      </div>\n      {isHighSlippageTxn && (\n        <div className=\"withdrawInfoItem\">\n          <HighPriceImpactConfirmation\n            checked={hasConfirmedHighPriceImpact}\n            onCheck={(): void =>\n              setHasConfirmedHighPriceImpact((prevState) => !prevState)\n            }\n          />\n        </div>\n      )}\n      <div className=\"bottom\">\n        <p>{t(\"estimatedOutput\")}</p>\n        <div className=\"buttonWrapper\">\n          <Button\n            onClick={onConfirm}\n            kind=\"primary\"\n            disabled={isHighSlippageTxn && !hasConfirmedHighPriceImpact}\n          >\n            {t(\"confirmWithdraw\")}\n          </Button>\n          <Button onClick={onClose} kind=\"cancel\">\n            {t(\"cancel\")}\n          </Button>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default ReviewWithdraw\n","import \"./WithdrawPage.scss\"\n\nimport {\n  Button,\n  Center,\n  SlideFade,\n  Slider,\n  SliderFilledTrack,\n  SliderMark,\n  SliderThumb,\n  SliderTrack,\n  Tab,\n  TabList,\n  TabPanel,\n  TabPanels,\n  Tabs,\n  Tooltip,\n} from \"@chakra-ui/react\"\nimport ConfirmTransaction, { ModalType } from \"./ConfirmTransaction\"\nimport {\n  FRAX_STABLES_LP_POOL_NAME,\n  POOLS_MAP,\n  POOL_FEE_PRECISION,\n  TOKENS_MAP,\n} from \"../constants\"\nimport { PoolDataType, UserShareType } from \"../hooks/usePoolData\"\nimport React, { ReactElement, useState } from \"react\"\nimport { Trans, useTranslation } from \"react-i18next\"\nimport { formatBNToPercentString, formatBNToString } from \"../utils\"\nimport AdvancedOptions from \"./AdvancedOptions\"\nimport { AppState } from \"../state\"\nimport BackButton from \"./BackButton\"\nimport { BigNumber } from \"@ethersproject/bignumber\"\nimport { BsSliders } from \"react-icons/bs\"\nimport { ContractReceipt } from \"@ethersproject/contracts\"\nimport { FaChartPie } from \"react-icons/fa\"\nimport { IconButtonPopover } from \"./Popover\"\nimport Modal from \"./Modal\"\nimport RadioButton from \"./RadioButton\"\nimport ReviewWithdraw from \"./ReviewWithdraw\"\nimport StakeDetails from \"./StakeDetails\"\nimport TokenInput from \"./TokenInput\"\nimport TopMenu from \"./TopMenu\"\nimport { WithdrawFormState } from \"../hooks/useWithdrawFormState\"\nimport { Zero } from \"@ethersproject/constants\"\nimport classNames from \"classnames\"\nimport { commify } from \"@ethersproject/units\"\nimport { getEtherscanLink } from \"../utils/getEtherscanLink\"\nimport { logEvent } from \"../utils/googleAnalytics\"\nimport { useSelector } from \"react-redux\"\n\nexport interface ReviewWithdrawData {\n  withdraw: {\n    name: string\n    value: string\n    icon: string\n  }[]\n  rates: {\n    name: string\n    value: string\n    rate: string\n  }[]\n  slippage: string\n  priceImpact: BigNumber\n  txnGasCost: {\n    amount: BigNumber\n    valueUSD: BigNumber | null // amount * ethPriceUSD\n  }\n}\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\ninterface Props {\n  title: string\n  tokensData: Array<{\n    symbol: string\n    name: string\n    icon: string\n    inputValue: string\n    max: string\n  }>\n  reviewData: ReviewWithdrawData\n  selected?: { [key: string]: any }\n  poolData: PoolDataType | null\n  myShareData: UserShareType | null\n  formStateData: WithdrawFormState\n  onFormChange: (action: any) => void\n  onConfirmTransaction: () => Promise<ContractReceipt | void>\n}\n/* eslint-enable @typescript-eslint/no-explicit-any */\n\nconst WithdrawPage = (props: Props): ReactElement => {\n  const { t } = useTranslation()\n  const {\n    tokensData,\n    poolData,\n    myShareData,\n    onFormChange,\n    formStateData,\n    reviewData,\n    onConfirmTransaction,\n  } = props\n\n  const { gasPriceSelected } = useSelector((state: AppState) => state.user)\n  const [currentModal, setCurrentModal] = useState<string | null>(null)\n  const [sliderValue, setSliderValue] = React.useState(100)\n  const [showTooltip, setShowTooltip] = React.useState(false)\n\n  const [isOpen, setIsOpen] = useState(false)\n\n  const onSubmit = (): void => {\n    setCurrentModal(\"review\")\n  }\n  const noShare = !myShareData || myShareData.lpTokenBalance.eq(Zero)\n  const [txnHash, setTxnHash] = useState<string | undefined>(undefined)\n\n  const formattedShareTokens =\n    myShareData?.tokens.map((coin) => {\n      const token = TOKENS_MAP[coin.symbol]\n      return {\n        tokenName: token.name,\n        icon: token.icon,\n        amount: commify(formatBNToString(coin.value, 18, 5)),\n      }\n    }) || []\n  const formattedPoolDataTokens =\n    poolData?.tokens.map((coin) => {\n      const token = TOKENS_MAP[coin.symbol]\n      return {\n        symbol: token.symbol,\n        name: token.name,\n        icon: token.icon,\n        percent: coin.percent,\n        value: commify(formatBNToString(coin.value, 18, 5)),\n      }\n    }) || []\n\n  return (\n    <div className={\"withdraw \" + classNames({ noShare: noShare })}>\n      <TopMenu activeTab={\"withdraw\"} />\n      <div className=\"content\">\n        <div className=\"left\">\n          <div className=\"form\">\n            <Tabs\n              isFitted\n              variant=\"primary\"\n              onChange={() => {\n                onFormChange({ fieldName: \"reset\", value: \"reset\" })\n                setIsOpen(false)\n              }}\n            >\n              <div\n                style={{\n                  display: \"flex\",\n                  justifyContent: \"space-between\",\n                  alignItems: \"baseline\",\n                }}\n              >\n                <h3>{t(\"withdraw\")}</h3>\n                <IconButtonPopover\n                  IconButtonProps={{\n                    \"aria-label\": \"Configure Settings\",\n                    variant: \"outline\",\n                    size: \"lg\",\n                    icon: <BsSliders size=\"25px\" />,\n                    title: \"Configure Settings\",\n                  }}\n                  PopoverBodyContent={<AdvancedOptions />}\n                />\n              </div>\n              <TabList>\n                <Tab>Single Token</Tab>\n                <Tab>Multi Token</Tab>\n              </TabList>\n              <TabPanels>\n                <TabPanel>\n                  {poolData?.name === FRAX_STABLES_LP_POOL_NAME && (\n                    <p className=\"outdatedInfo\">\n                      This pool is outdated. Please withdraw your liquidity and{\" \"}\n                      <a href=\"/#/pools/frax/deposit\">\n                        migrate to the new Frax pool.\n                      </a>\n                    </p>\n                  )}\n                  <div className=\"horizontalDisplay\">\n                    <span>Select a token: </span>\n                    <div>\n                      {tokensData.map((t) => {\n                        return (\n                          <RadioButton\n                            key={t.symbol}\n                            checked={formStateData.withdrawType === t.symbol}\n                            onChange={(): void => {\n                              onFormChange({\n                                fieldName: \"withdrawType\",\n                                value: t.symbol,\n                              })\n                              setIsOpen(true)\n                            }}\n                            label={t.name}\n                          />\n                        )\n                      })}\n                    </div>\n                  </div>\n                  <span>\n                    <small>% of share to withdraw:</small>\n                  </span>\n                  <div className=\"percentage\">\n                    <Slider\n                      id=\"slider\"\n                      defaultValue={100}\n                      min={0}\n                      max={100}\n                      mt=\"1\"\n                      onChange={(v) => {\n                        setSliderValue(v)\n                        onFormChange({\n                          fieldName: \"percentage\",\n                          value: String(v),\n                        })\n                      }}\n                      onMouseEnter={() => setShowTooltip(true)}\n                      onMouseLeave={() => setShowTooltip(false)}\n                    >\n                      <SliderMark value={0} mt=\"1\" ml=\"-2.5\" fontSize=\"sm\">\n                        0%\n                      </SliderMark>\n                      <SliderMark value={50} mt=\"1\" ml=\"-2.5\" fontSize=\"sm\">\n                        50%\n                      </SliderMark>\n                      <SliderMark value={100} mt=\"1\" ml=\"-2.5\" fontSize=\"sm\">\n                        100%\n                      </SliderMark>\n                      <SliderTrack>\n                        <SliderFilledTrack bg=\"#cc3a59\" />\n                      </SliderTrack>\n                      <Tooltip\n                        hasArrow\n                        bg=\"#cc3a59\"\n                        color=\"white\"\n                        placement=\"top\"\n                        isOpen={showTooltip}\n                        label={`${sliderValue}%`}\n                      >\n                        <SliderThumb />\n                      </Tooltip>\n                    </Slider>\n                  </div>\n                  {formStateData.error ? (\n                    <div className=\"error\">{formStateData.error.message}</div>\n                  ) : null}\n                  <SlideFade in={isOpen} hidden={!isOpen} offsetY=\"-30px\">\n                    {tokensData.map((token, index) => (\n                      <div key={index}>\n                        <TokenInput\n                          {...token}\n                          max={undefined}\n                          readonly={true}\n                          // inputValue={parseFloat(token.inputValue).toFixed(5)}\n                          onChange={(value): void =>\n                            onFormChange({\n                              fieldName: \"tokenInputs\",\n                              value: value,\n                              tokenSymbol: token.symbol,\n                            })\n                          }\n                        />\n                        {index === tokensData.length - 1 ? (\n                          \"\"\n                        ) : (\n                          <div className=\"formSpace\"></div>\n                        )}\n                      </div>\n                    ))}\n                    <div className={\"transactionInfoContainer\"}>\n                      <div className=\"transactionInfo\">\n                        <div className=\"transactionInfoItem\">\n                          {reviewData.priceImpact.gte(0) ? (\n                            <span className=\"bonus\">{t(\"bonus\")}: </span>\n                          ) : (\n                            <span className=\"slippage\">{t(\"priceImpact\")}</span>\n                          )}\n                          <span\n                            className={\n                              \"value \" +\n                              (reviewData.priceImpact.gte(0)\n                                ? \"bonus\"\n                                : \"slippage\")\n                            }\n                          >\n                            {\" \"}\n                            {formatBNToPercentString(\n                              reviewData.priceImpact,\n                              18,\n                              4,\n                            )}\n                          </span>\n                        </div>\n                      </div>\n                    </div>\n                  </SlideFade>\n                </TabPanel>\n                <TabPanel>\n                  {poolData?.name === FRAX_STABLES_LP_POOL_NAME && (\n                    <p className=\"outdatedInfo\">\n                      This pool is outdated. Please withdraw your liquidity and{\" \"}\n                      <a href=\"/#/pools/frax/deposit\">\n                        migrate to the new Frax pool.\n                      </a>\n                    </p>\n                  )}\n                  <p className=\"instructions\">\n                    Type in below the amounts of each token you want to\n                    withdraw.\n                  </p>\n                  {formStateData.error ? (\n                    <div className=\"error\">{formStateData.error.message}</div>\n                  ) : null}\n                  {tokensData.map((token, index) => (\n                    <div key={index}>\n                      <TokenInput\n                        {...token}\n                        // inputValue={parseFloat(token.inputValue).toFixed(5)}\n                        onChange={(value): void =>\n                          onFormChange({\n                            fieldName: \"tokenInputs\",\n                            value: value,\n                            tokenSymbol: token.symbol,\n                          })\n                        }\n                      />\n                      {index === tokensData.length - 1 ? (\n                        \"\"\n                      ) : (\n                        <div className=\"formSpace\"></div>\n                      )}\n                    </div>\n                  ))}\n                  <div className={\"transactionInfoContainer\"}>\n                    <div className=\"transactionInfo\">\n                      <div className=\"transactionInfoItem\">\n                        {reviewData.priceImpact.gte(0) ? (\n                          <span className=\"bonus\">{t(\"bonus\")}: </span>\n                        ) : (\n                          <span className=\"slippage\">{t(\"priceImpact\")}</span>\n                        )}\n                        <span\n                          className={\n                            \"value \" +\n                            (reviewData.priceImpact.gte(0)\n                              ? \"bonus\"\n                              : \"slippage\")\n                          }\n                        >\n                          {\" \"}\n                          {formatBNToPercentString(\n                            reviewData.priceImpact,\n                            18,\n                            4,\n                          )}\n                        </span>\n                      </div>\n                    </div>\n                  </div>\n                </TabPanel>\n              </TabPanels>\n            </Tabs>\n          </div>\n          <div className=\"options\" style={{ height: \"100%\" }}>\n            <Center width=\"100%\">\n              <Button\n                variant=\"primary\"\n                size=\"lg\"\n                width=\"100%\"\n                disabled={\n                  noShare ||\n                  !!formStateData.error ||\n                  formStateData.lpTokenAmountToSpend.isZero()\n                }\n                onClick={onSubmit}\n              >\n                {t(\"withdraw\")}\n              </Button>\n            </Center>\n            <div className=\"approvalMessage\">\n              Note: The &quot;Approve&quot; transaction is only needed the first\n              time; subsequent actions will not require approval.\n            </div>\n          </div>\n        </div>\n        <div className=\"infoPanels\">\n          <StakeDetails\n            extraStakeDetailChild={\n              <>\n                <FaChartPie\n                  size=\"40px\"\n                  color=\"#cc3a59\"\n                  title=\"My Share of the Pool\"\n                />\n                <span style={{ fontSize: \"25px\", fontWeight: 700 }}>\n                  {formatBNToPercentString(myShareData?.share || Zero, 18)}\n                </span>\n              </>\n            }\n            balanceView={{\n              title: \"LP Token Balance\",\n              items: [\n                {\n                  tokenName: poolData?.lpToken ?? \"-\",\n                  icon: POOLS_MAP[poolData?.name || \"\"]?.lpToken.icon || \"-\",\n                  amount: commify(\n                    formatBNToString(\n                      myShareData?.lpTokenBalance || Zero,\n                      18,\n                      5,\n                    ),\n                  ),\n                },\n              ],\n            }}\n            stakedView={{\n              title: t(\"deposited\"),\n              items: formattedShareTokens,\n            }}\n            stats={[\n              {\n                statLabel: \"TVL\",\n                statValue: poolData?.reserve\n                  ? `$${commify(formatBNToString(poolData.reserve, 18, 2))}`\n                  : \"-\",\n                statPopOver: (\n                  <div className=\"tokenList\">\n                    {formattedPoolDataTokens.map((token, index) => (\n                      <div className=\"token\" key={index}>\n                        <div style={{ display: \"flex\", alignItems: \"center\" }}>\n                          <img alt=\"icon\" src={token.icon} />\n                          <span className=\"bold\">{`${token.symbol} ${token.percent}`}</span>\n                        </div>\n                        <span className=\"tokenValue\">{token.value}</span>\n                      </div>\n                    ))}\n                  </div>\n                ),\n              },\n              {\n                statLabel: t(\"fee\"),\n                statValue: poolData?.swapFee\n                  ? formatBNToPercentString(\n                      poolData.swapFee,\n                      POOL_FEE_PRECISION,\n                    )\n                  : \"-\",\n              },\n              {\n                statLabel: t(\"virtualPrice\"),\n                statValue: poolData?.virtualPrice\n                  ? commify(formatBNToString(poolData.virtualPrice, 18, 2))\n                  : \"-\",\n              },\n              {\n                statLabel: t(\"aParameter\"),\n                statValue: poolData?.aParameter\n                  ? commify(formatBNToString(poolData.aParameter, 0, 0))\n                  : \"-\",\n                statTooltip: t(\"aParameterTooltip\"),\n              },\n            ]}\n          />\n        </div>\n        <Modal\n          isOpen={!!currentModal}\n          onClose={(): void => setCurrentModal(null)}\n        >\n          {currentModal === \"review\" ? (\n            <ReviewWithdraw\n              data={reviewData}\n              gas={gasPriceSelected}\n              onConfirm={(): void => {\n                setTxnHash(undefined)\n                setCurrentModal(ModalType.CONFIRM)\n                logEvent(\n                  \"withdraw\",\n                  (poolData && { pool: poolData?.name }) || {},\n                )\n                onConfirmTransaction?.()\n                  .then((res) => {\n                    if (res?.status) {\n                      setCurrentModal(ModalType.SUCCESS)\n                    } else {\n                      setCurrentModal(ModalType.FAILED)\n                      setTxnHash(res?.transactionHash)\n                    }\n                  })\n                  .catch(() => {\n                    setCurrentModal(ModalType.FAILED)\n                  })\n              }}\n              onClose={(): void => setCurrentModal(null)}\n            />\n          ) : null}\n          {currentModal === ModalType.CONFIRM ? (\n            <ConfirmTransaction />\n          ) : currentModal === ModalType.FAILED ? (\n            <ConfirmTransaction\n              title={t(\"failedTitle\")}\n              type={ModalType.FAILED}\n              description={\n                !txnHash\n                  ? t(\"txFailed_internal\", { tx: t(\"withdraw\") })\n                  : undefined\n              }\n            >\n              {txnHash && (\n                <Trans i18nKey=\"txFailed\" t={t}>\n                  {{ tx: t(\"withdraw\") }}\n                  <a\n                    href={getEtherscanLink(txnHash, \"tx\")}\n                    target=\"_blank\"\n                    rel=\"noreferrer\"\n                    style={{ textDecoration: \"underline\", margin: 0 }}\n                  >\n                    blockscout.\n                  </a>\n                </Trans>\n              )}\n            </ConfirmTransaction>\n          ) : currentModal === ModalType.SUCCESS ? (\n            <ConfirmTransaction\n              title={t(\"successTitle\")}\n              description={t(\"txConfirmed_withdraw\")}\n              type={ModalType.SUCCESS}\n            />\n          ) : null}\n        </Modal>\n        <BackButton\n          route=\"/pools\"\n          wrapperClass=\"goBack\"\n          buttonText=\"Go back to pools\"\n        />\n      </div>\n    </div>\n  )\n}\n\nexport default WithdrawPage\n","/* eslint-disable */\nimport {\n  NumberInputState,\n  numberInputStateCreator,\n} from \"../utils/numberInputState\"\nimport { POOLS_MAP, PoolName } from \"../constants\"\nimport { useCallback, useMemo, useState } from \"react\"\n\nimport { BigNumber } from \"@ethersproject/bignumber\"\nimport { debounce } from \"lodash\"\nimport { parseUnits } from \"@ethersproject/units\"\nimport { useActiveWeb3React } from \".\"\nimport { usePoolContract } from \"../hooks/useContract\"\nimport usePoolData from \"../hooks/usePoolData\"\n\ninterface ErrorState {\n  field: string\n  message: string\n}\nconst IMBALANCE = \"IMBALANCE\"\nconst ALL = \"ALL\"\n\ninterface TokenInputs {\n  [symbol: string]: NumberInputState\n}\nexport interface WithdrawFormState {\n  percentage: string | null\n  withdrawType: string\n  tokenInputs: TokenInputs\n  lpTokenAmountToSpend: BigNumber\n  error: ErrorState | null\n}\ntype FormFields = Exclude<keyof WithdrawFormState, \"error\">\nexport type WithdrawFormAction = {\n  fieldName: FormFields | \"reset\"\n  tokenSymbol?: string\n  value: string\n}\n\nexport default function useWithdrawFormState(\n  poolName: PoolName,\n): [WithdrawFormState, (action: WithdrawFormAction) => void] {\n  const POOL = POOLS_MAP[poolName]\n  const poolContract = usePoolContract(poolName)\n  const [, userShareData] = usePoolData(poolName)\n  const { account } = useActiveWeb3React()\n  const tokenInputStateCreators: {\n    [tokenSymbol: string]: ReturnType<typeof numberInputStateCreator>\n  } = useMemo(\n    () =>\n      POOL.poolTokens.reduce(\n        (acc, { symbol, decimals }) => ({\n          ...acc,\n          [symbol]: numberInputStateCreator(decimals, BigNumber.from(\"0\")),\n        }),\n        {},\n      ),\n    [POOL.poolTokens],\n  )\n  const tokenInputsEmptyState = useMemo(\n    () =>\n      POOL.poolTokens.reduce(\n        (acc, { symbol }) => ({\n          ...acc,\n          [symbol]: tokenInputStateCreators[symbol](\"0\"),\n        }),\n        {},\n      ),\n    [POOL.poolTokens, tokenInputStateCreators],\n  )\n  const formEmptyState = useMemo(\n    () => ({\n      percentage: \"\",\n      tokenInputs: tokenInputsEmptyState,\n      withdrawType: ALL,\n      error: null,\n      lpTokenAmountToSpend: BigNumber.from(\"0\"),\n    }),\n    [tokenInputsEmptyState],\n  )\n  const [formState, setFormState] = useState<WithdrawFormState>(formEmptyState)\n\n  // TODO: resolve this, it's a little unsafe\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  const calculateAndUpdateDynamicFields = useCallback(\n    debounce(async (state: WithdrawFormState) => {\n      if (userShareData == null || poolContract == null || account == null)\n        return\n\n      let percentageRaw\n      if (state.percentage === \"\") {\n        percentageRaw = \"0\"\n      } else if (state.percentage === null) {\n        percentageRaw = \"100\"\n      } else {\n        percentageRaw = state.percentage\n      }\n\n      // LP * % to be withdrawn\n      const effectiveUserLPTokenBalance = userShareData.lpTokenBalance\n        .mul(parseUnits(percentageRaw, 5)) // difference between numerator and denominator because we're going from 100 to 1.00\n        .div(10 ** 7)\n\n      const txnAmounts: string[] = POOL.poolTokens.map((poolToken) => {\n        return state.tokenInputs[poolToken.symbol].valueSafe\n      })\n\n      // Use state.withdrawType to figure out which swap functions to use to calcuate next state\n      let nextState: WithdrawFormState | Record<string, unknown>\n      if (state.withdrawType === IMBALANCE) {\n        try {\n          const inputCalculatedLPTokenAmount = await poolContract.calc_token_amount(\n            txnAmounts,\n            false,\n          )\n          nextState = inputCalculatedLPTokenAmount.gt(\n            effectiveUserLPTokenBalance,\n          )\n            ? {\n                error: {\n                  field: \"tokenInputs\",\n                  message: \"Insufficient balance.\",\n                },\n                lpTokenAmountToSpend: BigNumber.from(\"0\"),\n              }\n            : {\n                error: null,\n                lpTokenAmountToSpend: inputCalculatedLPTokenAmount,\n              }\n        } catch (e) {\n          console.error(e)\n          // calculateTokenAmount errors if amount exceeds amount in pool\n          nextState = {\n            error: {\n              field: \"tokenInputs\",\n              message: \"Insufficient balance in pool.\",\n            },\n            lpTokenAmountToSpend: BigNumber.from(\"0\"),\n          }\n        }\n        // } else if (state.withdrawType === ALL) {\n        //   try {\n        //     const tokenAmounts = await (poolContract as RoseStablesPool).calculateRemoveLiquidity(\n        //       effectiveUserLPTokenBalance,\n        //     )\n        //     nextState = {\n        //       lpTokenAmountToSpend: effectiveUserLPTokenBalance,\n        //       tokenInputs: POOL.poolTokens.reduce(\n        //         (acc, { symbol }, i) => ({\n        //           ...acc,\n        //           [symbol]: tokenInputStateCreators[symbol](tokenAmounts[i]),\n        //         }),\n        //         {},\n        //       ),\n        //       error: null,\n        //     }\n        //   } catch {\n        //     nextState = {\n        //       error: {\n        //         field: \"tokenInputs\",\n        //         message: \"Insufficient balance in pool.\",\n        //       },\n        //     }\n        //   }\n      } else {\n        try {\n          if (state.withdrawType !== ALL && state.percentage) {\n            const tokenIndex = POOL.poolTokens.findIndex(\n              ({ symbol }) => symbol === state.withdrawType,\n            )\n            const tokenAmount = await poolContract.calc_withdraw_one_coin(\n              effectiveUserLPTokenBalance, // lp token to be burnt\n              tokenIndex,\n            ) // actual coin amount to be returned\n            nextState = {\n              lpTokenAmountToSpend: effectiveUserLPTokenBalance,\n              tokenInputs: POOL.poolTokens.reduce(\n                (acc, { symbol }, i) => ({\n                  ...acc,\n                  [symbol]: tokenInputStateCreators[symbol](\n                    i === tokenIndex ? tokenAmount : \"0\",\n                  ),\n                }),\n                {},\n              ),\n              error: null,\n            }\n          } else {\n            // This branch addresses a user manually inputting a value for one token\n            const inputCalculatedLPTokenAmount = await poolContract.calc_token_amount(\n              txnAmounts,\n              false,\n            )\n            nextState = inputCalculatedLPTokenAmount.gt(\n              effectiveUserLPTokenBalance,\n            )\n              ? {\n                  error: {\n                    field: \"tokenInputs\",\n                    message: \"Insufficient balance.\",\n                  },\n                  lpTokenAmountToSpend: BigNumber.from(\"0\"),\n                }\n              : {\n                  lpTokenAmountToSpend: inputCalculatedLPTokenAmount,\n                  error: null,\n                }\n          }\n        } catch {\n          nextState = {\n            error: {\n              field: \"tokenInputs\",\n              message: \"Insufficient balance in pool.\",\n            },\n          }\n        }\n      }\n      setFormState((prevState) => ({\n        ...prevState,\n        ...nextState,\n      }))\n    }, 250),\n    [userShareData, poolContract, POOL.poolTokens, tokenInputStateCreators],\n  )\n\n  const handleUpdateForm = useCallback(\n    (action: WithdrawFormAction): void => {\n      // update the form with user input immediately\n      // then call expensive debounced fn to update other fields\n      setFormState((prevState) => {\n        let nextState: WithdrawFormState | Record<string, unknown> = {}\n        if (action.fieldName === \"tokenInputs\") {\n          const {\n            tokenSymbol: tokenSymbolInput = \"\",\n            value: valueInput,\n          } = action\n          const newTokenInputs = {\n            ...prevState.tokenInputs,\n            [tokenSymbolInput]: tokenInputStateCreators[tokenSymbolInput](\n              valueInput,\n            ),\n          }\n          const activeInputTokens = POOL.poolTokens.filter(\n            ({ symbol }) => +newTokenInputs[symbol].valueRaw !== 0,\n          )\n          let withdrawType\n          if (activeInputTokens.length === 0) {\n            withdrawType = ALL\n          } else if (activeInputTokens.length === 1) {\n            withdrawType = activeInputTokens[0].symbol\n          } else {\n            withdrawType = IMBALANCE\n          }\n          nextState = {\n            withdrawType,\n            lpTokenAmountToSpend: BigNumber.from(\"0\"),\n            percentage: null,\n            tokenInputs: newTokenInputs,\n            error: null,\n          }\n        } else if (action.fieldName === \"percentage\") {\n          const isInputInvalid =\n            isNaN(+action.value) || +action.value < 0 || +action.value > 100\n          nextState = isInputInvalid\n            ? {\n                percentage: action.value,\n                lpTokenAmountToSpend: BigNumber.from(\"0\"),\n                error: { field: \"percentage\", message: \"Invalid input\" },\n                tokenInputs: tokenInputsEmptyState,\n              }\n            : {\n                withdrawType:\n                  prevState.withdrawType === IMBALANCE\n                    ? ALL\n                    : prevState.withdrawType,\n                percentage: action.value,\n                error: null,\n              }\n        } else if (action.fieldName === \"withdrawType\") {\n          nextState = {\n            tokenInputs: tokenInputsEmptyState,\n            percentage: prevState.percentage || \"100\",\n            withdrawType: action.value,\n            error: null,\n          }\n        } else if (action.fieldName === \"reset\") {\n          nextState = formEmptyState\n        }\n        const finalState = {\n          ...prevState,\n          ...nextState,\n        }\n        const pendingTokenInput =\n          action.fieldName === \"tokenInputs\" &&\n          POOL.poolTokens.every(({ symbol }) => {\n            const stateValue = finalState.tokenInputs[symbol].valueRaw\n            return isNaN(+stateValue) || +stateValue === 0\n          })\n        if (!finalState.error && !pendingTokenInput) {\n          void calculateAndUpdateDynamicFields(finalState)\n        }\n        return finalState\n      })\n    },\n    [\n      POOL.poolTokens,\n      calculateAndUpdateDynamicFields,\n      tokenInputStateCreators,\n      tokenInputsEmptyState,\n      formEmptyState,\n    ],\n  )\n\n  return [formState, handleUpdateForm]\n}\n","/* eslint-disable */\nimport { POOLS_MAP, PoolName } from \"../constants\"\nimport React, { ReactElement, useEffect, useState } from \"react\"\nimport WithdrawPage, { ReviewWithdrawData } from \"../components/WithdrawPage\"\nimport { commify, formatUnits, parseUnits } from \"@ethersproject/units\"\n\nimport { AppState } from \"../state\"\nimport { BigNumber } from \"@ethersproject/bignumber\"\nimport { ContractReceipt } from \"@ethersproject/contracts\"\nimport { Zero } from \"@ethersproject/constants\"\nimport { calculateGasEstimate } from \"../utils/gasEstimate\"\nimport { calculatePriceImpact } from \"../utils/priceImpact\"\nimport { formatBNToString } from \"../utils\"\nimport { formatSlippageToString } from \"../utils/slippage\"\nimport { useActiveWeb3React } from \"../hooks\"\nimport { useApproveAndWithdraw } from \"../hooks/useApproveAndWithdraw\"\nimport { usePoolContract } from \"../hooks/useContract\"\nimport usePoolData from \"../hooks/usePoolData\"\nimport { useSelector } from \"react-redux\"\nimport useWithdrawFormState from \"../hooks/useWithdrawFormState\"\n\ninterface Props {\n  poolName: PoolName\n}\nfunction Withdraw({ poolName }: Props): ReactElement {\n  const [poolData, userShareData] = usePoolData(poolName)\n  const [withdrawFormState, updateWithdrawFormState] = useWithdrawFormState(\n    poolName,\n  )\n  const { slippageCustom, slippageSelected } = useSelector(\n    (state: AppState) => state.user,\n  )\n  const { tokenPricesUSD } = useSelector((state: AppState) => state.application)\n  const approveAndWithdraw = useApproveAndWithdraw(poolName)\n  const poolContract = usePoolContract(poolName)\n  const { account } = useActiveWeb3React()\n  const POOL = POOLS_MAP[poolName]\n\n  const [estWithdrawBonus, setEstWithdrawBonus] = useState(Zero)\n  useEffect(() => {\n    // evaluate if a new withdraw will exceed the pool's per-user limit\n    async function calculateWithdrawBonus(): Promise<void> {\n      try {\n        if (\n          poolContract == null ||\n          userShareData == null ||\n          poolData == null ||\n          account == null\n        ) {\n          return\n        }\n        const tokenInputSum = parseUnits(\n          POOL.poolTokens\n            .reduce(\n              (sum, { symbol }) =>\n                sum + (+withdrawFormState.tokenInputs[symbol].valueRaw || 0),\n              0,\n            )\n            .toString(),\n          18,\n        )\n        let withdrawLPTokenAmount\n        if (poolData.totalLocked.gt(0) && tokenInputSum.gt(0)) {\n          const txnAmounts: string[] = POOL.poolTokens.map((poolToken) => {\n            return withdrawFormState.tokenInputs[poolToken.symbol].valueSafe\n          })\n          withdrawLPTokenAmount = await poolContract.calc_token_amount(\n            txnAmounts,\n            false,\n          )\n        } else {\n          // when pool is empty, estimate the lptokens by just summing the input instead of calling contract\n          withdrawLPTokenAmount = tokenInputSum\n        }\n        setEstWithdrawBonus(\n          calculatePriceImpact(\n            withdrawLPTokenAmount,\n            tokenInputSum,\n            poolData.virtualPrice,\n            true,\n          ),\n        )\n      } catch {\n        // pass here for now - fix later with hook\n      }\n    }\n    void calculateWithdrawBonus()\n  }, [\n    poolData,\n    withdrawFormState,\n    poolContract,\n    userShareData,\n    account,\n    POOL.poolTokens,\n  ])\n  async function onConfirmTransaction(): Promise<ContractReceipt | void> {\n    const {\n      withdrawType,\n      tokenInputs,\n      lpTokenAmountToSpend,\n    } = withdrawFormState\n    const receipt = await approveAndWithdraw({\n      tokenFormState: tokenInputs,\n      withdrawType,\n      lpTokenAmountToSpend,\n    })\n    updateWithdrawFormState({ fieldName: \"reset\", value: \"reset\" })\n\n    return receipt\n  }\n\n  const tokensData = React.useMemo(\n    () =>\n      POOL.poolTokens.map(({ name, symbol, icon, decimals }) => ({\n        name,\n        symbol,\n        icon,\n        inputValue: withdrawFormState.tokenInputs[symbol].valueRaw,\n        // TO-DO: all decimals have been casted to 18 - we need to change that\n        // to generic behavior so we don't have to cast back\n        max: formatBNToString(\n          userShareData?.tokens\n            .find((shareToken) => shareToken.symbol === symbol)\n            ?.value.div(BigNumber.from(10).pow(18 - decimals)) || Zero,\n          decimals,\n        ),\n      })),\n    [withdrawFormState, POOL.poolTokens, userShareData?.tokens],\n  )\n  const gasPrice = Zero\n  // const gasPrice = BigNumber.from(\n  //   formatGasToString(\n  //     { gasStandard, gasFast, gasInstant },\n  //     gasPriceSelected,\n  //     gasCustom,\n  //   ),\n  // )\n  const gasAmount = calculateGasEstimate(\"removeLiquidityImbalance\").mul(\n    gasPrice,\n  ) // units of gas * GWEI/Unit of gas\n\n  const txnGasCost = {\n    amount: gasAmount,\n    valueUSD: tokenPricesUSD?.ETH\n      ? parseUnits(tokenPricesUSD.ETH.toFixed(2), 18) // USD / ETH  * 10^18\n          .mul(gasAmount) // GWEI\n          .div(BigNumber.from(10).pow(25)) // USD / ETH * GWEI * ETH / GWEI = USD\n      : null,\n  }\n\n  const reviewWithdrawData: ReviewWithdrawData = {\n    withdraw: [],\n    rates: [],\n    slippage: formatSlippageToString(slippageSelected, slippageCustom),\n    priceImpact: estWithdrawBonus,\n    txnGasCost: txnGasCost,\n  }\n  POOL.poolTokens.forEach(({ name, decimals, icon, symbol }) => {\n    if (BigNumber.from(withdrawFormState.tokenInputs[symbol].valueSafe).gt(0)) {\n      reviewWithdrawData.withdraw.push({\n        name,\n        value: commify(\n          formatUnits(\n            withdrawFormState.tokenInputs[symbol].valueSafe,\n            decimals,\n          ),\n        ),\n        icon,\n      })\n      if (tokenPricesUSD != null) {\n        reviewWithdrawData.rates.push({\n          name,\n          value: formatUnits(\n            withdrawFormState.tokenInputs[symbol].valueSafe,\n            decimals,\n          ),\n          rate: commify(tokenPricesUSD[symbol]?.toFixed(2)),\n        })\n      }\n    }\n  })\n\n  return (\n    <WithdrawPage\n      title={poolName}\n      reviewData={reviewWithdrawData}\n      tokensData={tokensData}\n      poolData={poolData}\n      myShareData={userShareData}\n      formStateData={withdrawFormState}\n      onConfirmTransaction={onConfirmTransaction}\n      onFormChange={updateWithdrawFormState}\n    />\n  )\n}\n\nexport default Withdraw\n","/* eslint @typescript-eslint/no-explicit-any: 0 */\n/* eslint @typescript-eslint/no-unsafe-assignment: 0 */\n/* eslint @typescript-eslint/no-unsafe-call: 0 */\n/* eslint @typescript-eslint/no-unsafe-member-access: 0 */\n/* eslint @typescript-eslint/no-unsafe-return: 0 */\nimport { POOLS_MAP, PoolName, TRANSACTION_TYPES } from \"../constants\"\nimport { addSlippage, subtractSlippage } from \"../utils/slippage\"\nimport { useLPTokenContract, usePoolContract } from \"./useContract\"\nimport { AppState } from \"../state\"\nimport { BigNumber } from \"@ethersproject/bignumber\"\nimport { ContractReceipt } from \"@ethersproject/contracts\"\nimport { NumberInputState } from \"../utils/numberInputState\"\nimport { Zero } from \"@ethersproject/constants\"\nimport checkAndApproveTokenForTrade from \"../utils/checkAndApproveTokenForTrade\"\nimport { formatUnits } from \"@ethersproject/units\"\nimport { updateLastTransactionTimes } from \"../state/application\"\nimport { useActiveWeb3React } from \".\"\nimport { useDispatch } from \"react-redux\"\nimport { useSelector } from \"react-redux\"\n\ninterface ApproveAndWithdrawStateArgument {\n  tokenFormState: { [symbol: string]: NumberInputState }\n  withdrawType: string\n  lpTokenAmountToSpend: BigNumber\n}\n\nexport function useApproveAndWithdraw(\n  poolName: PoolName,\n): (state: ApproveAndWithdrawStateArgument) => Promise<ContractReceipt | void> {\n  const dispatch = useDispatch()\n  const poolContract = usePoolContract(poolName)\n  const { account } = useActiveWeb3React()\n  const { slippageCustom, slippageSelected, infiniteApproval } = useSelector(\n    (state: AppState) => state.user,\n  )\n  const lpTokenContract = useLPTokenContract(poolName)\n  const POOL = POOLS_MAP[poolName]\n\n  return async function approveAndWithdraw(\n    state: ApproveAndWithdrawStateArgument,\n  ): Promise<ContractReceipt | void> {\n    try {\n      if (!account) throw new Error(\"Wallet must be connected\")\n      if (!poolContract) throw new Error(\"Swap contract is not loaded\")\n      if (state.lpTokenAmountToSpend.isZero()) return\n      if (lpTokenContract == null) return\n      const gasPrice = Zero\n      // if (gasPriceSelected === GasPrices.Custom && gasCustom?.valueSafe) {\n      //   gasPrice = gasCustom.valueSafe\n      // } else if (gasPriceSelected === GasPrices.Standard) {\n      //   gasPrice = gasStandard\n      // } else if (gasPriceSelected === GasPrices.Instant) {\n      //   gasPrice = gasInstant\n      // } else {\n      //   gasPrice = gasFast\n      // }\n      // gasPrice = parseUnits(gasPrice?.toString() || \"45\", \"gwei\")\n      const allowanceAmount =\n        state.withdrawType === \"IMBALANCE\"\n          ? addSlippage(\n              state.lpTokenAmountToSpend,\n              slippageSelected,\n              slippageCustom,\n            )\n          : state.lpTokenAmountToSpend\n      await checkAndApproveTokenForTrade(\n        lpTokenContract,\n        poolContract.address,\n        account,\n        allowanceAmount,\n        infiniteApproval,\n        gasPrice,\n        {\n          onTransactionError: () => {\n            throw new Error(\"Your transaction could not be completed\")\n          },\n        },\n      )\n\n      console.debug(\n        `lpTokenAmountToSpend: ${formatUnits(state.lpTokenAmountToSpend, 18)}`,\n      )\n      let spendTransaction\n      if (state.withdrawType === \"ALL\") {\n        const txnAmounts: BigNumber[] = POOL.poolTokens.map((poolToken) => {\n          return subtractSlippage(\n            BigNumber.from(state.tokenFormState[poolToken.symbol].valueSafe),\n            slippageSelected,\n            slippageCustom,\n          )\n        })\n        spendTransaction = await poolContract.remove_liquidity(\n          state.lpTokenAmountToSpend,\n          txnAmounts,\n          {\n            gasPrice,\n          },\n        )\n      } else if (state.withdrawType === \"IMBALANCE\") {\n        const txnAmounts: string[] = POOL.poolTokens.map((poolToken) => {\n          return state.tokenFormState[poolToken.symbol].valueSafe\n        })\n        spendTransaction = await poolContract.remove_liquidity_imbalance(\n          txnAmounts,\n          addSlippage(\n            state.lpTokenAmountToSpend,\n            slippageSelected,\n            slippageCustom,\n          ),\n          {\n            gasPrice,\n          },\n        )\n      } else {\n        // state.withdrawType === [TokenSymbol]\n        spendTransaction = await poolContract.remove_liquidity_one_coin(\n          state.lpTokenAmountToSpend,\n          POOL.poolTokens.findIndex(\n            ({ symbol }) => symbol === state.withdrawType,\n          ),\n          subtractSlippage(\n            BigNumber.from(\n              state.tokenFormState[state.withdrawType || \"\"].valueSafe,\n            ),\n            slippageSelected,\n            slippageCustom,\n          ),\n          {\n            gasPrice,\n          },\n        )\n      }\n\n      // notifyHandler(spendTransaction.hash, \"withdraw\")\n\n      const receipt = await spendTransaction.wait()\n      dispatch(\n        updateLastTransactionTimes({\n          [TRANSACTION_TYPES.WITHDRAW]: Date.now(),\n        }),\n      )\n      return receipt\n    } catch (e) {\n      console.error(e)\n      // notifyCustomError(e as Error)\n    }\n  }\n}\n","import { AppDispatch } from \"../state\"\nimport retry from \"async-retry\"\nimport { updateSwapStats } from \"../state/application\"\n\nconst swapStatsURI = \"https://ipfs.saddle.exchange/swap-stats.json\"\n\nexport interface SwapStatsReponse {\n  [swapAddress: string]: {\n    oneDayVolume: number\n    APY: number\n    TVL: number\n  }\n}\n\nconst fetchSwapStatsNow = (): Promise<SwapStatsReponse> =>\n  fetch(`${swapStatsURI}`, { cache: \"no-cache\" })\n    .then((res) => {\n      if (res.status >= 200 && res.status < 300) {\n        return res.json()\n      }\n      throw new Error(\"Unable to fetch swap stats from IPFS\")\n    })\n    .then((body: SwapStatsReponse) => {\n      return body\n    })\n\nexport default async function fetchSwapStats(\n  dispatch: AppDispatch,\n): Promise<void> {\n  const dispatchUpdate = (swapStats: SwapStatsReponse) => {\n    dispatch(updateSwapStats(swapStats))\n  }\n  await retry(() => fetchSwapStatsNow().then(dispatchUpdate), {\n    retries: 3,\n  })\n}\n","import { ChainId, TOKENS_MAP, VETH2_SWAP_ADDRESSES } from \"../constants\"\nimport { formatUnits, parseUnits } from \"@ethersproject/units\"\n\nimport { AppDispatch } from \"../state\"\nimport { BigNumber } from \"@ethersproject/bignumber\"\nimport SWAP_ABI from \"../constants/abis/swapFlashLoan.json\"\nimport { SwapFlashLoan } from \"../../types/ethers-contracts/SwapFlashLoan\"\nimport { Web3Provider } from \"@ethersproject/providers\"\nimport { getContract } from \"./index\"\nimport retry from \"async-retry\"\nimport { updateTokensPricesUSD } from \"../state/application\"\n\nconst coinGeckoAPI = \"https://api.coingecko.com/api/v3/simple/price\"\nconst rosePriceApi =\n  \"https://raw.githubusercontent.com/RoseOnAurora/apr/master/rose.json\"\n\ninterface CoinGeckoReponse {\n  [tokenSymbol: string]: {\n    usd: number\n  }\n}\n\ninterface RosePriceResponse {\n  [tokenSymbol: string]: string\n}\nconst otherTokens = {\n  ETH: \"ethereum\",\n  WETH: \"ethereum\",\n  VETH2: \"ethereum\", // TODO: pull vETH2 price once it's added to coingecko\n  BTC: \"bitcoin\",\n  KEEP: \"keep-network\",\n  SGT: \"sharedstake-governance-token\",\n  ALCX: \"alchemix\",\n}\n\nexport default function fetchTokenPricesUSD(\n  dispatch: AppDispatch,\n  chainId?: ChainId,\n  library?: Web3Provider,\n): void {\n  const tokens = Object.values(TOKENS_MAP)\n  const tokenIds = Array.from(\n    new Set(\n      tokens.map(({ geckoId }) => geckoId).concat(Object.values(otherTokens)),\n    ),\n  )\n  void retry(\n    () =>\n      fetch(`${coinGeckoAPI}?ids=${encodeURIComponent(\n        tokenIds.join(\",\"),\n      )}&vs_currencies=usd\n    `)\n        .then((res) => res.json())\n        .then(async (body: CoinGeckoReponse) => {\n          const otherTokensResult = Object.keys(otherTokens).reduce(\n            (acc, key) => {\n              return {\n                ...acc,\n                [key]: body?.[otherTokens[key as keyof typeof otherTokens]].usd,\n              }\n            },\n            {} as { [symbol: string]: number },\n          )\n          let result = tokens.reduce((acc, token) => {\n            return { ...acc, [token.symbol]: body?.[token.geckoId]?.usd }\n          }, otherTokensResult)\n          result.alETH = result?.ETH || result.alETH || 0 // TODO: remove once CG price is fixed\n          if (chainId === ChainId.MAINNET) {\n            const vEth2Price = await getVeth2Price(\n              result?.ETH,\n              chainId,\n              library,\n            )\n            result.VETH2 = vEth2Price || result?.ETH | 0\n          }\n          void fetch(rosePriceApi)\n            .then((res) => res.json())\n            .then((body: RosePriceResponse[]) => {\n              result = {\n                ...result,\n                ROSE: +body[0].price_of_rose || 0,\n                stRose: +body[0].price_of_strose || 0,\n              }\n              dispatch(updateTokensPricesUSD(result))\n            })\n        }),\n    { retries: 3 },\n  )\n}\n\nasync function getVeth2Price(\n  etherPrice: number,\n  chainId?: ChainId,\n  library?: Web3Provider,\n): Promise<number> {\n  if (!etherPrice || !library) return 0\n  try {\n    const swapContract = getContract(\n      chainId ? VETH2_SWAP_ADDRESSES[chainId] : \"\",\n      SWAP_ABI,\n      library,\n    ) as SwapFlashLoan\n    const veth2ToEthRate = await swapContract.calculateSwap(\n      1,\n      0,\n      BigNumber.from(10).pow(18),\n    )\n    const eth = parseUnits(etherPrice.toString(), 18)\n    const vEth2Price = parseFloat(formatUnits(veth2ToEthRate.mul(eth), 36))\n    return vEth2Price\n  } catch (e) {\n    console.error(e)\n    return etherPrice\n  }\n}\n","import \"../styles/global.scss\"\nimport \"./NotifyStyle.scss\"\n\nimport { AppDispatch, AppState } from \"../state\"\nimport { BLOCK_TIME, FARMS_MAP, POOLS_MAP } from \"../constants\"\nimport React, { ReactElement, Suspense, useCallback, useEffect } from \"react\"\nimport { Route, Switch } from \"react-router-dom\"\nimport { isChainSupportedByNotify, notify } from \"../utils/notifyHandler\"\nimport { useDispatch, useSelector } from \"react-redux\"\n\n// import Banner from \"../components/Banner\"\nimport BottomMenu from \"../components/BottomMenu\"\nimport Deposit from \"./Deposit\"\nimport Farm from \"./Farm\"\nimport Farms from \"./Farms\"\nimport PendingSwapsProvider from \"../providers/PendingSwapsProvider\"\nimport Pools from \"./Pools\"\nimport Stake from \"./Stake\"\nimport Swap from \"./Swap\"\nimport Web3ReactManager from \"../components/Web3ReactManager\"\nimport Withdraw from \"./Withdraw\"\nimport fetchFarmStats from \"../utils/fetchFarmStats\"\nimport fetchRosePriceHistory from \"../utils/fetchRosePriceHistory\"\nimport fetchStakeStats from \"../utils/fetchStakeStats\"\nimport fetchSwapStats from \"../utils/getSwapStats\"\nimport fetchTokenPricesUSD from \"../utils/updateTokenPrices\"\nimport { useActiveWeb3React } from \"../hooks\"\nimport usePoller from \"../hooks/usePoller\"\n\nexport default function App(): ReactElement {\n  const { chainId } = useActiveWeb3React()\n  const { userDarkMode } = useSelector((state: AppState) => state.user)\n  // const bannerBg = userDarkMode ? \"#d2f1e4\" : \"#a2d2ff\"\n\n  useEffect(() => {\n    notify?.config({\n      networkId: isChainSupportedByNotify(chainId) ? chainId : undefined,\n      darkMode: userDarkMode,\n    })\n  }, [chainId, userDarkMode])\n  return (\n    <Suspense fallback={null}>\n      <Web3ReactManager>\n        <GasAndTokenPrices>\n          <PendingSwapsProvider>\n            {/* <Banner\n              variant=\"solid\"\n              color=\"black\"\n              bg={bannerBg}\n              bannerTitle=\"\"\n              bannerMessage=\"\"\n              status=\"info\"\n              position=\"sticky\"\n              top=\"0\"\n              zIndex=\"3\"\n              border=\"none\"\n              boxShadow=\"2px 2px 12px rgba(68, 64, 64, 0.14)\"\n            /> */}\n            <Switch>\n              <Route exact path=\"/\" component={Swap} />\n              <Route exact path=\"/pools\" component={Pools} />\n              <Route exact path=\"/farms\" component={Farms} />\n              <Route exact path=\"/stake\" component={Stake} />\n              {Object.values(POOLS_MAP).map(({ name, route }) => (\n                <Route\n                  exact\n                  path={`/pools/${route}/deposit`}\n                  render={(props) => <Deposit {...props} poolName={name} />}\n                  key={`${name}-deposit`}\n                />\n              ))}\n              {Object.values(POOLS_MAP).map(({ name, route }) => (\n                <Route\n                  exact\n                  path={`/pools/${route}/withdraw`}\n                  render={(props) => <Withdraw {...props} poolName={name} />}\n                  key={`${name}-withdraw`}\n                />\n              ))}\n              {Object.values(FARMS_MAP).map(({ name, route }) => (\n                <Route\n                  exact\n                  path={`/farms/${route}`}\n                  render={(props) => <Farm {...props} farmName={name} />}\n                  key={`${name}-farm`}\n                ></Route>\n              ))}\n            </Switch>\n            <BottomMenu />\n          </PendingSwapsProvider>\n        </GasAndTokenPrices>\n      </Web3ReactManager>\n    </Suspense>\n  )\n}\n\nfunction GasAndTokenPrices({\n  children,\n}: React.PropsWithChildren<unknown>): ReactElement {\n  const dispatch = useDispatch<AppDispatch>()\n  const { chainId, library } = useActiveWeb3React()\n\n  // const fetchAndUpdateGasPrice = useCallback(() => {\n  //   void fetchGasPrices(dispatch)\n  // }, [dispatch])\n  const fetchAndUpdateTokensPrice = useCallback(() => {\n    fetchTokenPricesUSD(dispatch, chainId, library)\n  }, [dispatch, chainId, library])\n  const fetchAndUpdateSwapStats = useCallback(() => {\n    void fetchSwapStats(dispatch)\n  }, [dispatch])\n  const fetchAndUpdateFarmStats = useCallback(() => {\n    void fetchFarmStats(dispatch)\n  }, [dispatch])\n  const fetchAndUpdateStakeStats = useCallback(() => {\n    void fetchStakeStats(dispatch)\n  }, [dispatch])\n  const fetchAndUpdateRosePriceHistory = useCallback(() => {\n    void fetchRosePriceHistory(dispatch)\n  }, [dispatch])\n  // usePoller(fetchAndUpdateGasPrice, 5 * 1000)\n  usePoller(fetchAndUpdateTokensPrice, BLOCK_TIME * 3)\n  usePoller(fetchAndUpdateSwapStats, BLOCK_TIME * 280) // ~ 1hr\n  usePoller(fetchAndUpdateFarmStats, BLOCK_TIME * 70) // ~ 15min\n  usePoller(fetchAndUpdateStakeStats, BLOCK_TIME * 70)\n  usePoller(fetchAndUpdateRosePriceHistory, BLOCK_TIME * 70)\n  return <>{children}</>\n}\n","import { AppDispatch } from \"../state\"\nimport retry from \"async-retry\"\nimport { updateFarmStats } from \"../state/application\"\nconst farmStatsApi =\n  \"https://raw.githubusercontent.com/RoseOnAurora/apr/master/data.json\"\n\ninterface FarmStatsResponse {\n  deposited_token_address: string\n  farm_tvl: string\n  apr: string\n  second_apr: string\n  second_rewards_token: string\n  second_rewards_token_address: string\n  name: string\n  farm_address: string\n}\n\nexport interface FarmStats {\n  apr: string\n  tvl: string\n  dualReward: {\n    apr: string\n    token: string\n    address: string\n  }\n}\n\nexport default function fetchFarmStats(dispatch: AppDispatch): void {\n  void retry(() =>\n    fetch(farmStatsApi)\n      .then((res) => res.json())\n      .then((body: FarmStatsResponse[]) => {\n        body.map((b) => {\n          dispatch(\n            updateFarmStats({\n              [b?.name]: {\n                apr: b?.apr,\n                tvl: b?.farm_tvl,\n                dualReward: {\n                  apr: b?.second_apr,\n                  token: b?.second_rewards_token,\n                  address: b?.second_rewards_token_address,\n                },\n              },\n            }),\n          )\n        })\n      }),\n  )\n}\n","import { AppDispatch } from \"../state\"\nimport retry from \"async-retry\"\nimport { updateStakeStats } from \"../state/application\"\n\nconst stakeStatsApi =\n  \"https://raw.githubusercontent.com/RoseOnAurora/apr/master/rose.json\"\n\ninterface StakeStatsApiResponse {\n  price_of_rose: string\n  price_of_strose: string\n  strose_rose_ratio: string\n  strose_tvl: string\n  total_rose_staked: string\n  strose_apr: string\n}\n\nexport interface StakeStats {\n  priceRatio: string\n  tvl: string\n  totalRoseStaked: string\n  priceOfRose: string\n  apr: string\n}\n\nexport default function fetchStakeStats(dispatch: AppDispatch): void {\n  void retry(() =>\n    fetch(stakeStatsApi)\n      .then((res) => res.json())\n      .then((body: StakeStatsApiResponse[]) => {\n        body.map((b) => {\n          dispatch(\n            updateStakeStats({\n              priceRatio: b?.strose_rose_ratio,\n              tvl: b?.strose_tvl,\n              totalRoseStaked: b?.total_rose_staked,\n              priceOfRose: b?.price_of_rose,\n              apr: b?.strose_apr,\n            }),\n          )\n        })\n      }),\n  )\n}\n","import { AppDispatch } from \"../state\"\nimport retry from \"async-retry\"\nimport { updateRosePriceHistory } from \"../state/application\"\n\nconst coinGeckoApi =\n  \"https://api.coingecko.com/api/v3/coins/aurora/contract/0xdcd6d4e2b3e1d1e1e6fa8c21c8a323dcbecff970/market_chart/?vs_currency=usd&days=7\"\n\ninterface CoinGeckoResponse {\n  prices: number[][]\n}\n\nexport default function fetchRosePriceHistory(dispatch: AppDispatch): void {\n  void retry(\n    () =>\n      fetch(coinGeckoApi)\n        .then((res) => res.json())\n        .then((body: CoinGeckoResponse) => {\n          const pricesMapped = body.prices.map(([time, price]) => {\n            return { time, price }\n          })\n          dispatch(updateRosePriceHistory(pricesMapped))\n        }),\n    { retries: 1 },\n  )\n}\n","import { ThemeConfig, extendTheme } from \"@chakra-ui/react\"\n\nimport components from \"./components/index\"\n\n// import components from \"./components\"\n\nconst config: ThemeConfig = {\n  initialColorMode: \"dark\",\n  useSystemColorMode: false,\n}\n\nconst colors = {\n  red: {\n    50: \"#ffe3e3\",\n    100: \"#ffb2b3\",\n    200: \"#fd8282\",\n    300: \"#fb5151\",\n    400: \"#f92120\",\n    500: \"#df0a06\", // base\n    600: \"#ae0404\",\n    700: \"#7d0102\",\n    800: \"#4d0000\",\n    900: \"#1f0000\",\n  },\n  teal: {\n    50: \"#d7fffe\",\n    100: \"#abfff7\",\n    200: \"#7afff0\",\n    300: \"#48ffea\",\n    400: \"#1affe4\",\n    500: \"#00e6ca\", // base\n    600: \"#00b39d\",\n    700: \"#008170\",\n    800: \"#004e43\",\n    900: \"#001c16\",\n  },\n  purple: {\n    50: \"#f4e3ff\",\n    100: \"#d5b2ff\",\n    200: \"#b87fff\",\n    300: \"#9b4cff\",\n    400: \"#7e1aff\",\n    500: \"#6500e6\", // base\n    600: \"#4e00b4\",\n    700: \"#380082\",\n    800: \"#220050\",\n    900: \"#0d0020\",\n  },\n  gold: {\n    50: \"#fff6e1\",\n    100: \"#fbe5b7\",\n    200: \"#f7d38a\",\n    300: \"#f4c25c\",\n    400: \"#f1b030\",\n    500: \"#d7971b\", // base\n    600: \"#a77513\",\n    700: \"#77540c\",\n    800: \"#483204\",\n    900: \"#1a1100\",\n  },\n}\n\nconst fonts = {\n  body: \"Neue Machina, sans-serif\",\n  heading: \"Neue Machina, sans-serif\",\n  mono: \"Neue Machina, sans-serif\",\n}\n\nconst overrides = { config, colors, fonts, components }\n\nexport default extendTheme(overrides)\n","import Button from \"./button\"\nimport Input from \"./input\"\nimport Tabs from \"./tabs\"\nexport default {\n  Button,\n  Tabs,\n  Input,\n}\n","import {\n  CSSWithMultiValues,\n  RecursiveCSSObject,\n} from \"@chakra-ui/styled-system\"\nimport { Dict } from \"@chakra-ui/utils\"\nimport { transparentize } from \"@chakra-ui/theme-tools\"\n\nconst variantPrimary = (\n  props: Dict,\n): RecursiveCSSObject<CSSWithMultiValues> => {\n  const darkMode = props.colorMode === \"dark\"\n  const transparentColor = transparentize(\n    darkMode ? \"gray.300\" : \"gray.100\",\n    0.7,\n  )(props.theme)\n  const disableBg = transparentize(\n    darkMode ? \"#1c1d21\" : \"#cc3a59\",\n    1,\n  )(props.theme)\n  const boxShadowHover = darkMode\n    ? \"2px 2px 12px rgba(68, 64, 64, 0.14)\"\n    : \"0px 7px 12px rgba(68, 64, 64, 0.3)\"\n  const disabled = {\n    color: transparentColor,\n    border: \"none\",\n    cursor: \"not-allowed\",\n    boxShadow: \"none\",\n    bg: disableBg,\n  }\n\n  return {\n    color: darkMode ? \"#000000\" : \"#ffffff\",\n    borderRadius: \"10px\",\n    bg: darkMode\n      ? \"linear-gradient(95deg, #cc3a59, #791038)\"\n      : \"linear-gradient(195deg, #f7819a, #cc3a59)\",\n    letterSpacing: \"0.02em\",\n    fontWeight: \"700\",\n    padding: \"1px 6px\",\n    _hover: {\n      color: \"#ffffff\",\n      bg: \"linear-gradient(195deg, #cc3a59, #d63255)\",\n      boxShadow: boxShadowHover,\n      _disabled: disabled,\n    },\n    _active: {\n      color: \"#ffffff\",\n      bg: \"#cc3a59\",\n    },\n    _disabled: disabled,\n    _focus: {\n      boxShadow: \"none\",\n    },\n  }\n}\n\nconst variantLight = (props: Dict): RecursiveCSSObject<CSSWithMultiValues> => {\n  const transparentColor = transparentize(\"gray.500\", 0.6)(props.theme)\n  const disableBg = transparentize(\"#cc3a59\", 0.2)(props.theme)\n  const darkMode = props.colorMode === \"dark\"\n  const boxShadowHover =\n    props.colorMode === \"light\"\n      ? \"0px 7px 12px rgba(68, 64, 64, 0.3)\"\n      : \"2px 2px 12px rgba(68, 64, 64, 0.14)\"\n  const disabled = {\n    opacity: \"1\",\n    color: transparentColor,\n    border: \"none\",\n    cursor: \"not-allowed\",\n    boxShadow: \"none\",\n    bg: disableBg,\n  }\n  return {\n    color: darkMode ? \"#000000\" : \"#ffffff\",\n    borderRadius: \"full\",\n    fontSize: \"13px\",\n    width: \"75px\",\n    letterSpacing: \"0.02em\",\n    fontWeight: \"700\",\n    padding: \"1px 6px\",\n    border: \"none\",\n    bg: \"#cc3a59\",\n    _hover: {\n      color: \"#ffffff\",\n      bg: \"#d63255\",\n      boxShadow: boxShadowHover,\n      _disabled: disabled,\n    },\n    _disabled: disabled,\n    _focus: {\n      boxShadow: \"none\",\n    },\n  }\n}\n\nconst variantOuline = (props: Dict): RecursiveCSSObject<CSSWithMultiValues> => {\n  const darkMode = props.colorMode === \"dark\"\n\n  return {\n    borderRadius: \"10px\",\n    borderColor: darkMode\n      ? \"var(--chakra-colors-whiteAlpha-300)\"\n      : \"var(--chakra-colors-blackAlpha-400)\",\n    _hover: {\n      bg: darkMode\n        ? \"var(--chakra-colors-whiteAlpha-200)\"\n        : \"var(--chakra-colors-whiteAlpha-500)\",\n    },\n    _focus: {\n      boxShadow: \"none\",\n    },\n    _active: {\n      bg: darkMode\n        ? \"var(--chakra-colors-whiteAlpha-300)\"\n        : \"var(--chakra-colors-whiteAlpha-600)\",\n    },\n  }\n}\n\nconst variants = {\n  primary: variantPrimary,\n  light: variantLight,\n  outline: variantOuline,\n}\nexport default { variants }\n","import {\n  CSSWithMultiValues,\n  RecursiveCSSObject,\n} from \"@chakra-ui/styled-system\"\nimport { Dict } from \"@chakra-ui/utils\"\n\nconst variantPrimary = (\n  props: Dict,\n): RecursiveCSSObject<CSSWithMultiValues> => {\n  const darkMode = props.colorMode === \"dark\"\n  return {\n    tab: {\n      borderRadius: \"full\",\n      fontWeight: \"semibold\",\n      color: \"grey\",\n      bg: darkMode ? \"rgba(28, 29, 33, 0.4)\" : \"rgba(245, 239, 239, 0.8)\",\n      _selected: {\n        color: darkMode ? \"#000000\" : \"#ffffff\",\n        bg: darkMode\n          ? \"linear-gradient(95deg, #cc3a59, #791038)\"\n          : \"linear-gradient(195deg, #f7819a, #cc3a59)\",\n      },\n      _active: {\n        color: darkMode ? \"#000000\" : \"#ffffff\",\n        bg: darkMode\n          ? \"linear-gradient(95deg, #cc3a59, #791038)\"\n          : \"linear-gradient(195deg, #f7819a, #cc3a59)\",\n      },\n      _focus: {\n        boxShadow: \"none\",\n      },\n    },\n  }\n}\nconst variants = {\n  primary: variantPrimary,\n}\nexport default { variants }\n","import {\n  CSSWithMultiValues,\n  RecursiveCSSObject,\n} from \"@chakra-ui/styled-system\"\nimport { Dict } from \"@chakra-ui/utils\"\n\nconst variantPrimary = (\n  props: Dict,\n): RecursiveCSSObject<CSSWithMultiValues> => {\n  const hasErrorColor = props.isInvalid ? \"#cc3a59\" : \"#4BB543\"\n  const darkMode = props.colorMode === \"dark\"\n  return {\n    field: {\n      borderBottom: \"2px solid\",\n      borderColor: hasErrorColor,\n      borderRadius: \"10px\",\n      px: 0,\n      bg: darkMode ? \"rgb(28, 29, 33)\" : \"rgb(240, 231, 234)\",\n      _hover: {\n        bg: darkMode ? \"rgb(31, 32, 36)\" : \"rgb(244, 235, 239)\",\n      },\n      _readOnly: {\n        boxShadow: \"none !important\",\n        userSelect: \"all\",\n      },\n      _invalid: {\n        borderColor: \"#cc3a59 !important\",\n        boxShadow: `0px 1px 0px 0px #cc3a59`,\n      },\n      _focus: {\n        borderColor: hasErrorColor,\n        boxShadow: `0px 1px 0px 0px ${hasErrorColor}`,\n      },\n    },\n  }\n}\n\nconst variantOuline = (props: Dict): RecursiveCSSObject<CSSWithMultiValues> => {\n  const darkMode = props.colorMode === \"dark\"\n\n  return {\n    field: {\n      borderColor: darkMode ? \"var(--chakra-colors-whiteAlpha-300)\" : \"#555555\",\n      _focus: {\n        boxShadow: \"none\",\n        borderColor: darkMode ? \"#cc3a59\" : \"#881f36\",\n      },\n      _hover: {\n        borderColor: darkMode ? \"var(--chakra-colors-whiteAlpha-400)\" : \"#000\",\n      },\n    },\n  }\n}\n\nconst variants = {\n  primary: variantPrimary,\n  outline: variantOuline,\n}\nexport default { variants }\n","import { configureStore, getDefaultMiddleware } from \"@reduxjs/toolkit\"\nimport { load, save } from \"redux-localstorage-simple\"\nimport user, { initialState as userInitialState } from \"./user\"\n\nimport application from \"./application\"\nimport { merge } from \"lodash\"\n\nconst PERSISTED_KEYS: string[] = [\"user\"]\nconst stateFromStorage = load({\n  states: PERSISTED_KEYS,\n})\nconst store = configureStore({\n  reducer: {\n    application,\n    user,\n  },\n  middleware: [\n    ...getDefaultMiddleware({ thunk: false }),\n    save({ states: PERSISTED_KEYS }),\n  ],\n  preloadedState: merge({}, { user: userInitialState }, stateFromStorage),\n})\n\nexport default store\n\nexport type AppState = ReturnType<typeof store.getState>\nexport type AppDispatch = typeof store.dispatch\n","import \"./index.css\"\nimport \"./i18n\"\n\nimport { ChakraProvider, ColorModeScript } from \"@chakra-ui/react\"\nimport { Chart, registerables } from \"chart.js\"\nimport { Web3ReactProvider, createWeb3ReactRoot } from \"@web3-react/core\"\n// import { logError, sendWebVitalsToGA } from \"./utils/googleAnalytics\"\n\nimport App from \"./pages/App\"\nimport { NetworkContextName } from \"./constants\"\nimport { Provider } from \"react-redux\"\nimport React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport { HashRouter as Router } from \"react-router-dom\"\nimport chakraTheme from \"./theme/\"\nimport getLibrary from \"./utils/getLibrary\"\nimport { getNetworkLibrary } from \"./connectors\"\n// import reportWebVitals from \"./reportWebVitals\"\nimport store from \"./state\"\n\nconst Web3ProviderNetwork = createWeb3ReactRoot(NetworkContextName)\n\nif (window && window.ethereum) {\n  window.ethereum.autoRefreshOnNetworkChange = false\n}\n\nChart.register(...registerables)\n\n// window.addEventListener(\"error\", logError)\n\nReactDOM.render(\n  <>\n    <ColorModeScript initialColorMode={chakraTheme.config.initialColorMode} />\n    <React.StrictMode>\n      <ChakraProvider theme={chakraTheme}>\n        <Web3ReactProvider getLibrary={getLibrary}>\n          <Web3ProviderNetwork getLibrary={getNetworkLibrary}>\n            <Provider store={store}>\n              <Router>\n                <App />\n              </Router>\n            </Provider>\n          </Web3ProviderNetwork>\n        </Web3ReactProvider>\n      </ChakraProvider>\n    </React.StrictMode>\n  </>,\n  document.getElementById(\"root\"),\n)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals(sendWebVitalsToGA)\n","import {\n  ExternalProvider,\n  JsonRpcFetchFunc,\n  Web3Provider,\n} from \"@ethersproject/providers\"\n\nexport default function getLibrary(\n  provider: ExternalProvider | JsonRpcFetchFunc,\n): Web3Provider {\n  const library = new Web3Provider(provider, \"any\")\n  library.pollingInterval = 15000\n  return library\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"farmsOverview\":\"FarmsOverview_farmsOverview__2ATuF\",\"container\":\"FarmsOverview_container__1J_4t\",\"row\":\"FarmsOverview_row__1trVu\",\"balanceInfo\":\"FarmsOverview_balanceInfo__2TGwi\",\"tokenBalanceText\":\"FarmsOverview_tokenBalanceText__r01g_\",\"tokenBalanceValue\":\"FarmsOverview_tokenBalanceValue__qttkP\",\"title\":\"FarmsOverview_title__-RsYJ\",\"underline\":\"FarmsOverview_underline__3khnD\",\"titleBox\":\"FarmsOverview_titleBox__132G0\",\"farmDescription\":\"FarmsOverview_farmDescription__2O168\",\"farmButton\":\"FarmsOverview_farmButton__sy_Dw\",\"tag\":\"FarmsOverview_tag__1Y3pd\",\"rose\":\"FarmsOverview_rose__dcjF1\",\"stats\":\"FarmsOverview_stats__3LOvd\",\"label\":\"FarmsOverview_label__1h1zj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"stakeDetails\":\"StakeDetails_stakeDetails__2_FZu\",\"icon\":\"StakeDetails_icon__2_MEW\",\"row\":\"StakeDetails_row__11zH3\",\"balanceDetails\":\"StakeDetails_balanceDetails__2VWa9\",\"balance\":\"StakeDetails_balance__1ZeHM\",\"token\":\"StakeDetails_token__1iAMP\",\"underline\":\"StakeDetails_underline__2il1I\",\"statsDetails\":\"StakeDetails_statsDetails__3Qqh-\",\"statValue\":\"StakeDetails_statValue__JQ2Ha\",\"statRow\":\"StakeDetails_statRow__1VW0E\",\"title\":\"StakeDetails_title__1sH1S\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"stakePage\":\"StakePage_stakePage__2zyVB\",\"stakeDetailsContainer\":\"StakePage_stakeDetailsContainer__3tZ8E\",\"titleWrapper\":\"StakePage_titleWrapper__3QRTm\",\"row\":\"StakePage_row__3UjyW\",\"timeLeftTitle\":\"StakePage_timeLeftTitle__1E808\",\"underline\":\"StakePage_underline__2lSq_\",\"stakeForm\":\"StakePage_stakeForm__ttlR0\",\"pill\":\"StakePage_pill__Wrgvs\",\"colorPill\":\"StakePage_colorPill__3oRte\",\"glowPill\":\"StakePage_glowPill__1utNw\",\"Gradient\":\"StakePage_Gradient__FJxBY\",\"stakeTitle\":\"StakePage_stakeTitle__1IMYG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchSelect\":\"SearchSelect_searchSelect__3-dqN\",\"inputContainer\":\"SearchSelect_inputContainer__3SNHV\",\"listItem\":\"SearchSelect_listItem__1CllM\",\"isAvailable\":\"SearchSelect_isAvailable__2Em7v\",\"isActive\":\"SearchSelect_isActive__3cQyt\",\"isUnavailable\":\"SearchSelect_isUnavailable__f6IC0\",\"textMinor\":\"SearchSelect_textMinor__1IGJw\",\"tagWrapper\":\"SearchSelect_tagWrapper__Tp0fP\",\"unavailableTag\":\"SearchSelect_unavailableTag__2Y6kz\",\"virtualSwapTag\":\"SearchSelect_virtualSwapTag__1M9ds\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"swapInputContainer\":\"SwapInput_swapInputContainer__3fcf9\",\"selectGroup\":\"SwapInput_selectGroup__1KYi9\",\"hoverPointer\":\"SwapInput_hoverPointer__3yvrh\",\"tokenNameContainer\":\"SwapInput_tokenNameContainer__2Iyjl\",\"symbolArrowContainer\":\"SwapInput_symbolArrowContainer__3wOaO\",\"inputGroup\":\"SwapInput_inputGroup__1Vc_5\",\"focusable\":\"SwapInput_focusable__3YuxK\",\"textBoldPurple\":\"SwapInput_textBoldPurple__1SxCI\",\"dropdownContainer\":\"SwapInput_dropdownContainer__1LBIm\",\"textMinor\":\"SwapInput_textMinor__3CFpR\"};"],"sourceRoot":""}